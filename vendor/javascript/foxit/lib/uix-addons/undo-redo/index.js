!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("UIExtension")):"function"==typeof define&&define.amd?define(["UIExtension"],n):"object"==typeof exports?exports.UndoRedoAddon=n(require("UIExtension")):t.UndoRedoAddon=n(t.UIExtension)}(self,(function(t){return function(){var n={1843:function(t){t.exports=null},9662:function(t,n,e){var r=e(614),o=e(6330),i=TypeError;t.exports=function(t){if(r(t))return t;throw i(o(t)+" is not a function")}},9483:function(t,n,e){var r=e(4411),o=e(6330),i=TypeError;t.exports=function(t){if(r(t))return t;throw i(o(t)+" is not a constructor")}},6077:function(t,n,e){var r=e(614),o=String,i=TypeError;t.exports=function(t){if("object"==typeof t||r(t))return t;throw i("Can't set "+o(t)+" as a prototype")}},1223:function(t,n,e){var r=e(5112),o=e(30),i=e(3070).f,a=r("unscopables"),u=Array.prototype;null==u[a]&&i(u,a,{configurable:!0,value:o(null)}),t.exports=function(t){u[a][t]=!0}},1530:function(t,n,e){"use strict";var r=e(8710).charAt;t.exports=function(t,n,e){return n+(e?r(t,n).length:1)}},5787:function(t,n,e){var r=e(7976),o=TypeError;t.exports=function(t,n){if(r(n,t))return t;throw o("Incorrect invocation")}},9670:function(t,n,e){var r=e(111),o=String,i=TypeError;t.exports=function(t){if(r(t))return t;throw i(o(t)+" is not an object")}},1285:function(t,n,e){"use strict";var r=e(7908),o=e(1400),i=e(6244);t.exports=function(t){for(var n=r(this),e=i(n),a=arguments.length,u=o(a>1?arguments[1]:void 0,e),c=a>2?arguments[2]:void 0,s=void 0===c?e:o(c,e);s>u;)n[u++]=t;return n}},8533:function(t,n,e){"use strict";var r=e(2092).forEach,o=e(9341)("forEach");t.exports=o?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},1318:function(t,n,e){var r=e(5656),o=e(1400),i=e(6244),a=function(t){return function(n,e,a){var u,c=r(n),s=i(c),f=o(a,s);if(t&&e!=e){for(;s>f;)if((u=c[f++])!=u)return!0}else for(;s>f;f++)if((t||f in c)&&c[f]===e)return t||f||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},2092:function(t,n,e){var r=e(9974),o=e(1702),i=e(8361),a=e(7908),u=e(6244),c=e(5417),s=o([].push),f=function(t){var n=1==t,e=2==t,o=3==t,f=4==t,l=6==t,p=7==t,d=5==t||l;return function(v,h,y,g){for(var b,m,E=a(v),T=i(E),S=r(h,y),x=u(T),A=0,O=g||c,w=n?O(v,x):e||p?O(v,0):void 0;x>A;A++)if((d||A in T)&&(m=S(b=T[A],A,E),t))if(n)w[A]=m;else if(m)switch(t){case 3:return!0;case 5:return b;case 6:return A;case 2:s(w,b)}else switch(t){case 4:return!1;case 7:s(w,b)}return l?-1:o||f?f:w}};t.exports={forEach:f(0),map:f(1),filter:f(2),some:f(3),every:f(4),find:f(5),findIndex:f(6),filterReject:f(7)}},1194:function(t,n,e){var r=e(7293),o=e(5112),i=e(7392),a=o("species");t.exports=function(t){return i>=51||!r((function(){var n=[];return(n.constructor={})[a]=function(){return{foo:1}},1!==n[t](Boolean).foo}))}},9341:function(t,n,e){"use strict";var r=e(7293);t.exports=function(t,n){var e=[][t];return!!e&&r((function(){e.call(null,n||function(){return 1},1)}))}},3658:function(t,n,e){"use strict";var r=e(9781),o=e(3157),i=TypeError,a=Object.getOwnPropertyDescriptor,u=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=u?function(t,n){if(o(t)&&!a(t,"length").writable)throw i("Cannot set read only .length");return t.length=n}:function(t,n){return t.length=n}},1589:function(t,n,e){var r=e(1400),o=e(6244),i=e(6135),a=Array,u=Math.max;t.exports=function(t,n,e){for(var c=o(t),s=r(n,c),f=r(void 0===e?c:e,c),l=a(u(f-s,0)),p=0;s<f;s++,p++)i(l,p,t[s]);return l.length=p,l}},206:function(t,n,e){var r=e(1702);t.exports=r([].slice)},7475:function(t,n,e){var r=e(3157),o=e(4411),i=e(111),a=e(5112)("species"),u=Array;t.exports=function(t){var n;return r(t)&&(n=t.constructor,(o(n)&&(n===u||r(n.prototype))||i(n)&&null===(n=n[a]))&&(n=void 0)),void 0===n?u:n}},5417:function(t,n,e){var r=e(7475);t.exports=function(t,n){return new(r(t))(0===n?0:n)}},7072:function(t,n,e){var r=e(5112)("iterator"),o=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){o=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,n){if(!n&&!o)return!1;var e=!1;try{var i={};i[r]=function(){return{next:function(){return{done:e=!0}}}},t(i)}catch(t){}return e}},4326:function(t,n,e){var r=e(1702),o=r({}.toString),i=r("".slice);t.exports=function(t){return i(o(t),8,-1)}},648:function(t,n,e){var r=e(1694),o=e(614),i=e(4326),a=e(5112)("toStringTag"),u=Object,c="Arguments"==i(function(){return arguments}());t.exports=r?i:function(t){var n,e,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=function(t,n){try{return t[n]}catch(t){}}(n=u(t),a))?e:c?i(n):"Object"==(r=i(n))&&o(n.callee)?"Arguments":r}},9920:function(t,n,e){var r=e(2597),o=e(3887),i=e(1236),a=e(3070);t.exports=function(t,n,e){for(var u=o(n),c=a.f,s=i.f,f=0;f<u.length;f++){var l=u[f];r(t,l)||e&&r(e,l)||c(t,l,s(n,l))}}},8544:function(t,n,e){var r=e(7293);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},4230:function(t,n,e){var r=e(1702),o=e(4488),i=e(1340),a=/"/g,u=r("".replace);t.exports=function(t,n,e,r){var c=i(o(t)),s="<"+n;return""!==e&&(s+=" "+e+'="'+u(i(r),a,"&quot;")+'"'),s+">"+c+"</"+n+">"}},6178:function(t){t.exports=function(t,n){return{value:t,done:n}}},8880:function(t,n,e){var r=e(9781),o=e(3070),i=e(9114);t.exports=r?function(t,n,e){return o.f(t,n,i(1,e))}:function(t,n,e){return t[n]=e,t}},9114:function(t){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},6135:function(t,n,e){"use strict";var r=e(4948),o=e(3070),i=e(9114);t.exports=function(t,n,e){var a=r(n);a in t?o.f(t,a,i(0,e)):t[a]=e}},7045:function(t,n,e){var r=e(6339),o=e(3070);t.exports=function(t,n,e){return e.get&&r(e.get,n,{getter:!0}),e.set&&r(e.set,n,{setter:!0}),o.f(t,n,e)}},8052:function(t,n,e){var r=e(614),o=e(3070),i=e(6339),a=e(3072);t.exports=function(t,n,e,u){u||(u={});var c=u.enumerable,s=void 0!==u.name?u.name:n;if(r(e)&&i(e,s,u),u.global)c?t[n]=e:a(n,e);else{try{u.unsafe?t[n]&&(c=!0):delete t[n]}catch(t){}c?t[n]=e:o.f(t,n,{value:e,enumerable:!1,configurable:!u.nonConfigurable,writable:!u.nonWritable})}return t}},3072:function(t,n,e){var r=e(7854),o=Object.defineProperty;t.exports=function(t,n){try{o(r,t,{value:n,configurable:!0,writable:!0})}catch(e){r[t]=n}return n}},5117:function(t,n,e){"use strict";var r=e(6330),o=TypeError;t.exports=function(t,n){if(!delete t[n])throw o("Cannot delete property "+r(n)+" of "+r(t))}},9781:function(t,n,e){var r=e(7293);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4154:function(t){var n="object"==typeof document&&document.all,e=void 0===n&&void 0!==n;t.exports={all:n,IS_HTMLDDA:e}},317:function(t,n,e){var r=e(7854),o=e(111),i=r.document,a=o(i)&&o(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},7207:function(t){var n=TypeError;t.exports=function(t){if(t>9007199254740991)throw n("Maximum allowed index exceeded");return t}},8324:function(t){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8509:function(t,n,e){var r=e(317)("span").classList,o=r&&r.constructor&&r.constructor.prototype;t.exports=o===Object.prototype?void 0:o},7871:function(t,n,e){var r=e(3823),o=e(5268);t.exports=!r&&!o&&"object"==typeof window&&"object"==typeof document},3823:function(t){t.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},1528:function(t,n,e){var r=e(8113);t.exports=/ipad|iphone|ipod/i.test(r)&&"undefined"!=typeof Pebble},6833:function(t,n,e){var r=e(8113);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},5268:function(t,n,e){var r=e(4326);t.exports="undefined"!=typeof process&&"process"==r(process)},1036:function(t,n,e){var r=e(8113);t.exports=/web0s(?!.*chrome)/i.test(r)},8113:function(t){t.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},7392:function(t,n,e){var r,o,i=e(7854),a=e(8113),u=i.process,c=i.Deno,s=u&&u.versions||c&&c.version,f=s&&s.v8;f&&(o=(r=f.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!o&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(o=+r[1]),t.exports=o},748:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:function(t,n,e){var r=e(7854),o=e(1236).f,i=e(8880),a=e(8052),u=e(3072),c=e(9920),s=e(4705);t.exports=function(t,n){var e,f,l,p,d,v=t.target,h=t.global,y=t.stat;if(e=h?r:y?r[v]||u(v,{}):(r[v]||{}).prototype)for(f in n){if(p=n[f],l=t.dontCallGetSet?(d=o(e,f))&&d.value:e[f],!s(h?f:v+(y?".":"#")+f,t.forced)&&void 0!==l){if(typeof p==typeof l)continue;c(p,l)}(t.sham||l&&l.sham)&&i(p,"sham",!0),a(e,f,p,t)}}},7293:function(t){t.exports=function(t){try{return!!t()}catch(t){return!0}}},7007:function(t,n,e){"use strict";e(4916);var r=e(1470),o=e(8052),i=e(2261),a=e(7293),u=e(5112),c=e(8880),s=u("species"),f=RegExp.prototype;t.exports=function(t,n,e,l){var p=u(t),d=!a((function(){var n={};return n[p]=function(){return 7},7!=""[t](n)})),v=d&&!a((function(){var n=!1,e=/a/;return"split"===t&&((e={}).constructor={},e.constructor[s]=function(){return e},e.flags="",e[p]=/./[p]),e.exec=function(){return n=!0,null},e[p](""),!n}));if(!d||!v||e){var h=r(/./[p]),y=n(p,""[t],(function(t,n,e,o,a){var u=r(t),c=n.exec;return c===i||c===f.exec?d&&!a?{done:!0,value:h(n,e,o)}:{done:!0,value:u(e,n,o)}:{done:!1}}));o(String.prototype,t,y[0]),o(f,p,y[1])}l&&c(f[p],"sham",!0)}},2104:function(t,n,e){var r=e(4374),o=Function.prototype,i=o.apply,a=o.call;t.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(i):function(){return a.apply(i,arguments)})},9974:function(t,n,e){var r=e(1470),o=e(9662),i=e(4374),a=r(r.bind);t.exports=function(t,n){return o(t),void 0===n?t:i?a(t,n):function(){return t.apply(n,arguments)}}},4374:function(t,n,e){var r=e(7293);t.exports=!r((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},6916:function(t,n,e){var r=e(4374),o=Function.prototype.call;t.exports=r?o.bind(o):function(){return o.apply(o,arguments)}},6530:function(t,n,e){var r=e(9781),o=e(2597),i=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,u=o(i,"name"),c=u&&"something"===function(){}.name,s=u&&(!r||r&&a(i,"name").configurable);t.exports={EXISTS:u,PROPER:c,CONFIGURABLE:s}},5668:function(t,n,e){var r=e(1702),o=e(9662);t.exports=function(t,n,e){try{return r(o(Object.getOwnPropertyDescriptor(t,n)[e]))}catch(t){}}},1470:function(t,n,e){var r=e(4326),o=e(1702);t.exports=function(t){if("Function"===r(t))return o(t)}},1702:function(t,n,e){var r=e(4374),o=Function.prototype,i=o.call,a=r&&o.bind.bind(i,i);t.exports=r?a:function(t){return function(){return i.apply(t,arguments)}}},5005:function(t,n,e){var r=e(7854),o=e(614),i=function(t){return o(t)?t:void 0};t.exports=function(t,n){return arguments.length<2?i(r[t]):r[t]&&r[t][n]}},1246:function(t,n,e){var r=e(648),o=e(8173),i=e(8554),a=e(7497),u=e(5112)("iterator");t.exports=function(t){if(!i(t))return o(t,u)||o(t,"@@iterator")||a[r(t)]}},4121:function(t,n,e){var r=e(6916),o=e(9662),i=e(9670),a=e(6330),u=e(1246),c=TypeError;t.exports=function(t,n){var e=arguments.length<2?u(t):n;if(o(e))return i(r(e,t));throw c(a(t)+" is not iterable")}},8044:function(t,n,e){var r=e(1702),o=e(3157),i=e(614),a=e(4326),u=e(1340),c=r([].push);t.exports=function(t){if(i(t))return t;if(o(t)){for(var n=t.length,e=[],r=0;r<n;r++){var s=t[r];"string"==typeof s?c(e,s):"number"!=typeof s&&"Number"!=a(s)&&"String"!=a(s)||c(e,u(s))}var f=e.length,l=!0;return function(t,n){if(l)return l=!1,n;if(o(this))return n;for(var r=0;r<f;r++)if(e[r]===t)return n}}}},8173:function(t,n,e){var r=e(9662),o=e(8554);t.exports=function(t,n){var e=t[n];return o(e)?void 0:r(e)}},647:function(t,n,e){var r=e(1702),o=e(7908),i=Math.floor,a=r("".charAt),u=r("".replace),c=r("".slice),s=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,f=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,n,e,r,l,p){var d=e+t.length,v=r.length,h=f;return void 0!==l&&(l=o(l),h=s),u(p,h,(function(o,u){var s;switch(a(u,0)){case"$":return"$";case"&":return t;case"`":return c(n,0,e);case"'":return c(n,d);case"<":s=l[c(u,1,-1)];break;default:var f=+u;if(0===f)return o;if(f>v){var p=i(f/10);return 0===p?o:p<=v?void 0===r[p-1]?a(u,1):r[p-1]+a(u,1):o}s=r[f-1]}return void 0===s?"":s}))}},7854:function(t,n,e){var r=function(t){return t&&t.Math==Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof e.g&&e.g)||function(){return this}()||Function("return this")()},2597:function(t,n,e){var r=e(1702),o=e(7908),i=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,n){return i(o(t),n)}},3501:function(t){t.exports={}},842:function(t){t.exports=function(t,n){try{1==arguments.length?console.error(t):console.error(t,n)}catch(t){}}},490:function(t,n,e){var r=e(5005);t.exports=r("document","documentElement")},4664:function(t,n,e){var r=e(9781),o=e(7293),i=e(317);t.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},8361:function(t,n,e){var r=e(1702),o=e(7293),i=e(4326),a=Object,u=r("".split);t.exports=o((function(){return!a("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?u(t,""):a(t)}:a},2788:function(t,n,e){var r=e(1702),o=e(614),i=e(5465),a=r(Function.toString);o(i.inspectSource)||(i.inspectSource=function(t){return a(t)}),t.exports=i.inspectSource},9909:function(t,n,e){var r,o,i,a=e(4811),u=e(7854),c=e(111),s=e(8880),f=e(2597),l=e(5465),p=e(6200),d=e(3501),v="Object already initialized",h=u.TypeError,y=u.WeakMap;if(a||l.state){var g=l.state||(l.state=new y);g.get=g.get,g.has=g.has,g.set=g.set,r=function(t,n){if(g.has(t))throw h(v);return n.facade=t,g.set(t,n),n},o=function(t){return g.get(t)||{}},i=function(t){return g.has(t)}}else{var b=p("state");d[b]=!0,r=function(t,n){if(f(t,b))throw h(v);return n.facade=t,s(t,b,n),n},o=function(t){return f(t,b)?t[b]:{}},i=function(t){return f(t,b)}}t.exports={set:r,get:o,has:i,enforce:function(t){return i(t)?o(t):r(t,{})},getterFor:function(t){return function(n){var e;if(!c(n)||(e=o(n)).type!==t)throw h("Incompatible receiver, "+t+" required");return e}}}},7659:function(t,n,e){var r=e(5112),o=e(7497),i=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||a[i]===t)}},3157:function(t,n,e){var r=e(4326);t.exports=Array.isArray||function(t){return"Array"==r(t)}},614:function(t,n,e){var r=e(4154),o=r.all;t.exports=r.IS_HTMLDDA?function(t){return"function"==typeof t||t===o}:function(t){return"function"==typeof t}},4411:function(t,n,e){var r=e(1702),o=e(7293),i=e(614),a=e(648),u=e(5005),c=e(2788),s=function(){},f=[],l=u("Reflect","construct"),p=/^\s*(?:class|function)\b/,d=r(p.exec),v=!p.exec(s),h=function(t){if(!i(t))return!1;try{return l(s,f,t),!0}catch(t){return!1}},y=function(t){if(!i(t))return!1;switch(a(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return v||!!d(p,c(t))}catch(t){return!0}};y.sham=!0,t.exports=!l||o((function(){var t;return h(h.call)||!h(Object)||!h((function(){t=!0}))||t}))?y:h},4705:function(t,n,e){var r=e(7293),o=e(614),i=/#|\.prototype\./,a=function(t,n){var e=c[u(t)];return e==f||e!=s&&(o(n)?r(n):!!n)},u=a.normalize=function(t){return String(t).replace(i,".").toLowerCase()},c=a.data={},s=a.NATIVE="N",f=a.POLYFILL="P";t.exports=a},8554:function(t){t.exports=function(t){return null==t}},111:function(t,n,e){var r=e(614),o=e(4154),i=o.all;t.exports=o.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:r(t)||t===i}:function(t){return"object"==typeof t?null!==t:r(t)}},1913:function(t){t.exports=!1},2190:function(t,n,e){var r=e(5005),o=e(614),i=e(7976),a=e(3307),u=Object;t.exports=a?function(t){return"symbol"==typeof t}:function(t){var n=r("Symbol");return o(n)&&i(n.prototype,u(t))}},408:function(t,n,e){var r=e(9974),o=e(6916),i=e(9670),a=e(6330),u=e(7659),c=e(6244),s=e(7976),f=e(4121),l=e(1246),p=e(9212),d=TypeError,v=function(t,n){this.stopped=t,this.result=n},h=v.prototype;t.exports=function(t,n,e){var y,g,b,m,E,T,S,x=e&&e.that,A=!(!e||!e.AS_ENTRIES),O=!(!e||!e.IS_RECORD),w=!(!e||!e.IS_ITERATOR),R=!(!e||!e.INTERRUPTED),N=r(n,x),j=function(t){return y&&p(y,"normal",t),new v(!0,t)},P=function(t){return A?(i(t),R?N(t[0],t[1],j):N(t[0],t[1])):R?N(t,j):N(t)};if(O)y=t.iterator;else if(w)y=t;else{if(!(g=l(t)))throw d(a(t)+" is not iterable");if(u(g)){for(b=0,m=c(t);m>b;b++)if((E=P(t[b]))&&s(h,E))return E;return new v(!1)}y=f(t,g)}for(T=O?t.next:y.next;!(S=o(T,y)).done;){try{E=P(S.value)}catch(t){p(y,"throw",t)}if("object"==typeof E&&E&&s(h,E))return E}return new v(!1)}},9212:function(t,n,e){var r=e(6916),o=e(9670),i=e(8173);t.exports=function(t,n,e){var a,u;o(t);try{if(!(a=i(t,"return"))){if("throw"===n)throw e;return e}a=r(a,t)}catch(t){u=!0,a=t}if("throw"===n)throw e;if(u)throw a;return o(a),e}},3061:function(t,n,e){"use strict";var r=e(3383).IteratorPrototype,o=e(30),i=e(9114),a=e(8003),u=e(7497),c=function(){return this};t.exports=function(t,n,e,s){var f=n+" Iterator";return t.prototype=o(r,{next:i(+!s,e)}),a(t,f,!1,!0),u[f]=c,t}},1656:function(t,n,e){"use strict";var r=e(2109),o=e(6916),i=e(1913),a=e(6530),u=e(614),c=e(3061),s=e(9518),f=e(7674),l=e(8003),p=e(8880),d=e(8052),v=e(5112),h=e(7497),y=e(3383),g=a.PROPER,b=a.CONFIGURABLE,m=y.IteratorPrototype,E=y.BUGGY_SAFARI_ITERATORS,T=v("iterator"),S="keys",x="values",A="entries",O=function(){return this};t.exports=function(t,n,e,a,v,y,w){c(e,n,a);var R,N,j,P=function(t){if(t===v&&L)return L;if(!E&&t in D)return D[t];switch(t){case S:case x:case A:return function(){return new e(this,t)}}return function(){return new e(this)}},I=n+" Iterator",C=!1,D=t.prototype,k=D[T]||D["@@iterator"]||v&&D[v],L=!E&&k||P(v),_="Array"==n&&D.entries||k;if(_&&(R=s(_.call(new t)))!==Object.prototype&&R.next&&(i||s(R)===m||(f?f(R,m):u(R[T])||d(R,T,O)),l(R,I,!0,!0),i&&(h[I]=O)),g&&v==x&&k&&k.name!==x&&(!i&&b?p(D,"name",x):(C=!0,L=function(){return o(k,this)})),v)if(N={values:P(x),keys:y?L:P(S),entries:P(A)},w)for(j in N)(E||C||!(j in D))&&d(D,j,N[j]);else r({target:n,proto:!0,forced:E||C},N);return i&&!w||D[T]===L||d(D,T,L,{name:v}),h[n]=L,N}},3383:function(t,n,e){"use strict";var r,o,i,a=e(7293),u=e(614),c=e(111),s=e(30),f=e(9518),l=e(8052),p=e(5112),d=e(1913),v=p("iterator"),h=!1;[].keys&&("next"in(i=[].keys())?(o=f(f(i)))!==Object.prototype&&(r=o):h=!0),!c(r)||a((function(){var t={};return r[v].call(t)!==t}))?r={}:d&&(r=s(r)),u(r[v])||l(r,v,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:h}},7497:function(t){t.exports={}},6244:function(t,n,e){var r=e(7466);t.exports=function(t){return r(t.length)}},6339:function(t,n,e){var r=e(1702),o=e(7293),i=e(614),a=e(2597),u=e(9781),c=e(6530).CONFIGURABLE,s=e(2788),f=e(9909),l=f.enforce,p=f.get,d=String,v=Object.defineProperty,h=r("".slice),y=r("".replace),g=r([].join),b=u&&!o((function(){return 8!==v((function(){}),"length",{value:8}).length})),m=String(String).split("String"),E=t.exports=function(t,n,e){"Symbol("===h(d(n),0,7)&&(n="["+y(d(n),/^Symbol\(([^)]*)\)/,"$1")+"]"),e&&e.getter&&(n="get "+n),e&&e.setter&&(n="set "+n),(!a(t,"name")||c&&t.name!==n)&&(u?v(t,"name",{value:n,configurable:!0}):t.name=n),b&&e&&a(e,"arity")&&t.length!==e.arity&&v(t,"length",{value:e.arity});try{e&&a(e,"constructor")&&e.constructor?u&&v(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var r=l(t);return a(r,"source")||(r.source=g(m,"string"==typeof n?n:"")),t};Function.prototype.toString=E((function(){return i(this)&&p(this).source||s(this)}),"toString")},4758:function(t){var n=Math.ceil,e=Math.floor;t.exports=Math.trunc||function(t){var r=+t;return(r>0?e:n)(r)}},5948:function(t,n,e){var r,o,i,a,u,c=e(7854),s=e(9974),f=e(1236).f,l=e(261).set,p=e(8572),d=e(6833),v=e(1528),h=e(1036),y=e(5268),g=c.MutationObserver||c.WebKitMutationObserver,b=c.document,m=c.process,E=c.Promise,T=f(c,"queueMicrotask"),S=T&&T.value;if(!S){var x=new p,A=function(){var t,n;for(y&&(t=m.domain)&&t.exit();n=x.get();)try{n()}catch(t){throw x.head&&r(),t}t&&t.enter()};d||y||h||!g||!b?!v&&E&&E.resolve?((a=E.resolve(void 0)).constructor=E,u=s(a.then,a),r=function(){u(A)}):y?r=function(){m.nextTick(A)}:(l=s(l,c),r=function(){l(A)}):(o=!0,i=b.createTextNode(""),new g(A).observe(i,{characterData:!0}),r=function(){i.data=o=!o}),S=function(t){x.head||r(),x.add(t)}}t.exports=S},8523:function(t,n,e){"use strict";var r=e(9662),o=TypeError,i=function(t){var n,e;this.promise=new t((function(t,r){if(void 0!==n||void 0!==e)throw o("Bad Promise constructor");n=t,e=r})),this.resolve=r(n),this.reject=r(e)};t.exports.f=function(t){return new i(t)}},30:function(t,n,e){var r,o=e(9670),i=e(6048),a=e(748),u=e(3501),c=e(490),s=e(317),f=e(6200),l="prototype",p="script",d=f("IE_PROTO"),v=function(){},h=function(t){return"<"+p+">"+t+"</"+p+">"},y=function(t){t.write(h("")),t.close();var n=t.parentWindow.Object;return t=null,n},g=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}var t,n,e;g="undefined"!=typeof document?document.domain&&r?y(r):(n=s("iframe"),e="java"+p+":",n.style.display="none",c.appendChild(n),n.src=String(e),(t=n.contentWindow.document).open(),t.write(h("document.F=Object")),t.close(),t.F):y(r);for(var o=a.length;o--;)delete g[l][a[o]];return g()};u[d]=!0,t.exports=Object.create||function(t,n){var e;return null!==t?(v[l]=o(t),e=new v,v[l]=null,e[d]=t):e=g(),void 0===n?e:i.f(e,n)}},6048:function(t,n,e){var r=e(9781),o=e(3353),i=e(3070),a=e(9670),u=e(5656),c=e(1956);n.f=r&&!o?Object.defineProperties:function(t,n){a(t);for(var e,r=u(n),o=c(n),s=o.length,f=0;s>f;)i.f(t,e=o[f++],r[e]);return t}},3070:function(t,n,e){var r=e(9781),o=e(4664),i=e(3353),a=e(9670),u=e(4948),c=TypeError,s=Object.defineProperty,f=Object.getOwnPropertyDescriptor,l="enumerable",p="configurable",d="writable";n.f=r?i?function(t,n,e){if(a(t),n=u(n),a(e),"function"==typeof t&&"prototype"===n&&"value"in e&&d in e&&!e[d]){var r=f(t,n);r&&r[d]&&(t[n]=e.value,e={configurable:p in e?e[p]:r[p],enumerable:l in e?e[l]:r[l],writable:!1})}return s(t,n,e)}:s:function(t,n,e){if(a(t),n=u(n),a(e),o)try{return s(t,n,e)}catch(t){}if("get"in e||"set"in e)throw c("Accessors not supported");return"value"in e&&(t[n]=e.value),t}},1236:function(t,n,e){var r=e(9781),o=e(6916),i=e(5296),a=e(9114),u=e(5656),c=e(4948),s=e(2597),f=e(4664),l=Object.getOwnPropertyDescriptor;n.f=r?l:function(t,n){if(t=u(t),n=c(n),f)try{return l(t,n)}catch(t){}if(s(t,n))return a(!o(i.f,t,n),t[n])}},1156:function(t,n,e){var r=e(4326),o=e(5656),i=e(8006).f,a=e(1589),u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return u&&"Window"==r(t)?function(t){try{return i(t)}catch(t){return a(u)}}(t):i(o(t))}},8006:function(t,n,e){var r=e(6324),o=e(748).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},5181:function(t,n){n.f=Object.getOwnPropertySymbols},9518:function(t,n,e){var r=e(2597),o=e(614),i=e(7908),a=e(6200),u=e(8544),c=a("IE_PROTO"),s=Object,f=s.prototype;t.exports=u?s.getPrototypeOf:function(t){var n=i(t);if(r(n,c))return n[c];var e=n.constructor;return o(e)&&n instanceof e?e.prototype:n instanceof s?f:null}},7976:function(t,n,e){var r=e(1702);t.exports=r({}.isPrototypeOf)},6324:function(t,n,e){var r=e(1702),o=e(2597),i=e(5656),a=e(1318).indexOf,u=e(3501),c=r([].push);t.exports=function(t,n){var e,r=i(t),s=0,f=[];for(e in r)!o(u,e)&&o(r,e)&&c(f,e);for(;n.length>s;)o(r,e=n[s++])&&(~a(f,e)||c(f,e));return f}},1956:function(t,n,e){var r=e(6324),o=e(748);t.exports=Object.keys||function(t){return r(t,o)}},5296:function(t,n){"use strict";var e={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!e.call({1:2},1);n.f=o?function(t){var n=r(this,t);return!!n&&n.enumerable}:e},7674:function(t,n,e){var r=e(5668),o=e(9670),i=e(6077);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,n=!1,e={};try{(t=r(Object.prototype,"__proto__","set"))(e,[]),n=e instanceof Array}catch(t){}return function(e,r){return o(e),i(r),n?t(e,r):e.__proto__=r,e}}():void 0)},288:function(t,n,e){"use strict";var r=e(1694),o=e(648);t.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},2140:function(t,n,e){var r=e(6916),o=e(614),i=e(111),a=TypeError;t.exports=function(t,n){var e,u;if("string"===n&&o(e=t.toString)&&!i(u=r(e,t)))return u;if(o(e=t.valueOf)&&!i(u=r(e,t)))return u;if("string"!==n&&o(e=t.toString)&&!i(u=r(e,t)))return u;throw a("Can't convert object to primitive value")}},3887:function(t,n,e){var r=e(5005),o=e(1702),i=e(8006),a=e(5181),u=e(9670),c=o([].concat);t.exports=r("Reflect","ownKeys")||function(t){var n=i.f(u(t)),e=a.f;return e?c(n,e(t)):n}},857:function(t,n,e){var r=e(7854);t.exports=r},2534:function(t){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},3702:function(t,n,e){var r=e(7854),o=e(2492),i=e(614),a=e(4705),u=e(2788),c=e(5112),s=e(7871),f=e(3823),l=e(1913),p=e(7392),d=o&&o.prototype,v=c("species"),h=!1,y=i(r.PromiseRejectionEvent),g=a("Promise",(function(){var t=u(o),n=t!==String(o);if(!n&&66===p)return!0;if(l&&(!d.catch||!d.finally))return!0;if(!p||p<51||!/native code/.test(t)){var e=new o((function(t){t(1)})),r=function(t){t((function(){}),(function(){}))};if((e.constructor={})[v]=r,!(h=e.then((function(){}))instanceof r))return!0}return!n&&(s||f)&&!y}));t.exports={CONSTRUCTOR:g,REJECTION_EVENT:y,SUBCLASSING:h}},2492:function(t,n,e){var r=e(7854);t.exports=r.Promise},9478:function(t,n,e){var r=e(9670),o=e(111),i=e(8523);t.exports=function(t,n){if(r(t),o(n)&&n.constructor===t)return n;var e=i.f(t);return(0,e.resolve)(n),e.promise}},612:function(t,n,e){var r=e(2492),o=e(7072),i=e(3702).CONSTRUCTOR;t.exports=i||!o((function(t){r.all(t).then(void 0,(function(){}))}))},8572:function(t){var n=function(){this.head=null,this.tail=null};n.prototype={add:function(t){var n={item:t,next:null},e=this.tail;e?e.next=n:this.head=n,this.tail=n},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}},t.exports=n},7651:function(t,n,e){var r=e(6916),o=e(9670),i=e(614),a=e(4326),u=e(2261),c=TypeError;t.exports=function(t,n){var e=t.exec;if(i(e)){var s=r(e,t,n);return null!==s&&o(s),s}if("RegExp"===a(t))return r(u,t,n);throw c("RegExp#exec called on incompatible receiver")}},2261:function(t,n,e){"use strict";var r,o,i=e(6916),a=e(1702),u=e(1340),c=e(7066),s=e(2999),f=e(2309),l=e(30),p=e(9909).get,d=e(9441),v=e(7168),h=f("native-string-replace",String.prototype.replace),y=RegExp.prototype.exec,g=y,b=a("".charAt),m=a("".indexOf),E=a("".replace),T=a("".slice),S=(o=/b*/g,i(y,r=/a/,"a"),i(y,o,"a"),0!==r.lastIndex||0!==o.lastIndex),x=s.BROKEN_CARET,A=void 0!==/()??/.exec("")[1];(S||A||x||d||v)&&(g=function(t){var n,e,r,o,a,s,f,d=this,v=p(d),O=u(t),w=v.raw;if(w)return w.lastIndex=d.lastIndex,n=i(g,w,O),d.lastIndex=w.lastIndex,n;var R=v.groups,N=x&&d.sticky,j=i(c,d),P=d.source,I=0,C=O;if(N&&(j=E(j,"y",""),-1===m(j,"g")&&(j+="g"),C=T(O,d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==b(O,d.lastIndex-1))&&(P="(?: "+P+")",C=" "+C,I++),e=new RegExp("^(?:"+P+")",j)),A&&(e=new RegExp("^"+P+"$(?!\\s)",j)),S&&(r=d.lastIndex),o=i(y,N?e:d,C),N?o?(o.input=T(o.input,I),o[0]=T(o[0],I),o.index=d.lastIndex,d.lastIndex+=o[0].length):d.lastIndex=0:S&&o&&(d.lastIndex=d.global?o.index+o[0].length:r),A&&o&&o.length>1&&i(h,o[0],e,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(o[a]=void 0)})),o&&R)for(o.groups=s=l(null),a=0;a<R.length;a++)s[(f=R[a])[0]]=o[f[1]];return o}),t.exports=g},7066:function(t,n,e){"use strict";var r=e(9670);t.exports=function(){var t=r(this),n="";return t.hasIndices&&(n+="d"),t.global&&(n+="g"),t.ignoreCase&&(n+="i"),t.multiline&&(n+="m"),t.dotAll&&(n+="s"),t.unicode&&(n+="u"),t.unicodeSets&&(n+="v"),t.sticky&&(n+="y"),n}},4706:function(t,n,e){var r=e(6916),o=e(2597),i=e(7976),a=e(7066),u=RegExp.prototype;t.exports=function(t){var n=t.flags;return void 0!==n||"flags"in u||o(t,"flags")||!i(u,t)?n:r(a,t)}},2999:function(t,n,e){var r=e(7293),o=e(7854).RegExp,i=r((function(){var t=o("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),a=i||r((function(){return!o("a","y").sticky})),u=i||r((function(){var t=o("^r","gy");return t.lastIndex=2,null!=t.exec("str")}));t.exports={BROKEN_CARET:u,MISSED_STICKY:a,UNSUPPORTED_Y:i}},9441:function(t,n,e){var r=e(7293),o=e(7854).RegExp;t.exports=r((function(){var t=o(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)}))},7168:function(t,n,e){var r=e(7293),o=e(7854).RegExp;t.exports=r((function(){var t=o("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},4488:function(t,n,e){var r=e(8554),o=TypeError;t.exports=function(t){if(r(t))throw o("Can't call method on "+t);return t}},6340:function(t,n,e){"use strict";var r=e(5005),o=e(7045),i=e(5112),a=e(9781),u=i("species");t.exports=function(t){var n=r(t);a&&n&&!n[u]&&o(n,u,{configurable:!0,get:function(){return this}})}},8003:function(t,n,e){var r=e(3070).f,o=e(2597),i=e(5112)("toStringTag");t.exports=function(t,n,e){t&&!e&&(t=t.prototype),t&&!o(t,i)&&r(t,i,{configurable:!0,value:n})}},6200:function(t,n,e){var r=e(2309),o=e(9711),i=r("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},5465:function(t,n,e){var r=e(7854),o=e(3072),i="__core-js_shared__",a=r[i]||o(i,{});t.exports=a},2309:function(t,n,e){var r=e(1913),o=e(5465);(t.exports=function(t,n){return o[t]||(o[t]=void 0!==n?n:{})})("versions",[]).push({version:"3.29.0",mode:r?"pure":"global",copyright:"Â© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.29.0/LICENSE",source:"https://github.com/zloirock/core-js"})},6707:function(t,n,e){var r=e(9670),o=e(9483),i=e(8554),a=e(5112)("species");t.exports=function(t,n){var e,u=r(t).constructor;return void 0===u||i(e=r(u)[a])?n:o(e)}},3429:function(t,n,e){var r=e(7293);t.exports=function(t){return r((function(){var n=""[t]('"');return n!==n.toLowerCase()||n.split('"').length>3}))}},8710:function(t,n,e){var r=e(1702),o=e(9303),i=e(1340),a=e(4488),u=r("".charAt),c=r("".charCodeAt),s=r("".slice),f=function(t){return function(n,e){var r,f,l=i(a(n)),p=o(e),d=l.length;return p<0||p>=d?t?"":void 0:(r=c(l,p))<55296||r>56319||p+1===d||(f=c(l,p+1))<56320||f>57343?t?u(l,p):r:t?s(l,p,p+2):f-56320+(r-55296<<10)+65536}};t.exports={codeAt:f(!1),charAt:f(!0)}},6293:function(t,n,e){var r=e(7392),o=e(7293);t.exports=!!Object.getOwnPropertySymbols&&!o((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},6532:function(t,n,e){var r=e(6916),o=e(5005),i=e(5112),a=e(8052);t.exports=function(){var t=o("Symbol"),n=t&&t.prototype,e=n&&n.valueOf,u=i("toPrimitive");n&&!n[u]&&a(n,u,(function(t){return r(e,this)}),{arity:1})}},2015:function(t,n,e){var r=e(6293);t.exports=r&&!!Symbol.for&&!!Symbol.keyFor},261:function(t,n,e){var r,o,i,a,u=e(7854),c=e(2104),s=e(9974),f=e(614),l=e(2597),p=e(7293),d=e(490),v=e(206),h=e(317),y=e(8053),g=e(6833),b=e(5268),m=u.setImmediate,E=u.clearImmediate,T=u.process,S=u.Dispatch,x=u.Function,A=u.MessageChannel,O=u.String,w=0,R={},N="onreadystatechange";p((function(){r=u.location}));var j=function(t){if(l(R,t)){var n=R[t];delete R[t],n()}},P=function(t){return function(){j(t)}},I=function(t){j(t.data)},C=function(t){u.postMessage(O(t),r.protocol+"//"+r.host)};m&&E||(m=function(t){y(arguments.length,1);var n=f(t)?t:x(t),e=v(arguments,1);return R[++w]=function(){c(n,void 0,e)},o(w),w},E=function(t){delete R[t]},b?o=function(t){T.nextTick(P(t))}:S&&S.now?o=function(t){S.now(P(t))}:A&&!g?(a=(i=new A).port2,i.port1.onmessage=I,o=s(a.postMessage,a)):u.addEventListener&&f(u.postMessage)&&!u.importScripts&&r&&"file:"!==r.protocol&&!p(C)?(o=C,u.addEventListener("message",I,!1)):o=N in h("script")?function(t){d.appendChild(h("script"))[N]=function(){d.removeChild(this),j(t)}}:function(t){setTimeout(P(t),0)}),t.exports={set:m,clear:E}},1400:function(t,n,e){var r=e(9303),o=Math.max,i=Math.min;t.exports=function(t,n){var e=r(t);return e<0?o(e+n,0):i(e,n)}},5656:function(t,n,e){var r=e(8361),o=e(4488);t.exports=function(t){return r(o(t))}},9303:function(t,n,e){var r=e(4758);t.exports=function(t){var n=+t;return n!=n||0===n?0:r(n)}},7466:function(t,n,e){var r=e(9303),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},7908:function(t,n,e){var r=e(4488),o=Object;t.exports=function(t){return o(r(t))}},7593:function(t,n,e){var r=e(6916),o=e(111),i=e(2190),a=e(8173),u=e(2140),c=e(5112),s=TypeError,f=c("toPrimitive");t.exports=function(t,n){if(!o(t)||i(t))return t;var e,c=a(t,f);if(c){if(void 0===n&&(n="default"),e=r(c,t,n),!o(e)||i(e))return e;throw s("Can't convert object to primitive value")}return void 0===n&&(n="number"),u(t,n)}},4948:function(t,n,e){var r=e(7593),o=e(2190);t.exports=function(t){var n=r(t,"string");return o(n)?n:n+""}},1694:function(t,n,e){var r={};r[e(5112)("toStringTag")]="z",t.exports="[object z]"===String(r)},1340:function(t,n,e){var r=e(648),o=String;t.exports=function(t){if("Symbol"===r(t))throw TypeError("Cannot convert a Symbol value to a string");return o(t)}},6330:function(t){var n=String;t.exports=function(t){try{return n(t)}catch(t){return"Object"}}},9711:function(t,n,e){var r=e(1702),o=0,i=Math.random(),a=r(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+a(++o+i,36)}},3307:function(t,n,e){var r=e(6293);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:function(t,n,e){var r=e(9781),o=e(7293);t.exports=r&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8053:function(t){var n=TypeError;t.exports=function(t,e){if(t<e)throw n("Not enough arguments");return t}},4811:function(t,n,e){var r=e(7854),o=e(614),i=r.WeakMap;t.exports=o(i)&&/native code/.test(String(i))},6800:function(t,n,e){var r=e(857),o=e(2597),i=e(6061),a=e(3070).f;t.exports=function(t){var n=r.Symbol||(r.Symbol={});o(n,t)||a(n,t,{value:i.f(t)})}},6061:function(t,n,e){var r=e(5112);n.f=r},5112:function(t,n,e){var r=e(7854),o=e(2309),i=e(2597),a=e(9711),u=e(6293),c=e(3307),s=r.Symbol,f=o("wks"),l=c?s.for||s:s&&s.withoutSetter||a;t.exports=function(t){return i(f,t)||(f[t]=u&&i(s,t)?s[t]:l("Symbol."+t)),f[t]}},2222:function(t,n,e){"use strict";var r=e(2109),o=e(7293),i=e(3157),a=e(111),u=e(7908),c=e(6244),s=e(7207),f=e(6135),l=e(5417),p=e(1194),d=e(5112),v=e(7392),h=d("isConcatSpreadable"),y=v>=51||!o((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),g=function(t){if(!a(t))return!1;var n=t[h];return void 0!==n?!!n:i(t)};r({target:"Array",proto:!0,arity:1,forced:!y||!p("concat")},{concat:function(t){var n,e,r,o,i,a=u(this),p=l(a,0),d=0;for(n=-1,r=arguments.length;n<r;n++)if(g(i=-1===n?a:arguments[n]))for(o=c(i),s(d+o),e=0;e<o;e++,d++)e in i&&f(p,d,i[e]);else s(d+1),f(p,d++,i);return p.length=d,p}})},3290:function(t,n,e){var r=e(2109),o=e(1285),i=e(1223);r({target:"Array",proto:!0},{fill:o}),i("fill")},7327:function(t,n,e){"use strict";var r=e(2109),o=e(2092).filter;r({target:"Array",proto:!0,forced:!e(1194)("filter")},{filter:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},4553:function(t,n,e){"use strict";var r=e(2109),o=e(2092).findIndex,i=e(1223),a="findIndex",u=!0;a in[]&&Array(1)[a]((function(){u=!1})),r({target:"Array",proto:!0,forced:u},{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i(a)},9826:function(t,n,e){"use strict";var r=e(2109),o=e(2092).find,i=e(1223),a="find",u=!0;a in[]&&Array(1)[a]((function(){u=!1})),r({target:"Array",proto:!0,forced:u},{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i(a)},6992:function(t,n,e){"use strict";var r=e(5656),o=e(1223),i=e(7497),a=e(9909),u=e(3070).f,c=e(1656),s=e(6178),f=e(1913),l=e(9781),p="Array Iterator",d=a.set,v=a.getterFor(p);t.exports=c(Array,"Array",(function(t,n){d(this,{type:p,target:r(t),index:0,kind:n})}),(function(){var t=v(this),n=t.target,e=t.kind,r=t.index++;return!n||r>=n.length?(t.target=void 0,s(void 0,!0)):s("keys"==e?r:"values"==e?n[r]:[r,n[r]],!1)}),"values");var h=i.Arguments=i.Array;if(o("keys"),o("values"),o("entries"),!f&&l&&"values"!==h.name)try{u(h,"name",{value:"values"})}catch(t){}},1249:function(t,n,e){"use strict";var r=e(2109),o=e(2092).map;r({target:"Array",proto:!0,forced:!e(1194)("map")},{map:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},7042:function(t,n,e){"use strict";var r=e(2109),o=e(3157),i=e(4411),a=e(111),u=e(1400),c=e(6244),s=e(5656),f=e(6135),l=e(5112),p=e(1194),d=e(206),v=p("slice"),h=l("species"),y=Array,g=Math.max;r({target:"Array",proto:!0,forced:!v},{slice:function(t,n){var e,r,l,p=s(this),v=c(p),b=u(t,v),m=u(void 0===n?v:n,v);if(o(p)&&(e=p.constructor,(i(e)&&(e===y||o(e.prototype))||a(e)&&null===(e=e[h]))&&(e=void 0),e===y||void 0===e))return d(p,b,m);for(r=new(void 0===e?y:e)(g(m-b,0)),l=0;b<m;b++,l++)b in p&&f(r,l,p[b]);return r.length=l,r}})},561:function(t,n,e){"use strict";var r=e(2109),o=e(7908),i=e(1400),a=e(9303),u=e(6244),c=e(3658),s=e(7207),f=e(5417),l=e(6135),p=e(5117),d=e(1194)("splice"),v=Math.max,h=Math.min;r({target:"Array",proto:!0,forced:!d},{splice:function(t,n){var e,r,d,y,g,b,m=o(this),E=u(m),T=i(t,E),S=arguments.length;for(0===S?e=r=0:1===S?(e=0,r=E-T):(e=S-2,r=h(v(a(n),0),E-T)),s(E+e-r),d=f(m,r),y=0;y<r;y++)(g=T+y)in m&&l(d,y,m[g]);if(d.length=r,e<r){for(y=T;y<E-r;y++)b=y+e,(g=y+r)in m?m[b]=m[g]:p(m,b);for(y=E;y>E-r+e;y--)p(m,y-1)}else if(e>r)for(y=E-r;y>T;y--)b=y+e-1,(g=y+r-1)in m?m[b]=m[g]:p(m,b);for(y=0;y<e;y++)m[y+T]=arguments[y+2];return c(m,E-r+e),d}})},8309:function(t,n,e){var r=e(9781),o=e(6530).EXISTS,i=e(1702),a=e(7045),u=Function.prototype,c=i(u.toString),s=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,f=i(s.exec);r&&!o&&a(u,"name",{configurable:!0,get:function(){try{return f(s,c(this))[1]}catch(t){return""}}})},8862:function(t,n,e){var r=e(2109),o=e(5005),i=e(2104),a=e(6916),u=e(1702),c=e(7293),s=e(614),f=e(2190),l=e(206),p=e(8044),d=e(6293),v=String,h=o("JSON","stringify"),y=u(/./.exec),g=u("".charAt),b=u("".charCodeAt),m=u("".replace),E=u(1..toString),T=/[\uD800-\uDFFF]/g,S=/^[\uD800-\uDBFF]$/,x=/^[\uDC00-\uDFFF]$/,A=!d||c((function(){var t=o("Symbol")();return"[null]"!=h([t])||"{}"!=h({a:t})||"{}"!=h(Object(t))})),O=c((function(){return'"\\udf06\\ud834"'!==h("\udf06\ud834")||'"\\udead"'!==h("\udead")})),w=function(t,n){var e=l(arguments),r=p(n);if(s(r)||void 0!==t&&!f(t))return e[1]=function(t,n){if(s(r)&&(n=a(r,this,v(t),n)),!f(n))return n},i(h,null,e)},R=function(t,n,e){var r=g(e,n-1),o=g(e,n+1);return y(S,t)&&!y(x,o)||y(x,t)&&!y(S,r)?"\\u"+E(b(t,0),16):t};h&&r({target:"JSON",stat:!0,arity:3,forced:A||O},{stringify:function(t,n,e){var r=l(arguments),o=i(A?w:h,null,r);return O&&"string"==typeof o?m(o,T,R):o}})},9660:function(t,n,e){var r=e(2109),o=e(6293),i=e(7293),a=e(5181),u=e(7908);r({target:"Object",stat:!0,forced:!o||i((function(){a.f(1)}))},{getOwnPropertySymbols:function(t){var n=a.f;return n?n(u(t)):[]}})},7941:function(t,n,e){var r=e(2109),o=e(7908),i=e(1956);r({target:"Object",stat:!0,forced:e(7293)((function(){i(1)}))},{keys:function(t){return i(o(t))}})},1539:function(t,n,e){var r=e(1694),o=e(8052),i=e(288);r||o(Object.prototype,"toString",i,{unsafe:!0})},821:function(t,n,e){"use strict";var r=e(2109),o=e(6916),i=e(9662),a=e(8523),u=e(2534),c=e(408);r({target:"Promise",stat:!0,forced:e(612)},{all:function(t){var n=this,e=a.f(n),r=e.resolve,s=e.reject,f=u((function(){var e=i(n.resolve),a=[],u=0,f=1;c(t,(function(t){var i=u++,c=!1;f++,o(e,n,t).then((function(t){c||(c=!0,a[i]=t,--f||r(a))}),s)})),--f||r(a)}));return f.error&&s(f.value),e.promise}})},4164:function(t,n,e){"use strict";var r=e(2109),o=e(1913),i=e(3702).CONSTRUCTOR,a=e(2492),u=e(5005),c=e(614),s=e(8052),f=a&&a.prototype;if(r({target:"Promise",proto:!0,forced:i,real:!0},{catch:function(t){return this.then(void 0,t)}}),!o&&c(a)){var l=u("Promise").prototype.catch;f.catch!==l&&s(f,"catch",l,{unsafe:!0})}},3401:function(t,n,e){"use strict";var r,o,i,a=e(2109),u=e(1913),c=e(5268),s=e(7854),f=e(6916),l=e(8052),p=e(7674),d=e(8003),v=e(6340),h=e(9662),y=e(614),g=e(111),b=e(5787),m=e(6707),E=e(261).set,T=e(5948),S=e(842),x=e(2534),A=e(8572),O=e(9909),w=e(2492),R=e(3702),N=e(8523),j="Promise",P=R.CONSTRUCTOR,I=R.REJECTION_EVENT,C=R.SUBCLASSING,D=O.getterFor(j),k=O.set,L=w&&w.prototype,_=w,M=L,V=s.TypeError,F=s.document,U=s.process,B=N.f,G=B,H=!!(F&&F.createEvent&&s.dispatchEvent),Y="unhandledrejection",W=function(t){var n;return!(!g(t)||!y(n=t.then))&&n},z=function(t,n){var e,r,o,i=n.value,a=1==n.state,u=a?t.ok:t.fail,c=t.resolve,s=t.reject,l=t.domain;try{u?(a||(2===n.rejection&&J(n),n.rejection=1),!0===u?e=i:(l&&l.enter(),e=u(i),l&&(l.exit(),o=!0)),e===t.promise?s(V("Promise-chain cycle")):(r=W(e))?f(r,e,c,s):c(e)):s(i)}catch(t){l&&!o&&l.exit(),s(t)}},$=function(t,n){t.notified||(t.notified=!0,T((function(){for(var e,r=t.reactions;e=r.get();)z(e,t);t.notified=!1,n&&!t.rejection&&q(t)})))},K=function(t,n,e){var r,o;H?((r=F.createEvent("Event")).promise=n,r.reason=e,r.initEvent(t,!1,!0),s.dispatchEvent(r)):r={promise:n,reason:e},!I&&(o=s["on"+t])?o(r):t===Y&&S("Unhandled promise rejection",e)},q=function(t){f(E,s,(function(){var n,e=t.facade,r=t.value;if(X(t)&&(n=x((function(){c?U.emit("unhandledRejection",r,e):K(Y,e,r)})),t.rejection=c||X(t)?2:1,n.error))throw n.value}))},X=function(t){return 1!==t.rejection&&!t.parent},J=function(t){f(E,s,(function(){var n=t.facade;c?U.emit("rejectionHandled",n):K("rejectionhandled",n,t.value)}))},Q=function(t,n,e){return function(r){t(n,r,e)}},Z=function(t,n,e){t.done||(t.done=!0,e&&(t=e),t.value=n,t.state=2,$(t,!0))},tt=function(t,n,e){if(!t.done){t.done=!0,e&&(t=e);try{if(t.facade===n)throw V("Promise can't be resolved itself");var r=W(n);r?T((function(){var e={done:!1};try{f(r,n,Q(tt,e,t),Q(Z,e,t))}catch(n){Z(e,n,t)}})):(t.value=n,t.state=1,$(t,!1))}catch(n){Z({done:!1},n,t)}}};if(P&&(M=(_=function(t){b(this,M),h(t),f(r,this);var n=D(this);try{t(Q(tt,n),Q(Z,n))}catch(t){Z(n,t)}}).prototype,(r=function(t){k(this,{type:j,done:!1,notified:!1,parent:!1,reactions:new A,rejection:!1,state:0,value:void 0})}).prototype=l(M,"then",(function(t,n){var e=D(this),r=B(m(this,_));return e.parent=!0,r.ok=!y(t)||t,r.fail=y(n)&&n,r.domain=c?U.domain:void 0,0==e.state?e.reactions.add(r):T((function(){z(r,e)})),r.promise})),o=function(){var t=new r,n=D(t);this.promise=t,this.resolve=Q(tt,n),this.reject=Q(Z,n)},N.f=B=function(t){return t===_||undefined===t?new o(t):G(t)},!u&&y(w)&&L!==Object.prototype)){i=L.then,C||l(L,"then",(function(t,n){var e=this;return new _((function(t,n){f(i,e,t,n)})).then(t,n)}),{unsafe:!0});try{delete L.constructor}catch(t){}p&&p(L,M)}a({global:!0,constructor:!0,wrap:!0,forced:P},{Promise:_}),d(_,j,!1,!0),v(j)},7727:function(t,n,e){"use strict";var r=e(2109),o=e(1913),i=e(2492),a=e(7293),u=e(5005),c=e(614),s=e(6707),f=e(9478),l=e(8052),p=i&&i.prototype;if(r({target:"Promise",proto:!0,real:!0,forced:!!i&&a((function(){p.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var n=s(this,u("Promise")),e=c(t);return this.then(e?function(e){return f(n,t()).then((function(){return e}))}:t,e?function(e){return f(n,t()).then((function(){throw e}))}:t)}}),!o&&c(i)){var d=u("Promise").prototype.finally;p.finally!==d&&l(p,"finally",d,{unsafe:!0})}},8674:function(t,n,e){e(3401),e(821),e(4164),e(6027),e(683),e(6294)},6027:function(t,n,e){"use strict";var r=e(2109),o=e(6916),i=e(9662),a=e(8523),u=e(2534),c=e(408);r({target:"Promise",stat:!0,forced:e(612)},{race:function(t){var n=this,e=a.f(n),r=e.reject,s=u((function(){var a=i(n.resolve);c(t,(function(t){o(a,n,t).then(e.resolve,r)}))}));return s.error&&r(s.value),e.promise}})},683:function(t,n,e){"use strict";var r=e(2109),o=e(6916),i=e(8523);r({target:"Promise",stat:!0,forced:e(3702).CONSTRUCTOR},{reject:function(t){var n=i.f(this);return o(n.reject,void 0,t),n.promise}})},6294:function(t,n,e){"use strict";var r=e(2109),o=e(5005),i=e(1913),a=e(2492),u=e(3702).CONSTRUCTOR,c=e(9478),s=o("Promise"),f=i&&!u;r({target:"Promise",stat:!0,forced:i||u},{resolve:function(t){return c(f&&this===s?a:this,t)}})},4916:function(t,n,e){"use strict";var r=e(2109),o=e(2261);r({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},2087:function(t,n,e){var r=e(7854),o=e(9781),i=e(7045),a=e(7066),u=e(7293),c=r.RegExp,s=c.prototype;o&&u((function(){var t=!0;try{c(".","d")}catch(n){t=!1}var n={},e="",r=t?"dgimsy":"gimsy",o=function(t,r){Object.defineProperty(n,t,{get:function(){return e+=r,!0}})},i={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var a in t&&(i.hasIndices="d"),i)o(a,i[a]);return Object.getOwnPropertyDescriptor(s,"flags").get.call(n)!==r||e!==r}))&&i(s,"flags",{configurable:!0,get:a})},9714:function(t,n,e){"use strict";var r=e(6530).PROPER,o=e(8052),i=e(9670),a=e(1340),u=e(7293),c=e(4706),s="toString",f=RegExp.prototype[s],l=u((function(){return"/a/b"!=f.call({source:"a",flags:"b"})})),p=r&&f.name!=s;(l||p)&&o(RegExp.prototype,s,(function(){var t=i(this);return"/"+a(t.source)+"/"+a(c(t))}),{unsafe:!0})},8783:function(t,n,e){"use strict";var r=e(8710).charAt,o=e(1340),i=e(9909),a=e(1656),u=e(6178),c="String Iterator",s=i.set,f=i.getterFor(c);a(String,"String",(function(t){s(this,{type:c,string:o(t),index:0})}),(function(){var t,n=f(this),e=n.string,o=n.index;return o>=e.length?u(void 0,!0):(t=r(e,o),n.index+=t.length,u(t,!1))}))},9254:function(t,n,e){"use strict";var r=e(2109),o=e(4230);r({target:"String",proto:!0,forced:e(3429)("link")},{link:function(t){return o(this,"a","href",t)}})},4723:function(t,n,e){"use strict";var r=e(6916),o=e(7007),i=e(9670),a=e(8554),u=e(7466),c=e(1340),s=e(4488),f=e(8173),l=e(1530),p=e(7651);o("match",(function(t,n,e){return[function(n){var e=s(this),o=a(n)?void 0:f(n,t);return o?r(o,n,e):new RegExp(n)[t](c(e))},function(t){var r=i(this),o=c(t),a=e(n,r,o);if(a.done)return a.value;if(!r.global)return p(r,o);var s=r.unicode;r.lastIndex=0;for(var f,d=[],v=0;null!==(f=p(r,o));){var h=c(f[0]);d[v]=h,""===h&&(r.lastIndex=l(o,u(r.lastIndex),s)),v++}return 0===v?null:d}]}))},5306:function(t,n,e){"use strict";var r=e(2104),o=e(6916),i=e(1702),a=e(7007),u=e(7293),c=e(9670),s=e(614),f=e(8554),l=e(9303),p=e(7466),d=e(1340),v=e(4488),h=e(1530),y=e(8173),g=e(647),b=e(7651),m=e(5112)("replace"),E=Math.max,T=Math.min,S=i([].concat),x=i([].push),A=i("".indexOf),O=i("".slice),w="$0"==="a".replace(/./,"$0"),R=!!/./[m]&&""===/./[m]("a","$0");a("replace",(function(t,n,e){var i=R?"$":"$0";return[function(t,e){var r=v(this),i=f(t)?void 0:y(t,m);return i?o(i,t,r,e):o(n,d(r),t,e)},function(t,o){var a=c(this),u=d(t);if("string"==typeof o&&-1===A(o,i)&&-1===A(o,"$<")){var f=e(n,a,u,o);if(f.done)return f.value}var v=s(o);v||(o=d(o));var y=a.global;if(y){var m=a.unicode;a.lastIndex=0}for(var w=[];;){var R=b(a,u);if(null===R)break;if(x(w,R),!y)break;""===d(R[0])&&(a.lastIndex=h(u,p(a.lastIndex),m))}for(var N,j="",P=0,I=0;I<w.length;I++){for(var C=d((R=w[I])[0]),D=E(T(l(R.index),u.length),0),k=[],L=1;L<R.length;L++)x(k,void 0===(N=R[L])?N:String(N));var _=R.groups;if(v){var M=S([C],k,D,u);void 0!==_&&x(M,_);var V=d(r(o,void 0,M))}else V=g(C,u,D,k,_,o);D>=P&&(j+=O(u,P,D)+V,P=D+C.length)}return j+O(u,P)}]}),!!u((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}))||!w||R)},4032:function(t,n,e){"use strict";var r=e(2109),o=e(7854),i=e(6916),a=e(1702),u=e(1913),c=e(9781),s=e(6293),f=e(7293),l=e(2597),p=e(7976),d=e(9670),v=e(5656),h=e(4948),y=e(1340),g=e(9114),b=e(30),m=e(1956),E=e(8006),T=e(1156),S=e(5181),x=e(1236),A=e(3070),O=e(6048),w=e(5296),R=e(8052),N=e(7045),j=e(2309),P=e(6200),I=e(3501),C=e(9711),D=e(5112),k=e(6061),L=e(6800),_=e(6532),M=e(8003),V=e(9909),F=e(2092).forEach,U=P("hidden"),B="Symbol",G="prototype",H=V.set,Y=V.getterFor(B),W=Object[G],z=o.Symbol,$=z&&z[G],K=o.TypeError,q=o.QObject,X=x.f,J=A.f,Q=T.f,Z=w.f,tt=a([].push),nt=j("symbols"),et=j("op-symbols"),rt=j("wks"),ot=!q||!q[G]||!q[G].findChild,it=c&&f((function(){return 7!=b(J({},"a",{get:function(){return J(this,"a",{value:7}).a}})).a}))?function(t,n,e){var r=X(W,n);r&&delete W[n],J(t,n,e),r&&t!==W&&J(W,n,r)}:J,at=function(t,n){var e=nt[t]=b($);return H(e,{type:B,tag:t,description:n}),c||(e.description=n),e},ut=function(t,n,e){t===W&&ut(et,n,e),d(t);var r=h(n);return d(e),l(nt,r)?(e.enumerable?(l(t,U)&&t[U][r]&&(t[U][r]=!1),e=b(e,{enumerable:g(0,!1)})):(l(t,U)||J(t,U,g(1,{})),t[U][r]=!0),it(t,r,e)):J(t,r,e)},ct=function(t,n){d(t);var e=v(n),r=m(e).concat(pt(e));return F(r,(function(n){c&&!i(st,e,n)||ut(t,n,e[n])})),t},st=function(t){var n=h(t),e=i(Z,this,n);return!(this===W&&l(nt,n)&&!l(et,n))&&(!(e||!l(this,n)||!l(nt,n)||l(this,U)&&this[U][n])||e)},ft=function(t,n){var e=v(t),r=h(n);if(e!==W||!l(nt,r)||l(et,r)){var o=X(e,r);return!o||!l(nt,r)||l(e,U)&&e[U][r]||(o.enumerable=!0),o}},lt=function(t){var n=Q(v(t)),e=[];return F(n,(function(t){l(nt,t)||l(I,t)||tt(e,t)})),e},pt=function(t){var n=t===W,e=Q(n?et:v(t)),r=[];return F(e,(function(t){!l(nt,t)||n&&!l(W,t)||tt(r,nt[t])})),r};s||(z=function(){if(p($,this))throw K("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?y(arguments[0]):void 0,n=C(t),e=function(t){this===W&&i(e,et,t),l(this,U)&&l(this[U],n)&&(this[U][n]=!1),it(this,n,g(1,t))};return c&&ot&&it(W,n,{configurable:!0,set:e}),at(n,t)},R($=z[G],"toString",(function(){return Y(this).tag})),R(z,"withoutSetter",(function(t){return at(C(t),t)})),w.f=st,A.f=ut,O.f=ct,x.f=ft,E.f=T.f=lt,S.f=pt,k.f=function(t){return at(D(t),t)},c&&(N($,"description",{configurable:!0,get:function(){return Y(this).description}}),u||R(W,"propertyIsEnumerable",st,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!s,sham:!s},{Symbol:z}),F(m(rt),(function(t){L(t)})),r({target:B,stat:!0,forced:!s},{useSetter:function(){ot=!0},useSimple:function(){ot=!1}}),r({target:"Object",stat:!0,forced:!s,sham:!c},{create:function(t,n){return void 0===n?b(t):ct(b(t),n)},defineProperty:ut,defineProperties:ct,getOwnPropertyDescriptor:ft}),r({target:"Object",stat:!0,forced:!s},{getOwnPropertyNames:lt}),_(),M(z,B),I[U]=!0},1817:function(t,n,e){"use strict";var r=e(2109),o=e(9781),i=e(7854),a=e(1702),u=e(2597),c=e(614),s=e(7976),f=e(1340),l=e(7045),p=e(9920),d=i.Symbol,v=d&&d.prototype;if(o&&c(d)&&(!("description"in v)||void 0!==d().description)){var h={},y=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:f(arguments[0]),n=s(v,this)?new d(t):void 0===t?d():d(t);return""===t&&(h[n]=!0),n};p(y,d),y.prototype=v,v.constructor=y;var g="Symbol(test)"==String(d("test")),b=a(v.valueOf),m=a(v.toString),E=/^Symbol\((.*)\)[^)]+$/,T=a("".replace),S=a("".slice);l(v,"description",{configurable:!0,get:function(){var t=b(this);if(u(h,t))return"";var n=m(t),e=g?S(n,7,-1):T(n,E,"$1");return""===e?void 0:e}}),r({global:!0,constructor:!0,forced:!0},{Symbol:y})}},763:function(t,n,e){var r=e(2109),o=e(5005),i=e(2597),a=e(1340),u=e(2309),c=e(2015),s=u("string-to-symbol-registry"),f=u("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!c},{for:function(t){var n=a(t);if(i(s,n))return s[n];var e=o("Symbol")(n);return s[n]=e,f[e]=n,e}})},2526:function(t,n,e){e(4032),e(763),e(6620),e(8862),e(9660)},6620:function(t,n,e){var r=e(2109),o=e(2597),i=e(2190),a=e(6330),u=e(2309),c=e(2015),s=u("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!c},{keyFor:function(t){if(!i(t))throw TypeError(a(t)+" is not a symbol");if(o(s,t))return s[t]}})},4747:function(t,n,e){var r=e(7854),o=e(8324),i=e(8509),a=e(8533),u=e(8880),c=function(t){if(t&&t.forEach!==a)try{u(t,"forEach",a)}catch(n){t.forEach=a}};for(var s in o)o[s]&&c(r[s]&&r[s].prototype);c(i)},3948:function(t,n,e){var r=e(7854),o=e(8324),i=e(8509),a=e(6992),u=e(8880),c=e(5112),s=c("iterator"),f=c("toStringTag"),l=a.values,p=function(t,n){if(t){if(t[s]!==l)try{u(t,s,l)}catch(n){t[s]=l}if(t[f]||u(t,f,n),o[n])for(var e in a)if(t[e]!==a[e])try{u(t,e,a[e])}catch(n){t[e]=a[e]}}};for(var d in o)p(r[d]&&r[d].prototype,d);p(i,"DOMTokenList")},8552:function(t,n,e){var r=e(852)(e(5639),"DataView");t.exports=r},1989:function(t,n,e){var r=e(1789),o=e(401),i=e(7667),a=e(1327),u=e(1866);function c(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=u,t.exports=c},8407:function(t,n,e){var r=e(7040),o=e(4125),i=e(2117),a=e(7518),u=e(3399);function c(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=u,t.exports=c},7071:function(t,n,e){var r=e(852)(e(5639),"Map");t.exports=r},3369:function(t,n,e){var r=e(4785),o=e(6415),i=e(6e3),a=e(9916),u=e(5265);function c(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=u,t.exports=c},3818:function(t,n,e){var r=e(852)(e(5639),"Promise");t.exports=r},8525:function(t,n,e){var r=e(852)(e(5639),"Set");t.exports=r},6384:function(t,n,e){var r=e(8407),o=e(7465),i=e(3779),a=e(7599),u=e(6783),c=e(4309);function s(t){var n=this.__data__=new r(t);this.size=n.size}s.prototype.clear=o,s.prototype.delete=i,s.prototype.get=a,s.prototype.has=u,s.prototype.set=c,t.exports=s},2705:function(t,n,e){var r=e(5639).Symbol;t.exports=r},1149:function(t,n,e){var r=e(5639).Uint8Array;t.exports=r},577:function(t,n,e){var r=e(852)(e(5639),"WeakMap");t.exports=r},7412:function(t){t.exports=function(t,n){for(var e=-1,r=null==t?0:t.length;++e<r&&!1!==n(t[e],e,t););return t}},4963:function(t){t.exports=function(t,n){for(var e=-1,r=null==t?0:t.length,o=0,i=[];++e<r;){var a=t[e];n(a,e,t)&&(i[o++]=a)}return i}},4636:function(t,n,e){var r=e(2545),o=e(5694),i=e(1469),a=e(4144),u=e(5776),c=e(6719),s=Object.prototype.hasOwnProperty;t.exports=function(t,n){var e=i(t),f=!e&&o(t),l=!e&&!f&&a(t),p=!e&&!f&&!l&&c(t),d=e||f||l||p,v=d?r(t.length,String):[],h=v.length;for(var y in t)!n&&!s.call(t,y)||d&&("length"==y||l&&("offset"==y||"parent"==y)||p&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||u(y,h))||v.push(y);return v}},2488:function(t){t.exports=function(t,n){for(var e=-1,r=n.length,o=t.length;++e<r;)t[o+e]=n[e];return t}},4865:function(t,n,e){var r=e(9465),o=e(7813),i=Object.prototype.hasOwnProperty;t.exports=function(t,n,e){var a=t[n];i.call(t,n)&&o(a,e)&&(void 0!==e||n in t)||r(t,n,e)}},8470:function(t,n,e){var r=e(7813);t.exports=function(t,n){for(var e=t.length;e--;)if(r(t[e][0],n))return e;return-1}},4037:function(t,n,e){var r=e(8363),o=e(3674);t.exports=function(t,n){return t&&r(n,o(n),t)}},3886:function(t,n,e){var r=e(8363),o=e(1704);t.exports=function(t,n){return t&&r(n,o(n),t)}},9465:function(t,n,e){var r=e(8777);t.exports=function(t,n,e){"__proto__"==n&&r?r(t,n,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[n]=e}},5990:function(t,n,e){var r=e(6384),o=e(7412),i=e(4865),a=e(4037),u=e(3886),c=e(4626),s=e(278),f=e(8805),l=e(1911),p=e(8234),d=e(6904),v=e(4160),h=e(3824),y=e(9148),g=e(8517),b=e(1469),m=e(4144),E=e(6688),T=e(3218),S=e(2928),x=e(3674),A=e(1704),O=1,w=2,R=4,N="[object Arguments]",j="[object Function]",P="[object GeneratorFunction]",I="[object Object]",C={};C[N]=C["[object Array]"]=C["[object ArrayBuffer]"]=C["[object DataView]"]=C["[object Boolean]"]=C["[object Date]"]=C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Map]"]=C["[object Number]"]=C[I]=C["[object RegExp]"]=C["[object Set]"]=C["[object String]"]=C["[object Symbol]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,C["[object Error]"]=C[j]=C["[object WeakMap]"]=!1,t.exports=function t(n,e,D,k,L,_){var M,V=e&O,F=e&w,U=e&R;if(D&&(M=L?D(n,k,L,_):D(n)),void 0!==M)return M;if(!T(n))return n;var B=b(n);if(B){if(M=h(n),!V)return s(n,M)}else{var G=v(n),H=G==j||G==P;if(m(n))return c(n,V);if(G==I||G==N||H&&!L){if(M=F||H?{}:g(n),!V)return F?l(n,u(M,n)):f(n,a(M,n))}else{if(!C[G])return L?n:{};M=y(n,G,V)}}_||(_=new r);var Y=_.get(n);if(Y)return Y;_.set(n,M),S(n)?n.forEach((function(r){M.add(t(r,e,D,r,n,_))})):E(n)&&n.forEach((function(r,o){M.set(o,t(r,e,D,o,n,_))}));var W=B?void 0:(U?F?d:p:F?A:x)(n);return o(W||n,(function(r,o){W&&(r=n[o=r]),i(M,o,t(r,e,D,o,n,_))})),M}},3118:function(t,n,e){var r=e(3218),o=Object.create,i=function(){function t(){}return function(n){if(!r(n))return{};if(o)return o(n);t.prototype=n;var e=new t;return t.prototype=void 0,e}}();t.exports=i},8866:function(t,n,e){var r=e(2488),o=e(1469);t.exports=function(t,n,e){var i=n(t);return o(t)?i:r(i,e(t))}},4239:function(t,n,e){var r=e(2705),o=e(9607),i=e(2333),a="[object Null]",u="[object Undefined]",c=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?u:a:c&&c in Object(t)?o(t):i(t)}},9454:function(t,n,e){var r=e(4239),o=e(7005),i="[object Arguments]";t.exports=function(t){return o(t)&&r(t)==i}},5588:function(t,n,e){var r=e(4160),o=e(7005),i="[object Map]";t.exports=function(t){return o(t)&&r(t)==i}},8458:function(t,n,e){var r=e(3560),o=e(5346),i=e(3218),a=e(346),u=/^\[object .+?Constructor\]$/,c=Function.prototype,s=Object.prototype,f=c.toString,l=s.hasOwnProperty,p=RegExp("^"+f.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!i(t)||o(t))&&(r(t)?p:u).test(a(t))}},9221:function(t,n,e){var r=e(4160),o=e(7005),i="[object Set]";t.exports=function(t){return o(t)&&r(t)==i}},8749:function(t,n,e){var r=e(4239),o=e(1780),i=e(7005),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return i(t)&&o(t.length)&&!!a[r(t)]}},280:function(t,n,e){var r=e(5726),o=e(9850),i=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var n=[];for(var e in Object(t))i.call(t,e)&&"constructor"!=e&&n.push(e);return n}},313:function(t,n,e){var r=e(3218),o=e(5726),i=e(3498),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var n=o(t),e=[];for(var u in t)("constructor"!=u||!n&&a.call(t,u))&&e.push(u);return e}},2545:function(t){t.exports=function(t,n){for(var e=-1,r=Array(t);++e<t;)r[e]=n(e);return r}},1717:function(t){t.exports=function(t){return function(n){return t(n)}}},4318:function(t,n,e){var r=e(1149);t.exports=function(t){var n=new t.constructor(t.byteLength);return new r(n).set(new r(t)),n}},4626:function(t,n,e){t=e.nmd(t);var r=e(5639),o=n&&!n.nodeType&&n,i=o&&t&&!t.nodeType&&t,a=i&&i.exports===o?r.Buffer:void 0,u=a?a.allocUnsafe:void 0;t.exports=function(t,n){if(n)return t.slice();var e=t.length,r=u?u(e):new t.constructor(e);return t.copy(r),r}},7157:function(t,n,e){var r=e(4318);t.exports=function(t,n){var e=n?r(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.byteLength)}},3147:function(t){var n=/\w*$/;t.exports=function(t){var e=new t.constructor(t.source,n.exec(t));return e.lastIndex=t.lastIndex,e}},419:function(t,n,e){var r=e(2705),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;t.exports=function(t){return i?Object(i.call(t)):{}}},7133:function(t,n,e){var r=e(4318);t.exports=function(t,n){var e=n?r(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}},278:function(t){t.exports=function(t,n){var e=-1,r=t.length;for(n||(n=Array(r));++e<r;)n[e]=t[e];return n}},8363:function(t,n,e){var r=e(4865),o=e(9465);t.exports=function(t,n,e,i){var a=!e;e||(e={});for(var u=-1,c=n.length;++u<c;){var s=n[u],f=i?i(e[s],t[s],s,e,t):void 0;void 0===f&&(f=t[s]),a?o(e,s,f):r(e,s,f)}return e}},8805:function(t,n,e){var r=e(8363),o=e(9551);t.exports=function(t,n){return r(t,o(t),n)}},1911:function(t,n,e){var r=e(8363),o=e(1442);t.exports=function(t,n){return r(t,o(t),n)}},4429:function(t,n,e){var r=e(5639)["__core-js_shared__"];t.exports=r},8777:function(t,n,e){var r=e(852),o=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=o},1957:function(t,n,e){var r="object"==typeof e.g&&e.g&&e.g.Object===Object&&e.g;t.exports=r},8234:function(t,n,e){var r=e(8866),o=e(9551),i=e(3674);t.exports=function(t){return r(t,i,o)}},6904:function(t,n,e){var r=e(8866),o=e(1442),i=e(1704);t.exports=function(t){return r(t,i,o)}},5050:function(t,n,e){var r=e(7019);t.exports=function(t,n){var e=t.__data__;return r(n)?e["string"==typeof n?"string":"hash"]:e.map}},852:function(t,n,e){var r=e(8458),o=e(7801);t.exports=function(t,n){var e=o(t,n);return r(e)?e:void 0}},5924:function(t,n,e){var r=e(5569)(Object.getPrototypeOf,Object);t.exports=r},9607:function(t,n,e){var r=e(2705),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,u=r?r.toStringTag:void 0;t.exports=function(t){var n=i.call(t,u),e=t[u];try{t[u]=void 0;var r=!0}catch(t){}var o=a.call(t);return r&&(n?t[u]=e:delete t[u]),o}},9551:function(t,n,e){var r=e(4963),o=e(479),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,u=a?function(t){return null==t?[]:(t=Object(t),r(a(t),(function(n){return i.call(t,n)})))}:o;t.exports=u},1442:function(t,n,e){var r=e(2488),o=e(5924),i=e(9551),a=e(479),u=Object.getOwnPropertySymbols?function(t){for(var n=[];t;)r(n,i(t)),t=o(t);return n}:a;t.exports=u},4160:function(t,n,e){var r=e(8552),o=e(7071),i=e(3818),a=e(8525),u=e(577),c=e(4239),s=e(346),f="[object Map]",l="[object Promise]",p="[object Set]",d="[object WeakMap]",v="[object DataView]",h=s(r),y=s(o),g=s(i),b=s(a),m=s(u),E=c;(r&&E(new r(new ArrayBuffer(1)))!=v||o&&E(new o)!=f||i&&E(i.resolve())!=l||a&&E(new a)!=p||u&&E(new u)!=d)&&(E=function(t){var n=c(t),e="[object Object]"==n?t.constructor:void 0,r=e?s(e):"";if(r)switch(r){case h:return v;case y:return f;case g:return l;case b:return p;case m:return d}return n}),t.exports=E},7801:function(t){t.exports=function(t,n){return null==t?void 0:t[n]}},1789:function(t,n,e){var r=e(4536);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},401:function(t){t.exports=function(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}},7667:function(t,n,e){var r=e(4536),o="__lodash_hash_undefined__",i=Object.prototype.hasOwnProperty;t.exports=function(t){var n=this.__data__;if(r){var e=n[t];return e===o?void 0:e}return i.call(n,t)?n[t]:void 0}},1327:function(t,n,e){var r=e(4536),o=Object.prototype.hasOwnProperty;t.exports=function(t){var n=this.__data__;return r?void 0!==n[t]:o.call(n,t)}},1866:function(t,n,e){var r=e(4536),o="__lodash_hash_undefined__";t.exports=function(t,n){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=r&&void 0===n?o:n,this}},3824:function(t){var n=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&n.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},9148:function(t,n,e){var r=e(4318),o=e(7157),i=e(3147),a=e(419),u=e(7133),c="[object Boolean]",s="[object Date]",f="[object Map]",l="[object Number]",p="[object RegExp]",d="[object Set]",v="[object String]",h="[object Symbol]",y="[object ArrayBuffer]",g="[object DataView]",b="[object Float32Array]",m="[object Float64Array]",E="[object Int8Array]",T="[object Int16Array]",S="[object Int32Array]",x="[object Uint8Array]",A="[object Uint8ClampedArray]",O="[object Uint16Array]",w="[object Uint32Array]";t.exports=function(t,n,e){var R=t.constructor;switch(n){case y:return r(t);case c:case s:return new R(+t);case g:return o(t,e);case b:case m:case E:case T:case S:case x:case A:case O:case w:return u(t,e);case f:return new R;case l:case v:return new R(t);case p:return i(t);case d:return new R;case h:return a(t)}}},8517:function(t,n,e){var r=e(3118),o=e(5924),i=e(5726);t.exports=function(t){return"function"!=typeof t.constructor||i(t)?{}:r(o(t))}},5776:function(t){var n=9007199254740991,e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,r){var o=typeof t;return!!(r=null==r?n:r)&&("number"==o||"symbol"!=o&&e.test(t))&&t>-1&&t%1==0&&t<r}},7019:function(t){t.exports=function(t){var n=typeof t;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t}},5346:function(t,n,e){var r,o=e(4429),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!i&&i in t}},5726:function(t){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},7040:function(t){t.exports=function(){this.__data__=[],this.size=0}},4125:function(t,n,e){var r=e(8470),o=Array.prototype.splice;t.exports=function(t){var n=this.__data__,e=r(n,t);return!(e<0)&&(e==n.length-1?n.pop():o.call(n,e,1),--this.size,!0)}},2117:function(t,n,e){var r=e(8470);t.exports=function(t){var n=this.__data__,e=r(n,t);return e<0?void 0:n[e][1]}},7518:function(t,n,e){var r=e(8470);t.exports=function(t){return r(this.__data__,t)>-1}},3399:function(t,n,e){var r=e(8470);t.exports=function(t,n){var e=this.__data__,o=r(e,t);return o<0?(++this.size,e.push([t,n])):e[o][1]=n,this}},4785:function(t,n,e){var r=e(1989),o=e(8407),i=e(7071);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},6415:function(t,n,e){var r=e(5050);t.exports=function(t){var n=r(this,t).delete(t);return this.size-=n?1:0,n}},6e3:function(t,n,e){var r=e(5050);t.exports=function(t){return r(this,t).get(t)}},9916:function(t,n,e){var r=e(5050);t.exports=function(t){return r(this,t).has(t)}},5265:function(t,n,e){var r=e(5050);t.exports=function(t,n){var e=r(this,t),o=e.size;return e.set(t,n),this.size+=e.size==o?0:1,this}},4536:function(t,n,e){var r=e(852)(Object,"create");t.exports=r},9850:function(t,n,e){var r=e(5569)(Object.keys,Object);t.exports=r},3498:function(t){t.exports=function(t){var n=[];if(null!=t)for(var e in Object(t))n.push(e);return n}},1167:function(t,n,e){t=e.nmd(t);var r=e(1957),o=n&&!n.nodeType&&n,i=o&&t&&!t.nodeType&&t,a=i&&i.exports===o&&r.process,u=function(){try{var t=i&&i.require&&i.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=u},2333:function(t){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},5569:function(t){t.exports=function(t,n){return function(e){return t(n(e))}}},5639:function(t,n,e){var r=e(1957),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();t.exports=i},7465:function(t,n,e){var r=e(8407);t.exports=function(){this.__data__=new r,this.size=0}},3779:function(t){t.exports=function(t){var n=this.__data__,e=n.delete(t);return this.size=n.size,e}},7599:function(t){t.exports=function(t){return this.__data__.get(t)}},6783:function(t){t.exports=function(t){return this.__data__.has(t)}},4309:function(t,n,e){var r=e(8407),o=e(7071),i=e(3369),a=200;t.exports=function(t,n){var e=this.__data__;if(e instanceof r){var u=e.__data__;if(!o||u.length<a-1)return u.push([t,n]),this.size=++e.size,this;e=this.__data__=new i(u)}return e.set(t,n),this.size=e.size,this}},346:function(t){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},361:function(t,n,e){var r=e(5990),o=1,i=4;t.exports=function(t){return r(t,o|i)}},7813:function(t){t.exports=function(t,n){return t===n||t!=t&&n!=n}},5694:function(t,n,e){var r=e(9454),o=e(7005),i=Object.prototype,a=i.hasOwnProperty,u=i.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(t){return o(t)&&a.call(t,"callee")&&!u.call(t,"callee")};t.exports=c},1469:function(t){var n=Array.isArray;t.exports=n},8612:function(t,n,e){var r=e(3560),o=e(1780);t.exports=function(t){return null!=t&&o(t.length)&&!r(t)}},4144:function(t,n,e){t=e.nmd(t);var r=e(5639),o=e(5062),i=n&&!n.nodeType&&n,a=i&&t&&!t.nodeType&&t,u=a&&a.exports===i?r.Buffer:void 0,c=(u?u.isBuffer:void 0)||o;t.exports=c},3560:function(t,n,e){var r=e(4239),o=e(3218),i="[object AsyncFunction]",a="[object Function]",u="[object GeneratorFunction]",c="[object Proxy]";t.exports=function(t){if(!o(t))return!1;var n=r(t);return n==a||n==u||n==i||n==c}},1780:function(t){var n=9007199254740991;t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}},6688:function(t,n,e){var r=e(5588),o=e(1717),i=e(1167),a=i&&i.isMap,u=a?o(a):r;t.exports=u},3218:function(t){t.exports=function(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)}},7005:function(t){t.exports=function(t){return null!=t&&"object"==typeof t}},2928:function(t,n,e){var r=e(9221),o=e(1717),i=e(1167),a=i&&i.isSet,u=a?o(a):r;t.exports=u},6719:function(t,n,e){var r=e(8749),o=e(1717),i=e(1167),a=i&&i.isTypedArray,u=a?o(a):r;t.exports=u},3674:function(t,n,e){var r=e(4636),o=e(280),i=e(8612);t.exports=function(t){return i(t)?r(t):o(t)}},1704:function(t,n,e){var r=e(4636),o=e(313),i=e(8612);t.exports=function(t){return i(t)?r(t,!0):o(t)}},479:function(t){t.exports=function(){return[]}},5062:function(t){t.exports=function(){return!1}},4616:function(n){"use strict";n.exports=t}},e={};function r(t){var o=e[t];if(void 0!==o)return o.exports;var i=e[t]={id:t,loaded:!1,exports:{}};return n[t](i,i.exports,r),i.loaded=!0,i.exports}r.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(n,{a:n}),n},r.d=function(t,n){for(var e in n)r.o(n,e)&&!r.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:n[e]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},r.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t};var o={};return function(){"use strict";function t(n,e){return t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},t(n,e)}function n(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,t(n,e)}r.d(o,{default:function(){return et}});var e=r(4616);r(561),r(1539),r(8674),r(7727),r(7327),r(8309);function i(){return i=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},i.apply(this,arguments)}r(1249),r(2222),r(4747),r(7042);var a={SETTITLE:"ANNOTATIONSETTITLE",SETSUBJECT:"ANNOTATIONSETSUBJECT",SETCOLOR:"ANNOTATIONSETCOLOR",SETOPACITY:"ANNOTATIONSETOPACITY",SETFILLCOLOR:"ANNOTATIONSETFILLCOLOR",SETBORDERWIDTH:"ANNOTATIONSETBORDERWIDTH",SETBORDERSTYLE:"ANNOTATIONSETBORDERSTYLE",SETENDINGSTYLE:"ANNOTATIONSETENDINGSTYLE",ENABLECAPTION:"ANNOTATIONENABLECAPTION",SETROTATION:"ANNOTATIONSETROTATION",SETHIGHLIGHTINGMODE:"ANNOTATIONSETHIGHLIGHTINGMODE",REMOVEANNOT:"REMOVEANNOT",ADDANNOT:"ADDANNOT",SETRECT:"ANNOTATIONSETRECT",MOVETO:"ANNOTATION_MOVE_TO",ANNOT_SET_RECT:"ANNOTATION_SET_RECT",UPDATEQUADPOINTSBYCHARINDEX:"UPDATEQUADPOINTSBYCHARINDEX",UPDATECALLOUTPOINTS:"ANNOTATIONUPDATECALLOUTPOINTS",UPDATELINEPOINTS:"ANNOTATIONUPDATELINEPOINTS",SETLEADERLINELENGTH:"ANNOTATIONSETLEADERLINELENGTH",UPDATEVERTEXES:"ANNOTATIONUPDATEVERTEXES",SETCONTENT:"ANNOTATIONSETCONTENT",PLACEREDACT:"ANNOTATIONPLACEREDACT",ADDREPLY:"ANNOTATIONADDREPLY",DELETEREPLY:"ANNOTATIONDELETEREPLY",ADDACTION:"ANNOTATIONADDACTION",ERASER:"ANNOTATIONERASER",MARKREDACTANNOT:"ANNOTATIONMARKREDACTANNOT",MAKEREDACTBYPAGES:"ANNOTATIONMAKEREDACTBYPAGES",MARKCHECKEDRESULTREDACTION:"MARKCHECKEDRESULTREDACTION",ADDREVIEWSTATE:"ADDREVIEWSTATE",ADD_MARKED_STATE:"ADD_MARKED_STATE",DEFAULTAP:"DEFAULTAP",moveAnnotsCrossPage:"moveAnnotsCrossPage",UPDATECAPTIONOFFSET:"ANNOTATIONUPDATECAPTIONOFFSET",Group:"Group",FlipPoint:"FlipPoint",SETICONNAME:"SETICONNAME"},u=e.PDFViewCtrl.Deps.jQuery,c=e.UIEvents,s=function(){function t(t,n){this.pdfViewer=t,this.controller=n}var e=t.prototype;return e.init=function(){var t,e=this.controller,r=this.pdfViewer,o=void 0,c=0,s=this.resetMergeStatus=function(){o=void 0,c=0,t=void 0};r.registerMatchRule((function(f,l){function p(n,i){if(!r.customs.pushUndoStack||r.customs.pushUndoStack(n,i))return e.create("annot",n,i,function(){if(c++,!o)return o=f,t||(t=r.getAllActivatedElements().map((function(t){return t.annot})).filter(Boolean).filter((function(t){return"widget"!==t.getType()}))),0===t.length||-1===t.indexOf(f)?(c--,o=void 0,t=void 0):t.length===c&&s(),!1;-1===t.indexOf(f)&&c--;var n=t.length;return c===n?(s(),!0):n>1}())}return function(o){function c(){for(var t,n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];return(t=o.call.apply(o,[this].concat(e))||this).undoRedoDataRecord={},t}n(c,o);var s=c.prototype;return s.setTitle=function(t){var n=this,e=this.annot.getTitle();return this.annot.setTitle(t).then((function(t){var r=n.annot.getTitle();return e!==r&&p(a.SETTITLE,{annot:n.annot,oldTitle:e,newTitle:r}),t}))},s.setSubject=function(t){var n=this,e=this.annot.getSubject();return this.annot.setSubject(t).then((function(t){var r=n.annot.getSubject();return e!==r&&p(a.SETSUBJECT,{annot:n.annot,oldSubject:e,newSubject:r}),t}))},s.setColor=function(t){var n=this,e=this.annot.getBorderColor();return o.prototype.setColor.call(this,t).then((function(t){var r=n.annot.getBorderColor();return e!==r&&p(a.SETCOLOR,{annot:n.annot,oldColor:e,newColor:r}),t}))},s.setOpacity=function(t,n,e){var r=this;void 0===n&&(n=!0),void 0===e&&(e=null),n&&e&&e.oldValue!==e.commitValue&&p(a.SETOPACITY,{annot:this.annot,oldOpacity:e.oldValue,newOpacity:e.commitValue});var i=this.annot.getOpacity();return o.prototype.setOpacity.call(this,t).then((function(t){var o=r.annot.getOpacity();return n&&!e&&i!==o&&p(a.SETOPACITY,{annot:r.annot,oldOpacity:i,newOpacity:o}),t}))},s.setFillColor=function(t){var n=this,e=this.annot.getStyleFillColor||this.annot.getFillColor,r=e.call(this.annot);return o.prototype.setFillColor.call(this,t).then((function(t){var o=e.call(n.annot);return r!==o&&p(a.SETFILLCOLOR,{annot:n.annot,oldFillColor:r,newFillColor:o}),t}))},s.setBorderWidth=function(t,n,e){var r=this;void 0===n&&(n=!0),void 0===e&&(e=null),n&&e&&e.oldValue!==e.commitValue&&p(a.SETBORDERWIDTH,{annot:this.annot,oldBorderWidth:e.oldValue,newBorderWidth:e.commitValue});var i=this.annot.getBorderWidth();return o.prototype.setBorderWidth.call(this,t).then((function(t){var o=r.annot.getBorderWidth();return n&&!e&&i!==o&&p(a.SETBORDERWIDTH,{annot:r.annot,oldBorderWidth:i,newBorderWidth:o}),t}))},s.setBorderStyle=function(t,n){var e=this,r=this.annot.getBorderStyleWithParam();return o.prototype.setBorderStyle.call(this,t,n).then((function(t){var n=e.annot.getBorderStyleWithParam();return r!==n&&p(a.SETBORDERSTYLE,{annot:e.annot,oldBorderStyle:r,newBorderStyle:n}),t}))},s.flip=function(t){var n=this;return this.annot.flip().then((function(r){return e.create("annot",a.FlipPoint,{annot:n.annot},t),r}))},s.setEndingStyle=function(t,n,r){var i,u=this;void 0===r&&(r=!1);var c=(i=t?this.annot.getStartStyle||this.annot.getCalloutLineEndingStyle:this.annot.getEndingStyle).call(this.annot);return o.prototype.setEndingStyle.call(this,t,n).then((function(n){var o=i.call(u.annot);return e.create("annot",a.SETENDINGSTYLE,{annot:u.annot,isStart:t,oldStyle:c,newStyle:o},r),n}))},s.enableCaption=function(t){var n=this,e=this.annot.hasCaption();return o.prototype.enableCaption.call(this,t).then((function(t){var r=n.annot.hasCaption();return e!==r&&p(a.ENABLECAPTION,{annot:n.annot,oldEnableCaption:e,newEnableCaption:r}),t}))},s.setRotation=function(t){var n=this,e=this.annot.getRotation(),r=this.annot.getRect();return o.prototype.setRotation.call(this,t).then((function(t){var o=n.annot.getRotation(),i=n.annot.getRect();return p(a.SETROTATION,{annot:n.annot,oldRotation:e,newRotation:o,oldRect:r,newRect:i}),t}))},s.setHighlightingMode=function(t){var n=this,e=this.annot.getHighlightingMode();return o.prototype.setHighlightingMode.call(this,t).then((function(t){var r=n.annot.getHighlightingMode();return p(a.SETHIGHLIGHTINGMODE,{annot:n.annot,oldHlMode:e,newHlMode:r}),t}))},s.removeAnnot=function(){var n=this.annot,e=(n.getName(),n.info.type),i=!("sound"===e||"widget"===e||"watermark"===e);return i&&!t&&(t=r.getAllActivatedElements().map((function(t){return t.annot})).filter(Boolean)).slice(0).forEach((function(n){var e=n.getGroupHeader&&n.getGroupHeader();if(e!==n){var r=t.indexOf(e);r>-1&&t.splice(r,1)}})),o.prototype.removeAnnot.call(this).then((function(t){i&&t&&t.length>0&&p(a.REMOVEANNOT,[t,n]);return t}))},s.textBoundaryStart=function(){this.undoRedoDataRecord[a.UPDATEQUADPOINTSBYCHARINDEX]={annot:this.annot,oldStart:this.annot.getStartCharIndex(),oldEnd:this.annot.getEndCharIndex()}},s.textBoundaryEnd=function(){var t=i({},this.undoRedoDataRecord[a.UPDATEQUADPOINTSBYCHARINDEX],{annot:this.annot,newStart:this.annot.getStartCharIndex(),newEnd:this.annot.getEndCharIndex()});p(a.UPDATEQUADPOINTSBYCHARINDEX,t)},s.onStartUpdateShape=function(t){if(this.isCallingOnShapeUpdate=!0,t in{resize:1,text:1}&&"freetext"===this.annot.getType()&&this.annot.getIntent&&"FreeTextCallout"===this.annot.getIntent())this.undoRedoDataRecord[a.UPDATECALLOUTPOINTS]={annot:this.annot,oldRect:this.annot.getRect(),oldCalloutLinePoints:this.annot.getCalloutLinePoints(),oldInnerRect:this.annot.getInnerRect()};else{var n=this.annot.getType();"square"===n||"circle"===n||"freetext"===n&&this.annot.getIntent&&"FreeTextTextbox"===this.annot.getIntent()?this.undoRedoDataRecord[a.SETRECT]={annot:this.annot,oldRect:this.annot.getRect(),oldInnerRect:this.annot.getInnerRect()}:this.undoRedoDataRecord[a.SETRECT]={annot:this.annot,oldRect:this.annot.getRect()}}return o.prototype.onStartUpdateShape.apply(this,arguments)},s.onShapeUpdateEnd=function(t,n,e){var r=this,u=o.prototype.onShapeUpdateEnd.apply(this,arguments);return u.finally((function(){r.isCallingOnShapeUpdate=!1})),e in{resize:1,text:1}&&"freetext"===this.annot.getType()&&this.annot.getIntent&&"FreeTextCallout"===this.annot.getIntent()?u.then((function(){var t=i({},r.undoRedoDataRecord[a.UPDATECALLOUTPOINTS],{annot:r.annot,newRect:r.annot.getRect(),newCalloutLinePoints:r.annot.getCalloutLinePoints(),newInnerRect:r.annot.getInnerRect()});p(a.UPDATECALLOUTPOINTS,t)})):u.then((function(){var t,n=r.undoRedoDataRecord[a.SETRECT],e=r.annot.getType();t="square"===e||"circle"===e||"freetext"===e&&r.annot.getIntent&&"FreeTextTextbox"===r.annot.getIntent()?i({},n,{annot:r.annot,newRect:r.annot.getRect(),newInnerRect:r.annot.getInnerRect()}):i({},n,{annot:r.annot,newRect:r.annot.getRect()}),p(a.SETRECT,t)}))},s.moveTo=function(t,n,e,r,i){var u=this;void 0===i&&(i=!1);var c=this.annot.getRect(),s=this.getPDFPage(),f=t,l=n;if(!i){var d=s.reverseDevicePoint([t,n],this.scale,this.rotate);f=d[0],l=d[1]}return o.prototype.moveTo.apply(this,arguments).then((function(t){return u.isCallingOnShapeUpdate||p(a.MOVETO,{annot:u.annot,originLeft:c.left,originTop:c.top,left:f,top:l,action:e,apply:r}),t}))},s.setRect=function(t){var n=this,e=this.annot.getRect(),r=this.getPDFPage().reverseDeviceRect({left:t.left,top:t.top,right:t.left+t.width,bottom:t.top+t.height},this.scale,this.rotate);return o.prototype.setRect.apply(this,arguments).then((function(t){return n.isCallingOnShapeUpdate||p(a.ANNOT_SET_RECT,{annot:n.annot,originRect:e,newRect:r}),t}))},s.boundaryChangeStart=function(t){if("line"===this.annot.getType())switch(u(t.target).data("index")){case 0:case 1:this.undoRedoDataRecord[a.UPDATELINEPOINTS]={annot:this.annot,oldStartPoint:this.annot.getStartPoint(),oldEndPoint:this.annot.getEndPoint()};break;case 2:case 3:this.undoRedoDataRecord[a.SETLEADERLINELENGTH]={annot:this.annot,oldLeaderLinePoints:this.annot.getLeaderLinePoints(),oldStartPoint:this.annot.getStartPoint(),oldEndPoint:this.annot.getEndPoint()};break;case"caption":this.undoRedoDataRecord[a.UPDATECAPTIONOFFSET]={annot:this.annot,oldCaptionOffset:this.annot.getCaptionOffset()}}else this.undoRedoDataRecord[a.UPDATEVERTEXES]={annot:this.annot,oldVertexes:this.annot.getVertexes(),oldIndex:u(t.target).data("index")}},s.boundaryChangeEnd=function(t){var n=u(t.target).data("index")||u(t.target).parent().data("index");if("line"===this.annot.getType())switch(n){case 0:case 1:var e=i({},this.undoRedoDataRecord[a.UPDATELINEPOINTS],{annot:this.annot,newStartPoint:this.annot.getStartPoint(),newEndPoint:this.annot.getEndPoint()});p(a.UPDATELINEPOINTS,e);break;case 2:case 3:var r=i({},this.undoRedoDataRecord[a.SETLEADERLINELENGTH],{annot:this.annot,newLeaderLinePoints:this.annot.getLeaderLinePoints(),newStartPoint:this.annot.getStartPoint(),newEndPoint:this.annot.getEndPoint()});p(a.SETLEADERLINELENGTH,r);break;case"caption":var o=i({},this.undoRedoDataRecord[a.UPDATECAPTIONOFFSET],{annot:this.annot,newCaptionOffset:this.annot.getCaptionOffset()});p(a.UPDATECAPTIONOFFSET,o)}else{var c=i({},this.undoRedoDataRecord[a.UPDATEVERTEXES],{annot:this.annot,newVertexes:this.annot.getVertexes(),newIndex:n});p(a.UPDATEVERTEXES,c)}},s.setContent=function(t){var n=this,e=this.annot.getContent();return o.prototype.setContent.call(this,t).then((function(t){var r=n.annot.getContent();if(r!==e)if("freetext"===n.annot.getType()){var o=n.annot.getInnerRect(),i=n.annot.getRect(),u=n.annot.getCalloutLinePoints();p(a.SETCONTENT,{annot:n.annot,oldContent:e,newContent:r,oldInnerRect:n.oldInnerRect,newInnerRect:o,oldRect:n.oldRect,newRect:i,oldCalloutLinePoints:n.oldCalloutLinePoints,newCalloutLinePoints:u})}else p(a.SETCONTENT,{annot:n.annot,oldContent:e,newContent:r});return t}))},s.placeRedact=function(t){return o.prototype.placeRedact.call(this,t).then((function(t){var n=[];return t.map((function(t){var e=t[0];n.push(e)})),p(a.PLACEREDACT,{redacts:n}),t}))},s.setDefaultAppearance=function(t,n){var e=this,r=this.annot.getDefaultAppearance();return o.prototype.setDefaultAppearance.call(this,t,n).then((function(t){var n=e.annot.getDefaultAppearance();p(a.DEFAULTAP,{annot:e.annot,oldDA:r,newDA:n})}))},c}(l)})),this.bindEvent()},e.bindEvent=function(){var t=this.controller,n=this.pdfViewer;function e(n,e){t.create("annot",n,e)}n.eventEmitter.on(c.addReplySuccess,(function(t,n){"sound"!==t.info.type&&e(a.ADDREPLY,{annot:t,replyAnnot:n})})),n.eventEmitter.on(c.deleteReplySuccess,(function(t,n){e(a.DELETEREPLY,{annot:t,replyAnnot:n})})),n.eventEmitter.on("annot-group-event",(function(t,n,r){e(a.Group,{page:t,annotIds:n,isGroup:r})})),n.eventEmitter.on(c.addActionSuccess,(function(t){e(a.ADDACTION,{annot:t})})),n.eventEmitter.on(c.eraserSuccess,(function(t,n){e(a.ERASER,{beforeInks:t,afterInks:n})})),n.eventEmitter.on(c.addAnnotSuccess,(function(t){e(a.ADDANNOT,{annot:t})})),n.eventEmitter.on(c.applyRedaction,(function(n){t.clear()})),n.eventEmitter.on(c.addContentSuccess,(function(t,n,r){e(a.SETCONTENT,{annot:t,oldContent:n,newContent:r})})),n.eventEmitter.on(c.cancelAddAnnot,(function(){t.popUndoStack()})),n.eventEmitter.on("markRedactAnnotSuccess",(function(t){e(a.MARKREDACTANNOT,{annot:t})})),n.eventEmitter.on("makeRedactByPagesSuccess",(function(t){e(a.MAKEREDACTBYPAGES,{redacts:t})})),n.eventEmitter.on(c.markRedactionSuccess,(function(t){e(a.MARKCHECKEDRESULTREDACTION,{redacts:t})})),n.eventEmitter.on(c.addReviewStateSuccess,(function(t,n){"sound"!==t.info.type&&e(a.ADDREVIEWSTATE,{annot:t,stateName:n.getState()})})),n.eventEmitter.on(c.annotationMarkedStateAnnotAdd,(function(t,n,r){r||e(a.ADD_MARKED_STATE,{annot:n,stateName:t.getState()})})),n.eventEmitter.on(c.moveAnnotsToPages,(function(t,n,r,o){o&&e(a.moveAnnotsCrossPage,{srcPage:t,destPage:n,annots:r})})),n.eventEmitter.on("setNoteIconName",(function(t,n,r){n!==r&&e(a.SETICONNAME,{annot:t,oldIconName:n,newIconName:r})}));var r=function(){return t.clear()};n.eventEmitter.on(c.importPages,r),n.eventEmitter.on(c.pageAdded,r),n.eventEmitter.on(c.pageRemoved,r),n.eventEmitter.on(c.pagesRemoved,r),n.eventEmitter.on(c.pagesRotated,r),n.eventEmitter.on(c.pageMoved,r),n.eventEmitter.on(c.pagesMoved,r)},t}(),f=function(){function t(){this.stackArray=[]}var n=t.prototype;return n.push=function(t){this.stackArray.push(t)},n.pop=function(){return this.stackArray.pop()},n.size=function(){return this.stackArray.length},n.clear=function(){var t=this,n=this.stackArray,e=[];return this.stackArray=e,function(){t.stackArray===e&&(t.stackArray=n)}},n.filter=function(t){this.stackArray=this.stackArray.filter(t)},t}(),l=function(){function t(t,n){this.pdfViewer=t,this.controller=n,this.undoStack=new f,this.redoStack=new f}var n=t.prototype;return n.storage=function(t){var n=this;return this.undoStack.push(t),function(){var e=n.undoStack.indexOf(t);e>-1&&n.undoStack.splice(e,1)}},n.mergeLast=function(t){var n=this,e=this.undoStack.pop();if(e){var r=this.doMerge(e,t);return this.undoStack.push(r),function(){var t=n.undoStack.indexOf(r);t>-1&&(n.undoStack[t]=e)}}return this.storage(t)},n.doMerge=function(t,n){return{undo:function(){return Promise.resolve(t.undo()).finally((function(){return n.undo()}))},redo:function(){return Promise.resolve(t.redo()).finally((function(){return n.redo()}))}}},n.undo=function(){var t=this.undoStack.pop();if(t)return this.redoStack.push(t),t},n.redo=function(){var t=this.redoStack.pop();if(t)return this.undoStack.push(t),t},n.removeById=function(t){this.undoStack.filter((function(n){return t!==n.uniqueId})),this.redoStack.filter((function(n){return t!==n.uniqueId}))},n.removeByName=function(t){this.undoStack.filter((function(n){if(n.annot)return t!==n.annot.info.name})),this.redoStack.filter((function(n){if(n.annot)return t!==n.annot.info.name}))},n.clear=function(){this.undoStack.clear(),this.redoStack.clear()},n.getUndoStack=function(){return this.undoStack},n.getRedoStack=function(){return this.redoStack},t}(),p=(r(7941),r(6992),r(8783),r(3948),r(4553),r(9826),r(4916),r(9254),r(4723),r(9714),e.PDFViewCtrl.Consts.BORDER_STYLE),d=function(){function t(t){var n=function(t,n,e){void 0===n&&(n="HTML");void 0===e&&(e=1);var r,o,i,a,u="";"number"==typeof t&&(t=["int",t]);switch(t[0]){case"int":r=(16711680&t[1])>>16,o=(65280&t[1])>>8,i=255&t[1];break;case"T":r=0,o=0,i=0,e=0;break;case"G":r=o=i=255*t[1];break;case"RGB":r=255*t[1],o=255*t[2],i=255*t[3];break;case"CMYK":r=(1-t[4])*(1-t[1])*255,o=(1-t[4])*(1-t[2])*255,i=(1-t[4])*(1-t[3])*255;break;case"r":r=+(a=t.match(/rgba?\((\d*),\s*(\d*),\s*(\d*),?\s*([\.0-9]*)?\)/))[1],o=+a[2],i=+a[3];break;case"#":var c=4==t.length?/#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])$/:/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/;a=t.match(c),r=parseInt(a[1],16),o=parseInt(a[2],16),i=parseInt(a[3],16);break;default:throw new Error("Unsupported color format")}switch(n){case"HTML":u=r===o&&o===i&&-1===i?"transparent":"rgba("+parseInt(r)+","+parseInt(o)+","+parseInt(i)+","+e+")";break;case"RGB":u=["RGB",r/255,o/255,i/255];break;case"#":u+=r<16?"#0"+r.toString(16):"#"+r.toString(16),u+=o<16?"0"+o.toString(16):o.toString(16),u+=i<16?"0"+i.toString(16):i.toString(16);break;case"int":u=0,u|=(e*=255)<<24,u|=r<<16,u|=o<<8,u|=i,u>>>=0}return u}(t.info.borderColor,"int");this.json={objectNumber:t.info.objectNumber,name:t.getName(),flags:t.info.flag,rect:t.info.rect,color:n,style:t.info.borderInfo.style,contents:t.info.content,date:new Date(t.info.modifiedTimestamp).getTime(),type:t.info.type,borderWidth:t.info.borderInfo.width},t.info.isMarkup&&this.markup(t);var e=t.info.type;switch("strikeout"!==e&&"highlight"!==e&&"squiggly"!==e&&"underline"!==e||this.textMarkup(t),e){case"ink":this.ink(t);break;case"fileattachment":this.fileattachment(t);break;case"polygon":this.polygon(t);break;case"polyline":this.polyline(t);break;case"stamp":this.stamp(t);break;case"freetext":this.freetext(t);break;case"screen":this.screen(t);break;case"line":this.line(t);break;case"redact":this.redact(t);break;case"highlight":this.highlight(t);break;case"link":this.link(t);break;case"square":this.square(t);break;case"circle":this.circle(t)}}var n=t.prototype;return n.markup=function(t){var n="",e=!1;if(t.getPopup){var r=t.getPopup();r?(n=r.getName(),e=!1):e=!0}else e=!0;this.json=i({intent:t.info.intent,opacity:t.info.opacity,subject:t.info.subject,title:t.info.title,creationTimestamp:new Date(t.info.creationTimestamp).getTime(),popId:n,noPopup:e},this.json)},n.textMarkup=function(t){var n=[];t.info.quadPoints.map((function(t){n.push({top:t[0].y,left:t[0].x,bottom:t[3].y,right:t[3].x})})),this.json=i(this.json,{coords:n})},n.ink=function(t){this.json=i({inkList:t.info.inkList},this.json)},n.fileattachment=function(t){this.json=i({fObjNum:t.info.fObjNum},this.json)},n.polygon=function(t){var n=v(t.info.borderInfo),e=t.info.measureRatio,r=t.info.measureUnit,o=null;e&&r&&(o={unit:r,ratio:e}),this.json=i(this.json,{vertexes:t.info.vertexes,borderStyle:n.style,borderStyleParam:n.param,fillColor:t.info.fillColor,style:void 0,measure:o})},n.polyline=function(t){var n=v(t.info.borderInfo),e=t.info.measureRatio,r=t.info.measureUnit,o=null;e&&r&&(o={unit:r,ratio:e}),this.json=i(this.json,{vertexes:t.info.vertexes,fillColor:t.info.fillColor,borderStyle:n.style,borderStyleParam:n.param,style:void 0,startStyle:t.info.startStyle,endStyle:t.info.endingStyle,measure:o})},n.stamp=function(t){this.json=i({icon:t.info.icon,rotate:(t.info.rotation+360)%360,apObjeNum:t.info.apObjeNum},this.json)},n.freetext=function(t){var n=v(t.info.borderInfo),e="FreeTextTypewriter"==t.info.intent?0:t.info.fillColor;this.json=i(this.json,{calloutLinePoints:t.info.calloutLinePoints,innerRect:t.info.innerRect,borderStyle:n.style,borderStyleParam:n.param,style:void 0,"interior-color":e,calloutLineEndingStyle:t.info.calloutLineEndingStyle,defaultAppearance:t.info.defaultAppearance,rotate:t.info.rotation})},n.line=function(t){var n=v(t.info.borderInfo),e=t.info.measureRatio,r=t.info.measureUnit,o=null;e&&r&&(o={unit:r,ratio:e});var a=t.info.startPoint,u=t.info.endPoint;this.json=i(this.json,{styleFillColor:t.info.styleFillColor,startStyle:t.info.startStyle,endStyle:t.info.endingStyle,enableCaption:t.info.hasCaption,startPoint:{x:a.x,y:a.y},endPoint:{x:u.x,y:u.y},measure:o,borderStyle:n.style,borderStyleParam:n.param,style:void 0})},n.screen=function(t){var n=v(t.info.borderInfo);this.json=i({apObjNum:t.info.apObjNum,opacity:t.info.opacity,rotate:{0:0,90:1,180:2,270:3}[t.info.rotation],iObjNum:t.info.iObjNum,aObjNum:t.info.aObjNum,intensity:n.param},this.json)},n.redact=function(t){var n=t.info.quadPoints,e=[];n.length>0?n.map((function(t){e.push({left:t[0].x,right:t[3].x,top:t[0].y,bottom:t[3].y})})):e.push(t.info.rect),this.json=i(this.json,{rects:e,applyFillColor:t.info.applyFillColor})},n.highlight=function(t){t.info.isArea&&(this.json=i(this.json,{coords:[t.info.rect],dicts:{AreaHi:"AreaHi"}}),delete this.json.startCharIndex,delete this.json.endCharIndex)},n.link=function(t){var n=v(t.info.borderInfo);this.json=i(this.json,{aObjNum:t.info.aObjNum,borderStyle:n.style,borderStyleParam:n.param,style:void 0,highlightingMode:t.info.highlightingMode})},n.circle=function(t){var n=v(t.info.borderInfo),e=t.info.measureRatio,r=t.info.measureUnit,o=null;e&&r&&(o={unit:r,ratio:e}),this.json=i(this.json,{fillColor:t.info.fillColor,borderStyle:n.style,borderStyleParam:n.param,style:void 0,measure:o})},n.square=function(t){var n=v(t.info.borderInfo),e=t.info.measureRatio,r=t.info.measureUnit,o=null;e&&r&&(o={unit:r,ratio:e}),this.json=i(this.json,{fillColor:t.info.fillColor,measure:o,borderStyle:n.style,borderStyleParam:n.param,style:void 0})},n.getJson=function(){return this.json},t}();function v(t){var n,e=t.style,r=t.cloudIntensity,o=t.dashes;switch(e){case p.SOLID:n=[];break;case p.CLOUDY:n=r;break;case p.DASHED:n=o}return{style:e,param:n}}r(2087);var h=function(){function t(t){this.action=t,this.json={},this[t.type]()}var n=t.prototype;return n.TypeGoto=function(){var t=this.action.destination;this.json=i(t,{type:t.zoomMode})},n.TypeURI=function(){var t=this.action.uri;this.json=i({},{uri:t})},n.TypeJavaScript=function(){var t=this.action.javascript;this.json=i({},{script:t})},n.TypeNamed=function(){var t=this.action.name;this.json=i({},{name:t})},n.TypeHide=function(){var t=this.action,n=t.fieldNames,e=t.hideState;this.json=i({},{fieldNames:n,hideState:e})},n.TypeSubmitForm=function(){var t=this.action,n=t.flags,e=t.url,r=t.fieldNames;this.json=i({},{flags:n,url:e,fieldNames:r})},n.TypeResetForm=function(){var t=this.action,n=t.flags,e=t.fieldNames;this.json=i({},{flags:n,fieldNames:e})},n.TypeGoToR=function(){var t=this.action,n=t.destinationName,e=t.destination;this.json=i({},{destinationName:n,destination:e})},n.toJson=function(){return this.json},t}();r(3290);var y=r(361),g=r.n(y),b=(e.PDFViewCtrl.Consts.Intents,e.PDFViewCtrl.shared.QueuedAsyncTaskExecutor),m=function(t,n,e,r,o,i,a,u,c,s,f,l,p,v,y,b,m,w,R,N,j,P,I,C,D,k,L,_,M,V,F,U,B,G,H,Y,W,z){function $(t){this.pdfViewer=t,this.pdfViewer.recordsMap={}}var K=$.prototype;return K[t]=function(t){var n=t.annot,e=t.oldTitle,r=t.newTitle,o=this.pdfViewer;function i(t){return function(){return E(o,n).annot.setTitle(t)}}return{undo:i(e),redo:i(r)}},K[n]=function(t){var n=t.annot,e=t.oldSubject,r=t.newSubject,o=this.pdfViewer;function i(t){return function(){return E(o,n).annot.setSubject(t)}}return{undo:i(e),redo:i(r)}},K[e]=function(t){var n=t.annot,e=t.oldColor,r=t.newColor,o=this.pdfViewer;function i(t){return function(){var e=E(o,n);return-1===t&&(t=0),e.annot.setBorderColor(t).then((function(){e.updateRender()}))}}return{undo:i(e),redo:i(r)}},K[r]=function(t){var n=t.annot,e=t.oldOpacity,r=t.newOpacity,o=this.pdfViewer;function i(t){return function(){var e=E(o,n);return e.annot.setOpacity(t).then((function(){e.updateRender()}))}}return{undo:i(e),redo:i(r)}},K[o]=function(t){var n=t.annot,e=t.oldFillColor,r=t.newFillColor,o=this.pdfViewer;function i(t){return function(){var e=E(o,n);(e.annot.setStyleFillColor||e.annot.setFillColor).call(e.annot,t)}}return{undo:i(e),redo:i(r)}},K[i]=function(t){var n=t.annot,e=t.oldBorderWidth,r=t.newBorderWidth,o=this.pdfViewer;function i(t){return function(){return E(o,n).annot.setBorderWidth(t)}}return{undo:i(e),redo:i(r)}},K[a]=function(t){var n=t.annot,e=this.pdfViewer;function r(t){return function(){return E(e,t).annot.flip()}}return{undo:r(n),redo:r(n)}},K[u]=function(t){var n=t.annot,e=t.oldBorderStyle,r=t.newBorderStyle,o=this.pdfViewer;function i(t){return function(){return E(o,n).annot.setBorderStyle(t.style,t.param)}}return{undo:i(e),redo:i(r)}},K[c]=function(t){var n=t.annot,e=t.isStart,r=t.oldStyle,o=t.newStyle,i=this.pdfViewer;function a(t){return function(){var r=E(i,n);return r.annot.setCalloutLineEndingStyle?r.annot.setCalloutLineEndingStyle(+t).then((function(){r.redraw(),r.activeRect()})):r.annot.setEndingStyle(e,+t).then((function(){r.redraw(),r.activeRect()}))}}return{undo:a(r),redo:a(o)}},K[s]=function(t){var n=t.annot,e=t.oldEnableCaption,r=t.newEnableCaption,o=this.pdfViewer;function i(t){return function(){return E(o,n).annot.enableCaption(t)}}return{undo:i(e),redo:i(r)}},K[f]=function(t){var n=t.annot,e=t.oldRotation,r=t.newRotation,o=t.oldRect,i=t.newRect,a=this.pdfViewer;function u(t,e){return function(){var r=E(a,n);return"screen"===n.getType()?r.annot.setRect(e).then((function(n){if(n)return r.annot.setRotation((t+360)%360).then((function(){r.activeRect()}))})):r.annot.setRotation((t+360)%360).then((function(){r.activeRect()}))}}return{undo:u(e,o),redo:u(r,i)}},K[l]=function(t){var n=t.annot,e=t.oldHlMode,r=t.newHlMode,o=this.pdfViewer;function i(t){return function(){return E(o,n).annot.setHighlightingMode(t)}}return{undo:i(e),redo:i(r)}},K[p]=function(t){var n=t[0],e=t[1],r=this.pdfViewer;return{undo:T(r,n,e),redo:S(e,r)}},K[v]=function(t){var n=t.annot,e=this.pdfViewer,r=[n],o=n.getPopup&&n.getPopup();return o&&!o.isEmpty()&&r.push(o),n.isReplace&&n.isReplace()&&(r=n.getGroupElements().map((function(t){return t}))).push(n.getGroupHeader().getPopup()),{undo:S(n,e),redo:T(e,r,n),annot:n}},K[y]=function(t){var n=t.annot,e=t.oldStart,r=t.oldEnd,o=t.newStart,i=t.newEnd,a=this.pdfViewer;function u(t,e){return function(){var r=E(a,n);return r.annot.updateQuadPointsByCharIndex(t,e).then((function(){if(r.redraw(),r.isReplace)return r.caretAnnot.moveRectByCharIndex(e).then((function(){r.getGroupRenders().map((function(t){t.active()}))}));r.active()}))}}return{undo:u(e,r),redo:u(o,i)}},K[b]=function(t){var n=t.annot,e=t.oldRect,r=t.newRect,o=t.oldInnerRect,i=t.newInnerRect,a=this.pdfViewer;function u(t,e){return function(){var r=E(a,n);return e?r.annot.setRectAndInnerRect(t,e).then((function(){r.redraw(),r.active()})):r.annot.setRect(t).then((function(){r.redraw(),r.active()}))}}return{undo:u(e,o),redo:u(r,i)}},K[m]=function(t){var n=t.annot,e=t.originRect,r=t.newRect,o=this.pdfViewer;function i(t){return function(){var e=E(o,n);return e.annot.setRect(t).then((function(){e.redraw(),e.active()}))}}return{undo:i(e),redo:i(r)}},K[w]=function(t){var n=t.annot,e=t.originLeft,r=t.originTop,o=t.left,i=t.top,a=this.pdfViewer;function u(t,e){return function(){var r=E(a,n);return r&&r.annot?r.annot.moveTo({left:t,top:e}).then((function(){r.redraw(),r.active()})):Promise.resolve()}}return{undo:u(e,r),redo:u(o,i)}},K[R]=function(t){var n=t.annot,e=t.oldRect,r=t.oldCalloutLinePoints,o=t.oldInnerRect,i=t.newRect,a=t.newCalloutLinePoints,u=t.newInnerRect,c=this.pdfViewer;function s(t,e,r){return function(){var o=E(c,n);return o.annot._setRect(t,!1).then((function(){return o.annot.setInnerRectNoAction(r).then((function(){return o.annot.setCalloutLinePoints(e).then((function(){return o.annot.update().then((function(){o.redraw(),o.active()}))}))}))}))}}return{undo:s(e,r,o),redo:s(i,a,u)}},K[N]=function(t){var n=t.annot,e=t.oldStartPoint,r=t.oldEndPoint,o=t.newStartPoint,i=t.newEndPoint,a=this.pdfViewer;function u(t,e){return function(){var r=[],o=E(a,n);return r.push(o.annot.setStartPoint(t)),r.push(o.annot.setEndPoint(e)),Promise.all(r).then((function(){o.active()}))}}return{undo:u(e,r),redo:u(o,i)}},K[j]=function(t){var n=t.annot,e=t.oldLeaderLinePoints,r=t.oldStartPoint,o=t.oldEndPoint,i=t.newLeaderLinePoints,a=t.newStartPoint,u=t.newEndPoint,c=this.pdfViewer;function s(t,e,r){var o=t.start,i=(t.end,Math.sqrt(Math.pow(e.x-o.x,2)+Math.pow(e.y-o.y,2))),a=!0;return(r.x-e.x)*(o.y-r.y)-(o.x-r.x)*(r.y-e.y)>0&&(a=!1),a&&(i=-i),function(){var t=E(c,n);return t.annot.setLeaderLineLength(i).then((function(){t.active()}))}}return{undo:s(e,r,o),redo:s(i,a,u)}},K[P]=function(t){var n=t.annot,e=t.oldVertexes,r=t.oldIndex,o=t.newVertexes,i=t.newIndex,a=this.pdfViewer;function u(t,e){return function(){var r=E(a,n);return r.annot.updateVertexes(t,e[t]).then((function(){r.active()}))}}return{undo:u(r,e),redo:u(i,o)}},K[I]=function(t){var n=t.annot,e=t.oldContent,r=t.newContent,o=t.oldInnerRect,i=t.newInnerRect,a=t.oldRect,u=t.newRect,c=t.oldCalloutLinePoints,s=t.newCalloutLinePoints,f=this.pdfViewer,l=n.getId(),p=[];f.recordsMap[l]?p=f.recordsMap[l]:(f.recordsMap[l]=p,p.push({modifyDate:n.getCreateDateTime(),content:e}));var d=p.findIndex((function(t){return t.content===e}));function v(t,e,r,o){return function(){return function(t,n){var e=t.getCurrentPDFDoc();return e.getPageByIndex(n.page.getIndex()).then((function(t){return t.getAnnotsByObjectNumArray([n.objectNumber]).then((function(t){return t[0]}))}))}(f,n).then((function(n){return n.setContent(t).then((function(){(f.recordsMap[n.getId()]||[]).forEach((function(i){if(i.content===t)return r?n.setRect(r).then((function(){return e&&n.setInnerRect(e).then((function(){return o&&n.setCalloutLinePoints(o).then((function(){var t=E(f,n);return t.redraw(),t.active(),n._setModifiedDateTime(i.modifyDate)}))}))})):n._setModifiedDateTime(i.modifyDate)}))}))}))}}return-1!==d&&(p.length=d+1),p.push({modifyDate:n.getModifiedDateTime(),content:r}),{undo:v(e,o,a,c),redo:v(r,i,u,s)}},K[C]=function(t){var n=t.redacts,e=this.pdfViewer,r=n.map((function(t){var n=t.getPopup&&t.getPopup();return n&&!n.isEmpty()?[t,n]:[t]}));return{undo:function(){return Promise.all(n.map((function(t){return t.getPDFPage().removeAnnot(t)})))},redo:function(){return Promise.all(r.map((function(t){if(!(t.length<1))return t[0].page.addAnnotObjects(t.map((function(t){return t.objectNumber}))).then((function(n){e.killFocus();var r=E(e,t[0]);r&&r.active()}))})))}}},K[D]=function(t){var n=t.annot,e=t.replyAnnot,r=this.pdfViewer;return{undo:A(n,g()(e),r),redo:x(n,g()(e),r)}},K[k]=function(t){var n=t.annot,e=t.replyAnnot,r=this.pdfViewer;return{undo:x(n,g()(e),r),redo:A(n,g()(e),r)}},K[L]=function(t){var n=t.annot,e=this.pdfViewer,r=n.getAction();return{undo:function(){return n.removeAction()},redo:function(){return function(t,n){return t.setAction(n.type).then((function(){var e=new h(n).toJson();return t.setActionData(e).then((function(){return O(t.getAction(),n)}))}))}(E(e,n).annot,r.info)}}},K[_]=function(t){var n=t.beforeInks,e=t.afterInks,r=this.pdfViewer;return{undo:function(){var t=n.map((function(t,n){var o=t.annot,i=t.inkList;return t.isRemove?T(r,e[n].params,o,!1)().then((function(t){return E(r,o).annot.setInkList(i)})):E(r,o).annot.setInkList(i)}));return Promise.all(t)},redo:function(){var t=e.map((function(t){var n=t.annot;t.inkList;return t.isRemove?S(n,r)():E(r,t.annot).annot.setInkList(t.inkList)}));return Promise.all(t)}}},K[M]=function(t){var n=t.annot,e=this.pdfViewer,r=[n],o=n.getPopup();return o&&!o.isEmpty()&&r.push(o),{undo:S(n,e),redo:T(e,r,n)}},K[V]=function(t){var n=t.redacts,e=this.pdfViewer,r=[];return n.map((function(t){r.push(new d(t).getJson())})),{undo:function(){return Promise.all(n.map((function(t){return t.getPDFPage().removeAnnot(t)})))},redo:T(e,n,n[0])}},K[F]=function(t){var n=t.redacts,e=this.pdfViewer,r=[];return n.map((function(t){r.push(new d(t).getJson())})),{undo:function(){return Promise.all(n.map((function(t){return t.getPDFPage().removeAnnot(t)})))},redo:T(e,n,n[0])}},K[U]=function(t){var n=t.annot,e=t.stateName,r=this.pdfViewer,o=n.getPDFPage(),i=n.getObjectNumber(),a=n.getReviewStates().find((function(t){return t.info.state===e}));return{undo:function(){return o.getAnnotsByObjectNumArray([i]).then((function(t){return t[0]&&t[0].removeReviewState()}))},redo:function(){return o.getAnnotsByObjectNumArray([i]).then((function(t){return function(t,n,e,r,o){void 0===o&&(o=!0);var i=e[0].page;return i.addReviewStateAnnotObject(n,e.map((function(t){return t.objectNumber}))).then((function(n){t.killFocus();var e=E(t,r);o&&e&&e.active()}))}(r,t[0],[a],a)}))}}},K[B]=function(t){var n=t.annot,e=t.stateName,r=this.pdfViewer,o=n.getMarkedStates().find((function(t){return t.info.state===e}));function i(t){return n.page.getAnnotsByObjectNumArray([t]).then((function(t){return t[0]}))}return{undo:function(){return i(n.objectNumber).then((function(t){return t.removeMarkedState()}))},redo:function(){return i(n.objectNumber).then((function(t){return function(t,n,e,r,o){void 0===o&&(o=!0);return e[0].page.addMarkedStateAnnotObject(n,e.map((function(t){return t.objectNumber})),!0,!0).then((function(n){t.killFocus();var e=E(t,r);o&&e&&e.active()}))}(r,t,[o],o)}))}}},K[G]=function(t){var n=t.annot,e=t.oldDA,r=t.newDA,o=this.pdfViewer;function i(t){return function(){var e=E(o,n);return e.annot.setDefaultAppearance(t).then((function(){e.active()}))}}return{undo:i(e),redo:i(r)}},K[H]=function(t){var n=t.srcPage,e=t.destPage,r=t.annots,o=this.pdfViewer.getCurrentPDFDoc(),i=Object.keys(r).reduce((function(t,n){var e=r[n];return t[n]={rect:e.oldRect,oldRect:e.rect},t}),{});return{undo:function(){return o.moveAnnotsToPage(e,n,i,!0)},redo:function(){return o.moveAnnotsToPage(n,e,r,!0)}}},K[Y]=function(t){var n=t.annot,e=t.oldCaptionOffset,r=t.newCaptionOffset,o=this.pdfViewer;function i(t){return function(){var e=E(o,n);return e.annot.setCaptionOffset(t.x,t.y).then((function(){e.active()}))}}return{undo:i(e),redo:i(r)}},K[W]=function(t){var n=this,e=t.page,r=t.annotIds,o=t.isGroup;return{undo:function(){n.pdfViewer.killFocus(),e.handleGroupMarkup(r,!o)},redo:function(){n.pdfViewer.killFocus(),e.handleGroupMarkup(r,o)}}},K[z]=function(t){var n=t.annot,e=t.oldIconName,r=t.newIconName,o=this.pdfViewer;function i(t){return function(){return E(o,n).annot.setIconName(t)}}return{undo:i(e),redo:i(r)}},$}(a.SETTITLE,a.SETSUBJECT,a.SETCOLOR,a.SETOPACITY,a.SETFILLCOLOR,a.SETBORDERWIDTH,a.FlipPoint,a.SETBORDERSTYLE,a.SETENDINGSTYLE,a.ENABLECAPTION,a.SETROTATION,a.SETHIGHLIGHTINGMODE,a.REMOVEANNOT,a.ADDANNOT,a.UPDATEQUADPOINTSBYCHARINDEX,a.SETRECT,a.ANNOT_SET_RECT,a.MOVETO,a.UPDATECALLOUTPOINTS,a.UPDATELINEPOINTS,a.SETLEADERLINELENGTH,a.UPDATEVERTEXES,a.SETCONTENT,a.PLACEREDACT,a.ADDREPLY,a.DELETEREPLY,a.ADDACTION,a.ERASER,a.MARKREDACTANNOT,a.MAKEREDACTBYPAGES,a.MARKCHECKEDRESULTREDACTION,a.ADDREVIEWSTATE,a.ADD_MARKED_STATE,a.DEFAULTAP,a.moveAnnotsCrossPage,a.UPDATECAPTIONOFFSET,a.Group,a.SETICONNAME);function E(t,n){var e=t.getAnnotRender(n.page.getIndex(),n.objectNumber);return e?e.component:null}function T(t,n,e,r){if(void 0===r&&(r=!0),!(n.length<1)){var o=n[0].page;return function(){return o.addAnnotObjects(n.map((function(t){return t.objectNumber}))).then((function(n){t.killFocus();var o=E(t,e);r&&o&&o.active()}))}}}function S(t,n){return function(){n.activeElement();var e=E(n,t);return e&&e.annot&&e.annot.getPDFPage().removeAnnot(e.annot).then((function(t){var r=n.getCurrentActivatable();return r&&r.remove&&r.remove(e),t}))}}function x(t,n,e){return function(){var e=t.page;return e.addAnnotObjects([n.objectNumber],!1).then((function(r){t=e.annotIdMap[t.objectNumber];var o=n.reviewStates;if(o.length>0){var i=[];o.map((function(t){i.push(t.info.state)})),function(t,n){var e=new b;n.forEach((function(n){e.exec((function(){return t.addReviewState(n)}))})),e.waitForCurrentRunningTasks()}(r[0],i)}t.info.repliesSummary.some((function(t){return t.objectNumber==n.objectNumber}))||(t.info.repliesSummary.push({objectNumber:r[0].info.objectNumber,id:r[0].info.objectNumber,index:r[0].info.index}),t.replies.push(r[0])),e.doc.engine.eventEmitter.emit("annotation-reply-add",r[0],t),e.doc.engine.eventEmitter.emit("annotation-updated",[t],e,"add-replies")}))}}function A(t,n,e){return function(){return t.getPDFPage().removeAnnot(n)}}function O(t,n){for(var e=n.subActionCount,r=[],o=function(e){r.push(t.insertSubAction(e,n.subAction[e].type).then((function(){var r=new RecoveryAction(n.subAction[e]).toJson(),o=t.getSubAction(e);return o.setActionData(r).then((function(){return O(o,n.subAction[e])}))})))},i=0;i<e;i++)o(i);return Promise.all(r)}var w=function(){function t(t){this.pdfViewer=t}return t.prototype.add=function(t,n){this[t]=n},t}(),R=function(){function t(t){this.pdfViewer=t}var n=t.prototype;return n.add=function(t){return{undo:I(this.pdfViewer,t),redo:P(this.pdfViewer,t)}},n.remove=function(t){return j.push(t.bookmark.id),{undo:P(this.pdfViewer,t),redo:I(this.pdfViewer,t)}},n.rename=function(t){var n=t.bookmark,e=t.newName,r=t.oldName;return{undo:C(this.pdfViewer,{bookmark:n,name:r}),redo:C(this.pdfViewer,{bookmark:n,name:e})}},n.setColor=function(t){var n=t.bookmark,e=t.newColor,r=t.oldColor;return{undo:k(this.pdfViewer,{bookmark:n,style:r}),redo:k(this.pdfViewer,{bookmark:n,style:e})}},n.setStyle=function(t){var n=t.bookmark,e=t.newStyle,r=t.oldStyle;return{undo:D(this.pdfViewer,{bookmark:n,style:r}),redo:D(this.pdfViewer,{bookmark:n,style:e})}},n.clear=function(){N={},j=[]},t}(),N={},j=[];function P(t,n){var e=n.bookmark,r=e.id,o=e.page,a=e.left||0,u=e.top||0,c=e.title,s=i([],e.children),f=n.siblingBookmark,l=f.id,p=n.position;return function(){e=N[r]||e,f=N[l]||f,c=e.title,s=s.filter((function(t){return-1===j.indexOf(t.id)})),f.insertBookmark(c,o,u,a,p).then((function(n){L(r,n),L(n.id,n),r=n.id,s.forEach((function(e){P(t,{bookmark:e,siblingBookmark:n})()}))}))}}function I(t,n){var e=n.bookmark,r=e.id,o=e.parent.children;return function(){if(e=N[r]||e,r=e.id,e){j.push(r),e.remove();for(var t=0;t<o.length;t++){if(o[t].id===e.id){o.splice(t,1);break}}}}}function C(t,n){var e=n.bookmark,r=e.id,o=n.name;return function(){(e=N[r]||e)&&e.setProperty({title:o},!1).then((function(n){L(e.id,n),L(r,n),t.eventEmitter.emit("bookmark-update-attr",e.id,{name:o})}))}}function D(t,n){var e=n.bookmark,r=e.id,o=n.style,i=o[0],a=o[1];return function(){(e=N[r]||e)&&e.setProperty({style:i|a},!1).then((function(){e.isItalic=i,e.isBold=a,L(r,e),t.eventEmitter.emit("bookmark-update-attr",e.id,{isBold:a,isItalic:i})}))}}function k(t,n){var e=n.bookmark,r=e.id,o=n.style;return function(){(e=N[r]||e)&&e.setProperty({color:o},!1).then((function(){e.color=o,L(r,e),t.eventEmitter.emit("bookmark-update-attr",e.id,{color:o})}))}}function L(t,n){var e=N[t];if(N[t]=n,e)for(var r in N){N[r].id===e.id&&(N[r]=n)}}r(2526),r(1817),r(5306);var _=function(){function t(t){this.pdfViewer=t,this.fileNameObjNumMapping={}}var n=t.prototype;return n.add=function(t){return{undo:F(this.pdfViewer,t),redo:V(this.pdfViewer,t)}},n.remove=function(t){return{undo:V(this.pdfViewer,t),redo:F(this.pdfViewer,t)}},n.setDesc=function(t){var n=t.fileName,e=t.description,r=t.objNum,o=t.annot;return M[n=(o?"annot_":"")+n]||(M[n]={objNum:r,description:e}),{undo:U(this.pdfViewer,{fileName:t.fileName,objNum:t.objNum,description:t.descriptionOld,annot:o}),redo:U(this.pdfViewer,{fileName:t.fileName,objNum:t.objNum,description:t.description,annot:o})}},n.replace=function(t){var n=this,e=this.pdfViewer.currentPDFDoc,r=t.oldFile,o=r.fileName,i=r.objNum,a=r.description,u=t.objNum;return{undo:function(){e.setEmbeddedFileByAttachments(o,i).then((function(){a&&U(n.pdfViewer,{fileName:o,objNum:i,description:a})}))},redo:function(){e.setEmbeddedFileByAttachments(o,u)}}},n.clear=function(){M={}},t}(),M={};function V(t,n){var e=n.fileName;return M[e]||(M[e]={}),n.hasOwnProperty("objNum")&&(M[e].objNum=n.objNum),n.hasOwnProperty("fileBuffer")&&(M[e].fileBuffer=n.fileBuffer),function(){var n=t.currentPDFDoc,r=M[e],o=r.fileBuffer,i=r.description;return n.addFileSpec(e,o,new Date).then((function(t){return M[e].objNum=t,n.addEmbeddedFileByAttachments(e,t).then((function(){return i&&n.setFileSpecDesc(i,t)}))}))}}function F(t,n){var e=n.fileName;return function(){t.currentPDFDoc.removeEmbeddedFileByAttachments(e)}}function U(t,n){var e,r,o=n.fileName,i=n.description,a=n.annot,u=n.objNum;return a&&(e=a.getPage().getIndex(),r=a.getObjectNumber(),o="annot_"+o),function(){var n=M[o];t.currentPDFDoc.setFileSpecDesc(i,n.objNum||u).then((function(){if(M[o].description=i,r){var n=t.getAnnotRender(e,r),a=n&&n.annot;a&&a.setContent(i).then((function(){return a.update()}))}}))}}var B=function(){function t(t){this.pdfViewer=t}var n=t.prototype;return n.rotate=function(t){var n={},e={};for(var r in t){var o=t[r],i=o.from,a=o.to;n[r]=i,e[r]=a}return{undo:G(this.pdfViewer,n),redo:G(this.pdfViewer,e)}},n.clear=function(){},t}();function G(t,n){return function(){for(var e in n){var r=n[e];t.getPDFDocRender().getPDFPageRender(e).page.setRotation(r),t.collaborate("ppo-rotate-page",{pageIndex:e,angle:90*r})}}}var H=UIExtension.UIEvents,Y=function(){function t(t,n){this.pdfViewer=t,this.undoRedoManager=n,this.annoutInitStatesManager={};var e=Promise.resolve();this.interpreter={annot:new m(t),user:new w(t),bookmark:new R(t),attachment:new _(t),rotatePage:new B(t),undo:function(t){return e=e.finally((function(){return t.undo()}))},redo:function(t){e=e.finally((function(){return t.redo()}))}}}var n=t.prototype;return n.before=function(t,n,e){this.beforeData={type:t,fnName:n,data:e}},n.after=function(t,n,e,r){void 0===r&&(r=!1);var o=this.beforeData;o.type===t||o.fnName===n?this.create(t,n,i(o.data,e),r):this.beforeData=null},n.create=function(t,n,e,r){void 0===r&&(r=!1),1===Object.keys(e).length&&e.annot&&(this.annoutInitStatesManager[e.annot.objectNumber]=e.annot);var o,i=this.interpreter[t][n](e);o=r?this.undoRedoManager.mergeLast(i):this.undoRedoManager.storage(i);var a=this.undoRedoManager.getRedoStack().clear();return this.pdfViewer.eventEmitter.emit(H.undoRedoStoreChange,this),function(){o(),a()}},n.removeByName=function(t){this.undoRedoManager.removeByName(t),this.pdfViewer.eventEmitter.emit(H.undoRedoStoreChange,this)},n.clear=function(){this.undoRedoManager.clear(),this.annoutInitStatesManager={};var t=this.interpreter;[t.bookmark,t.attachment,t.rotatePage].forEach((function(t){t.clear()}))},n.undo=function(){var t=this.undoRedoManager.undo();t&&(this.interpreter.undo(t),this.pdfViewer.eventEmitter.emit(H.undoRedoStoreChange,this))},n.redo=function(){var t=this.undoRedoManager.redo();t&&(this.interpreter.redo(t),this.pdfViewer.eventEmitter.emit(H.undoRedoStoreChange,this))},n.popUndoStack=function(){this.undoRedoManager.getUndoStack().pop()},n.undoAll=function(){for(var t in this.annoutInitStatesManager){var n=this.annoutInitStatesManager[t],e=this.pdfViewer.getAnnotRender(n.page.info.index,n.objectNumber);e&&e.component&&e.component.hideUI()}for(var r=this,o="",i=[];o=this.undoRedoManager.undo();)!function(t){i.push((function(){return r.interpreter.undo(t)}))}(o);return i.reduce((function(t,n){return t.then((function(){return n()}))}),Promise.resolve())},t}(),W=(e.UIEvents,function(){function t(t,n){this.pdfViewer=t,this.controller=n}var n=t.prototype;return n.init=function(){this.bindEvent()},n.bindEvent=function(){},n.pushUndoStack=function(t,n){this.controller.create("bookmark",t,n)},t}()),z=(e.UIEvents,function(){function t(t,n){this.pdfViewer=t,this.controller=n}var n=t.prototype;return n.init=function(){this.bindEvent()},n.bindEvent=function(){},n.pushUndoStack=function(t,n){this.controller.create("attachment",t,n)},t}()),$=(e.UIEvents,function(){function t(t,n){this.pdfViewer=t,this.controller=n}var n=t.prototype;return n.init=function(){this.bindEvent()},n.bindEvent=function(){},n.pushUndoStack=function(t,n){this.controller.create("rotatePage",t,n)},t}()),K=e.UIEvents,q=e.PDFViewCtrl.keyboard,X=q.BuiltinCommand,J=q.BuiltinShortcutContext,Q=q.interceptors,Z=function(){function t(t){this.pdfViewer=t}var n=t.prototype;return n.isDisabled=function(){return-1!==["touch-up-editor","page-editor"].indexOf(this.pdfViewer.stateHandlerManager.getCurrentStates().getStateName())},n.init=function(){var t=this,n=this.undoRedoManager=new l(this.pdfViewer),e=this.controller=new Y(this.pdfViewer,n);(this.annotModule=new s(this.pdfViewer,e)).init(),(this.bookmarkModule=new W(this.pdfViewer,e)).init(),(this.attachmentModule=new z(this.pdfViewer,e)).init(),(this.rotatePageModule=new $(this.pdfViewer,e)).init();var r=!1,o=!1;this.pdfViewer.getKeyboard().withContext(J.VIEWER,(function(n){var e={interceptors:[Q.excludeEditableElementInterceptor(),Q.preventDefaultInterceptor()]};n.keydown(X.UNDO_OPERATION,(function(){t.isDisabled()||r||(t.undo(),r=!0,setTimeout((function(){return r=!1}),100))}),e),n.keydown(X.REDO_OPERATION,(function(){t.isDisabled()||o||(t.redo(),o=!0,setTimeout((function(){return o=!1}),100))}),e)})),this.pdfViewer.eventEmitter.on(K.willCloseDocument,(function(){e.clear()}))},n.undo=function(){this.controller.undo()},n.redo=function(){this.controller.redo()},n.undoAll=function(){return this.controller.undoAll()},n.restMergeStatus=function(){this.annotModule.resetMergeStatus()},t}(),tt=r(1843),nt=r.n(tt),et=function(t){function e(){return t.apply(this,arguments)||this}n(e,t),e.getName=function(){return"undo-redo"},e.getLoader=function(){return nt()};var r=e.prototype;return r.init=function(n){var e=this;t.prototype.init.call(this,n),this.addonPromise=n.getPDFViewer().then((function(t){if(!t.collaborationOptions||!t.collaborationOptions.enable)return e.addon=new Z(t),e.addon.init(),e.addon}))},r.receiveAction=function(t,n){return this.addonPromise.then((function(e){if(!e)throw new Error("undo/redo is not supported when collaboration is enabled!");return e[t](n)}))},e}(e.UIXAddon)}(),o=o.default}()}));