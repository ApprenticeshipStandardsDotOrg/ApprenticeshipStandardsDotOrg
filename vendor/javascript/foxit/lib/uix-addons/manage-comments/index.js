!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("UIExtension")):"function"==typeof define&&define.amd?define(["UIExtension"],n):"object"==typeof exports?exports.ManageCommentsAddon=n(require("UIExtension")):t.ManageCommentsAddon=n(t.UIExtension)}(self,(function(t){return function(){var n={588:function(t){t.exports=null},616:function(n){"use strict";n.exports=t}},e={};function o(t){var r=e[t];if(void 0!==r)return r.exports;var i=e[t]={exports:{}};return n[t](i,i.exports,o),i.exports}o.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(n,{a:n}),n},o.d=function(t,n){for(var e in n)o.o(n,e)&&!o.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:n[e]})},o.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)};var r={};return function(){"use strict";function t(n,e){return t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},t(n,e)}function n(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,t(n,e)}o.d(r,{default:function(){return y}});var e=o(616),i=o(588),c=o.n(i),s=function(t){function e(){return t.apply(this,arguments)||this}return n(e,t),e.getName=function(){return"manage-comments-dropdown"},e}(e.SeniorComponentFactory.createSuperClass({template:'\n        <ribbon-button\n        text="manage-comments:manageComments.text"\n        icon-class="fv__icon-manage-comments"\n        class="manage-comments"\n        @var.self="$component">\n            <dropdown icon-class="fv__icon-comment-comments" separate=false>\n                <dropdown-item class="fv__ui-dropdown-container-item">\n                    <manage-comments:comments-dropdown></manage-comments:comments-dropdown>\n                </dropdown-item>\n            </dropdown>\n        </ribbon-button>\n    '})),a=function(t){function e(){return t.apply(this,arguments)||this}return n(e,t),e.getName=function(){return"comments-dropdown"},e}(UIExtension.SeniorComponentFactory.createSuperClass({template:'\n        <dropdown \n            separate="false"\n            align="out-right"\n            valign="center"\n            class="comments-dropdown"\n            icon-class="fv__icon-comment-comments"\n            name="comments-dropdown" \n            text="manage-comments:comments.text">\n            <manage-comments:show-all-button ribbon-icon="" name="dropdown-show-all"></manage-comments:show-all-button>\n            <manage-comments:hide-all-button ribbon-icon="" name="dropdown-hide-all"></manage-comments:hide-all-button>\n        </dropdown>\n    '})),u=e.PDFUI,m=e.PDFViewCtrl.ViewerEvents,l=function(t){function o(){return t.apply(this,arguments)||this}n(o,t),o.scope=function(){return e.ServiceScope.SINGLETON},o.inject=function(){return{pdfUI:u}};var r=o.prototype;return r.showAll=function(){this.pdfUI&&this.pdfUI.eventEmitter.emit(m.showAllComments)},r.hideAll=function(){this.pdfUI&&this.pdfUI.eventEmitter.emit(m.hideAllComments)},o}(e.PDFViewCtrl.shared.Disposable),p=JSON.stringify({shortcutKey:"Ctrl+8",handleName:"click"}),d=function(t){function e(){return t.apply(this,arguments)||this}n(e,t),e.getName=function(){return"show-all-button"},e.services=function(){return{service:l}};var o=e.prototype;return o.mounted=function(){t.prototype.mounted.call(this),this.pdfUI.getComponentByName("comment-list-sidebar-panel").then((function(t){return!t.children().length&&t.trigger("active")}))},o.click=function(){return this.service.showAll()},e}(e.SeniorComponentFactory.createSuperClass({template:'<xbutton\n        @tooltip tooltip-title="manage-comments:show-all.desc"\n        tooltip-description="manage-comments:show-all.descSub"\n        text="manage-comments:show-all.text"\n        @on.click="$component.click()"\n        @manage-comments:shortcutKey='+p+'\n        @tooltip\n        icon-class="fx-icon-sm fv__icon-show_all-comments"\n    >\n    </xbutton>'})),f=JSON.stringify({shortcutKey:"Ctrl+Shift+8",handleName:"click"}),h=function(t){function e(){return t.apply(this,arguments)||this}n(e,t),e.getName=function(){return"hide-all-button"},e.services=function(){return{service:l}};var o=e.prototype;return o.mounted=function(){t.prototype.mounted.call(this)},o.click=function(){return this.service.hideAll()},e}(e.SeniorComponentFactory.createSuperClass({template:'<xbutton\n        @tooltip tooltip-title="manage-comments:hide-all.desc"\n        tooltip-description="manage-comments:hide-all.descSub"\n        text="manage-comments:hide-all.text"\n        @on.click="$component.click()"\n        @manage-comments:shortcutKey='+f+'\n        @tooltip\n        icon-class="fx-icon-sm fv__icon-hide_all-comments"\n    >\n    </xbutton>'})),g=function(t){function e(){return t.apply(this,arguments)||this}n(e,t),e.getName=function(){return"shortcutKey"};var o=e.prototype;return o.init=function(n){t.prototype.init.call(this,n);var e=this.getShortcutKeyOptions(),o=e.shortcutKey,r=e.handleName;if(n[r]){var i=n.pdfUI.pdfViewer,c=function(t){i.getCurrentPDFDoc()&&n.isVisible&&!n.disabled&&n[r].bind(n)()};i.onShortcutKey(o,c),this.addDestroyHook((function(){i.offShortcutKey(o,c)}))}},o.getShortcutKeyOptions=function(){var t,n;try{var e=JSON.parse(this.attrValue),o=e.shortcutKey,r=e.handleName;t=o,n=r}catch(t){}return{shortcutKey:t,handleName:n}},e}(e.Directive),y=function(t){function o(){return t.apply(this,arguments)||this}n(o,t),o.getName=function(){return"manage-comments"},o.getLoader=function(){return c()},o.initOnLoad=function(){var t=e.modular.module("manage-comments",[]);t.registerComponent(s),t.registerComponent(a),t.registerComponent(d),t.registerComponent(h),t.getRegistry().registerDirective(g)};var r=o.prototype;return r.init=function(t){this.pdfUI=t},r.serviceClass=function(){return l},r.service=function(){return this.pdfUI.getServiceInstance(l)},o}(e.UIXAddon)}(),r=r.default}()}));