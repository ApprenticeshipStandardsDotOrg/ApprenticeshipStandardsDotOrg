!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("UIExtension")):"function"==typeof define&&define.amd?define(["UIExtension"],e):"object"==typeof exports?exports.Thumbnail=e(require("UIExtension")):t.Thumbnail=e(t.UIExtension)}(self,(function(t){return function(){var e={8325:function(t,e,n){n(5779);t.exports=function(t){"use strict";t=t||{};return'<contextmenu name="fv--thumbnail-contextmenu" @thumbnail:permission>\n<contextmenu-item feature="rotate" name="contextmenu-item-thumbnail-rotate-left" @controller="thumbnail:RotateLeftController">thumbnail:contextmenu.rotateLeft</contextmenu-item>\n<contextmenu-item feature="rotate" name="contextmenu-item-thumbnail-rotate-right" @controller="thumbnail:RotateRightController">thumbnail:contextmenu.rotateRight</contextmenu-item>\n<contextmenu-separator></contextmenu-separator>\n<contextmenu-item feature="insert" name="contextmenu-item-thumbnail-add-blank-page" @controller="thumbnail:InsertBlankPageController">thumbnail:contextmenu.addBlankPage</contextmenu-item>\n<contextmenu-separator></contextmenu-separator>\n<thumbnail:delete-page-contextmenu-item name="contextmenu-item-thumbnail-delete"></thumbnail:delete-page-contextmenu-item>\n\x3c!--\n<contextmenu-item @controller="crop-pages:ShowCropPagesDialogController">thumbnail:contextmenu.crop</contextmenu-item>\n--\x3e\n</contextmenu>\n','<contextmenu name="fv--thumbnail-contextmenu" @thumbnail:permission>\n<contextmenu-item feature="rotate" name="contextmenu-item-thumbnail-rotate-left" @controller="thumbnail:RotateLeftController">thumbnail:contextmenu.rotateLeft</contextmenu-item>\n<contextmenu-item feature="rotate" name="contextmenu-item-thumbnail-rotate-right" @controller="thumbnail:RotateRightController">thumbnail:contextmenu.rotateRight</contextmenu-item>\n<contextmenu-separator></contextmenu-separator>\n<contextmenu-item feature="insert" name="contextmenu-item-thumbnail-add-blank-page" @controller="thumbnail:InsertBlankPageController">thumbnail:contextmenu.addBlankPage</contextmenu-item>\n<contextmenu-separator></contextmenu-separator>\n<thumbnail:delete-page-contextmenu-item name="contextmenu-item-thumbnail-delete"></thumbnail:delete-page-contextmenu-item>\n\x3c!--\n<contextmenu-item @controller="crop-pages:ShowCropPagesDialogController">thumbnail:contextmenu.crop</contextmenu-item>\n--\x3e\n</contextmenu>\n'}},87:function(t,e,n){n(5779);t.exports=function(t){"use strict";t=t||{};return'<thumbnail:thumbnail-list\n@thumbnail:centered\n@thumbnail:rearrange-pages\n@thumbnail:drop-to-merge-doc\n@aria:label="thumbnail:title"\nname="thumbnail-list"\n>\n<thumbnail:thumbnail-item\n@foreach="thumbnail in thumbnail_list.thumbnails track by id"\n@setter.thumbnail_id="thumbnail.id"\n@lazy-content="visible"\nname="thumbnail-item"\n>\n<div class="fv__ui-thumbnail-viewer-container">\n<thumbnail:thumbnail-viewer @setter.thumbnail="thumbnail" @thumbnail:visible-rect-control name="thumbnail-page-viewer"></thumbnail:thumbnail-viewer>\n</div>\n<thumbnail:page-number name="thumbnail-page-number">@{thumbnail.pageIndex+1}</thumbnail:page-number>\n</thumbnail:thumbnail-item>\n</thumbnail:thumbnail-list>\n','<thumbnail:thumbnail-list\n@thumbnail:centered\n@thumbnail:rearrange-pages\n@thumbnail:drop-to-merge-doc\n@aria:label="thumbnail:title"\nname="thumbnail-list"\n>\n<thumbnail:thumbnail-item\n@foreach="thumbnail in thumbnail_list.thumbnails track by id"\n@setter.thumbnail_id="thumbnail.id"\n@lazy-content="visible"\nname="thumbnail-item"\n>\n<div class="fv__ui-thumbnail-viewer-container">\n<thumbnail:thumbnail-viewer @setter.thumbnail="thumbnail" @thumbnail:visible-rect-control name="thumbnail-page-viewer"></thumbnail:thumbnail-viewer>\n</div>\n<thumbnail:page-number name="thumbnail-page-number">@{thumbnail.pageIndex+1}</thumbnail:page-number>\n</thumbnail:thumbnail-item>\n</thumbnail:thumbnail-list>\n'}},1784:function(t,e,n){n(5779);t.exports=function(t){"use strict";t=t||{};return'<ol class="fv__ui-thumbnail-list" @var.thumbnail_list="$component"></ol>','<ol class="fv__ui-thumbnail-list" @var.thumbnail_list="$component"></ol>'}},5355:function(t,e,n){n(5779);t.exports=function(t){"use strict";t=t||{};return'<thumbnail:sidebar-panel name="sidebar-thumbnail-panel" @lazy-content="active">\n<thumbnail:toolbar></thumbnail:toolbar>\n<thumbnail:complete-thumbnail-list></thumbnail:complete-thumbnail-list>\n</thumbnail:sidebar-panel>\n','<thumbnail:sidebar-panel name="sidebar-thumbnail-panel" @lazy-content="active">\n<thumbnail:toolbar></thumbnail:toolbar>\n<thumbnail:complete-thumbnail-list></thumbnail:complete-thumbnail-list>\n</thumbnail:sidebar-panel>\n'}},9706:function(t,e,n){n(5779);t.exports=function(t){"use strict";t=t||{};return'<sidebar-panel\n@tooltip tooltip-placement="right"\ntooltip-title="thumbnail:tooltip"\ntitle="thumbnail:title"\nclass="fv__ui-thumbnail-sidebar"\nicon-class="fv__icon-sidebar-thumbnail"\n@lazy-content="active">\n</sidebar-panel>','<sidebar-panel\n@tooltip tooltip-placement="right"\ntooltip-title="thumbnail:tooltip"\ntitle="thumbnail:title"\nclass="fv__ui-thumbnail-sidebar"\nicon-class="fv__icon-sidebar-thumbnail"\n@lazy-content="active">\n</sidebar-panel>'}},9811:function(t,e,n){n(5779);t.exports=function(t){"use strict";t=t||{};return'<div class="fv__ui-thumbnail-toolbar">\n<thumbnail:enlarge-thumbnail name="thumbnail-zoom-in"></thumbnail:enlarge-thumbnail>\n<thumbnail:reduce-thumbnail name="thumbnail-zoom-out"></thumbnail:reduce-thumbnail>\n</div>\n','<div class="fv__ui-thumbnail-toolbar">\n<thumbnail:enlarge-thumbnail name="thumbnail-zoom-in"></thumbnail:enlarge-thumbnail>\n<thumbnail:reduce-thumbnail name="thumbnail-zoom-out"></thumbnail:reduce-thumbnail>\n</div>\n'}},3358:function(t){t.exports=null},5585:function(t,e,n){"use strict";
/*! art-template@runtime | https://github.com/aui/art-template */var r="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:{},i=Object.create(r),o=/["&'<>]/;function a(t){return"string"!=typeof t&&(t=null==t?"":"function"==typeof t?a(t.call(t)):JSON.stringify(t)),t}i.$escape=function(t){return function(t){var e=""+t,n=o.exec(e);if(!n)return t;var r="",i=void 0,a=void 0,u=void 0;for(i=n.index,a=0;i<e.length;i++){switch(e.charCodeAt(i)){case 34:u="&#34;";break;case 38:u="&#38;";break;case 39:u="&#39;";break;case 60:u="&#60;";break;case 62:u="&#62;";break;default:continue}a!==i&&(r+=e.substring(a,i)),a=i+1,r+=u}return a!==i?r+e.substring(a,i):r}(a(t))},i.$each=function(t,e){if(Array.isArray(t))for(var n=0,r=t.length;n<r;n++)e(t[n],n);else for(var i in t)e(t[i],i)},t.exports=i},5779:function(t,e,n){"use strict";t.exports=n(5585)},9662:function(t,e,n){var r=n(614),i=n(6330),o=TypeError;t.exports=function(t){if(r(t))return t;throw o(i(t)+" is not a function")}},9483:function(t,e,n){var r=n(4411),i=n(6330),o=TypeError;t.exports=function(t){if(r(t))return t;throw o(i(t)+" is not a constructor")}},6077:function(t,e,n){var r=n(614),i=String,o=TypeError;t.exports=function(t){if("object"==typeof t||r(t))return t;throw o("Can't set "+i(t)+" as a prototype")}},1223:function(t,e,n){var r=n(5112),i=n(30),o=n(3070).f,a=r("unscopables"),u=Array.prototype;null==u[a]&&o(u,a,{configurable:!0,value:i(null)}),t.exports=function(t){u[a][t]=!0}},1530:function(t,e,n){"use strict";var r=n(8710).charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},5787:function(t,e,n){var r=n(7976),i=TypeError;t.exports=function(t,e){if(r(e,t))return t;throw i("Incorrect invocation")}},9670:function(t,e,n){var r=n(111),i=String,o=TypeError;t.exports=function(t){if(r(t))return t;throw o(i(t)+" is not an object")}},7556:function(t,e,n){var r=n(7293);t.exports=r((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}))},1285:function(t,e,n){"use strict";var r=n(7908),i=n(1400),o=n(6244);t.exports=function(t){for(var e=r(this),n=o(e),a=arguments.length,u=i(a>1?arguments[1]:void 0,n),c=a>2?arguments[2]:void 0,s=void 0===c?n:i(c,n);s>u;)e[u++]=t;return e}},8533:function(t,e,n){"use strict";var r=n(2092).forEach,i=n(9341)("forEach");t.exports=i?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},8457:function(t,e,n){"use strict";var r=n(9974),i=n(6916),o=n(7908),a=n(3411),u=n(7659),c=n(4411),s=n(6244),l=n(6135),f=n(4121),h=n(1246),d=Array;t.exports=function(t){var e=o(t),n=c(this),p=arguments.length,v=p>1?arguments[1]:void 0,m=void 0!==v;m&&(v=r(v,p>2?arguments[2]:void 0));var g,b,y,x,S,I,w=h(e),P=0;if(!w||this===d&&u(w))for(g=s(e),b=n?new this(g):d(g);g>P;P++)I=m?v(e[P],P):e[P],l(b,P,I);else for(S=(x=f(e,w)).next,b=n?new this:[];!(y=i(S,x)).done;P++)I=m?a(x,v,[y.value,P],!0):y.value,l(b,P,I);return b.length=P,b}},1318:function(t,e,n){var r=n(5656),i=n(1400),o=n(6244),a=function(t){return function(e,n,a){var u,c=r(e),s=o(c),l=i(a,s);if(t&&n!=n){for(;s>l;)if((u=c[l++])!=u)return!0}else for(;s>l;l++)if((t||l in c)&&c[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},2092:function(t,e,n){var r=n(9974),i=n(1702),o=n(8361),a=n(7908),u=n(6244),c=n(5417),s=i([].push),l=function(t){var e=1==t,n=2==t,i=3==t,l=4==t,f=6==t,h=7==t,d=5==t||f;return function(p,v,m,g){for(var b,y,x=a(p),S=o(x),I=r(v,m),w=u(S),P=0,E=g||c,C=e?E(p,w):n||h?E(p,0):void 0;w>P;P++)if((d||P in S)&&(y=I(b=S[P],P,x),t))if(e)C[P]=y;else if(y)switch(t){case 3:return!0;case 5:return b;case 6:return P;case 2:s(C,b)}else switch(t){case 4:return!1;case 7:s(C,b)}return f?-1:i||l?l:C}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},1194:function(t,e,n){var r=n(7293),i=n(5112),o=n(7392),a=i("species");t.exports=function(t){return o>=51||!r((function(){var e=[];return(e.constructor={})[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},9341:function(t,e,n){"use strict";var r=n(7293);t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){return 1},1)}))}},3658:function(t,e,n){"use strict";var r=n(9781),i=n(3157),o=TypeError,a=Object.getOwnPropertyDescriptor,u=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=u?function(t,e){if(i(t)&&!a(t,"length").writable)throw o("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},1589:function(t,e,n){var r=n(1400),i=n(6244),o=n(6135),a=Array,u=Math.max;t.exports=function(t,e,n){for(var c=i(t),s=r(e,c),l=r(void 0===n?c:n,c),f=a(u(l-s,0)),h=0;s<l;s++,h++)o(f,h,t[s]);return f.length=h,f}},206:function(t,e,n){var r=n(1702);t.exports=r([].slice)},4362:function(t,e,n){var r=n(1589),i=Math.floor,o=function(t,e){var n=t.length,c=i(n/2);return n<8?a(t,e):u(t,o(r(t,0,c),e),o(r(t,c),e),e)},a=function(t,e){for(var n,r,i=t.length,o=1;o<i;){for(r=o,n=t[o];r&&e(t[r-1],n)>0;)t[r]=t[--r];r!==o++&&(t[r]=n)}return t},u=function(t,e,n,r){for(var i=e.length,o=n.length,a=0,u=0;a<i||u<o;)t[a+u]=a<i&&u<o?r(e[a],n[u])<=0?e[a++]:n[u++]:a<i?e[a++]:n[u++];return t};t.exports=o},7475:function(t,e,n){var r=n(3157),i=n(4411),o=n(111),a=n(5112)("species"),u=Array;t.exports=function(t){var e;return r(t)&&(e=t.constructor,(i(e)&&(e===u||r(e.prototype))||o(e)&&null===(e=e[a]))&&(e=void 0)),void 0===e?u:e}},5417:function(t,e,n){var r=n(7475);t.exports=function(t,e){return new(r(t))(0===e?0:e)}},3411:function(t,e,n){var r=n(9670),i=n(9212);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(e){i(t,"throw",e)}}},7072:function(t,e,n){var r=n(5112)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},t(o)}catch(t){}return n}},4326:function(t,e,n){var r=n(1702),i=r({}.toString),o=r("".slice);t.exports=function(t){return o(i(t),8,-1)}},648:function(t,e,n){var r=n(1694),i=n(614),o=n(4326),a=n(5112)("toStringTag"),u=Object,c="Arguments"==o(function(){return arguments}());t.exports=r?o:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=u(t),a))?n:c?o(e):"Object"==(r=o(e))&&i(e.callee)?"Arguments":r}},5631:function(t,e,n){"use strict";var r=n(30),i=n(7045),o=n(9190),a=n(9974),u=n(5787),c=n(8554),s=n(408),l=n(1656),f=n(6178),h=n(6340),d=n(9781),p=n(2423).fastKey,v=n(9909),m=v.set,g=v.getterFor;t.exports={getConstructor:function(t,e,n,l){var f=t((function(t,i){u(t,h),m(t,{type:e,index:r(null),first:void 0,last:void 0,size:0}),d||(t.size=0),c(i)||s(i,t[l],{that:t,AS_ENTRIES:n})})),h=f.prototype,v=g(e),b=function(t,e,n){var r,i,o=v(t),a=y(t,e);return a?a.value=n:(o.last=a={index:i=p(e,!0),key:e,value:n,previous:r=o.last,next:void 0,removed:!1},o.first||(o.first=a),r&&(r.next=a),d?o.size++:t.size++,"F"!==i&&(o.index[i]=a)),t},y=function(t,e){var n,r=v(t),i=p(e);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==e)return n};return o(h,{clear:function(){for(var t=v(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,d?t.size=0:this.size=0},delete:function(t){var e=this,n=v(e),r=y(e,t);if(r){var i=r.next,o=r.previous;delete n.index[r.index],r.removed=!0,o&&(o.next=i),i&&(i.previous=o),n.first==r&&(n.first=i),n.last==r&&(n.last=o),d?n.size--:e.size--}return!!r},forEach:function(t){for(var e,n=v(this),r=a(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!y(this,t)}}),o(h,n?{get:function(t){var e=y(this,t);return e&&e.value},set:function(t,e){return b(this,0===t?0:t,e)}}:{add:function(t){return b(this,t=0===t?0:t,t)}}),d&&i(h,"size",{configurable:!0,get:function(){return v(this).size}}),f},setStrong:function(t,e,n){var r=e+" Iterator",i=g(e),o=g(r);l(t,e,(function(t,e){m(this,{type:r,target:t,state:i(t),kind:e,last:void 0})}),(function(){for(var t=o(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?f("keys"==e?n.key:"values"==e?n.value:[n.key,n.value],!1):(t.target=void 0,f(void 0,!0))}),n?"entries":"values",!n,!0),h(e)}}},7710:function(t,e,n){"use strict";var r=n(2109),i=n(7854),o=n(1702),a=n(4705),u=n(8052),c=n(2423),s=n(408),l=n(5787),f=n(614),h=n(8554),d=n(111),p=n(7293),v=n(7072),m=n(8003),g=n(9587);t.exports=function(t,e,n){var b=-1!==t.indexOf("Map"),y=-1!==t.indexOf("Weak"),x=b?"set":"add",S=i[t],I=S&&S.prototype,w=S,P={},E=function(t){var e=o(I[t]);u(I,t,"add"==t?function(t){return e(this,0===t?0:t),this}:"delete"==t?function(t){return!(y&&!d(t))&&e(this,0===t?0:t)}:"get"==t?function(t){return y&&!d(t)?void 0:e(this,0===t?0:t)}:"has"==t?function(t){return!(y&&!d(t))&&e(this,0===t?0:t)}:function(t,n){return e(this,0===t?0:t,n),this})};if(a(t,!f(S)||!(y||I.forEach&&!p((function(){(new S).entries().next()})))))w=n.getConstructor(e,t,b,x),c.enable();else if(a(t,!0)){var C=new w,T=C[x](y?{}:-0,1)!=C,O=p((function(){C.has(1)})),L=v((function(t){new S(t)})),A=!y&&p((function(){for(var t=new S,e=5;e--;)t[x](e,e);return!t.has(-0)}));L||((w=e((function(t,e){l(t,I);var n=g(new S,t,w);return h(e)||s(e,n[x],{that:n,AS_ENTRIES:b}),n}))).prototype=I,I.constructor=w),(O||A)&&(E("delete"),E("has"),b&&E("get")),(A||T)&&E(x),y&&I.clear&&delete I.clear}return P[t]=w,r({global:!0,constructor:!0,forced:w!=S},P),m(w,t),y||n.setStrong(w,t,b),w}},9920:function(t,e,n){var r=n(2597),i=n(3887),o=n(1236),a=n(3070);t.exports=function(t,e,n){for(var u=i(e),c=a.f,s=o.f,l=0;l<u.length;l++){var f=u[l];r(t,f)||n&&r(n,f)||c(t,f,s(e,f))}}},8544:function(t,e,n){var r=n(7293);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},6178:function(t){t.exports=function(t,e){return{value:t,done:e}}},8880:function(t,e,n){var r=n(9781),i=n(3070),o=n(9114);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},9114:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},6135:function(t,e,n){"use strict";var r=n(4948),i=n(3070),o=n(9114);t.exports=function(t,e,n){var a=r(e);a in t?i.f(t,a,o(0,n)):t[a]=n}},7045:function(t,e,n){var r=n(6339),i=n(3070);t.exports=function(t,e,n){return n.get&&r(n.get,e,{getter:!0}),n.set&&r(n.set,e,{setter:!0}),i.f(t,e,n)}},8052:function(t,e,n){var r=n(614),i=n(3070),o=n(6339),a=n(3072);t.exports=function(t,e,n,u){u||(u={});var c=u.enumerable,s=void 0!==u.name?u.name:e;if(r(n)&&o(n,s,u),u.global)c?t[e]=n:a(e,n);else{try{u.unsafe?t[e]&&(c=!0):delete t[e]}catch(t){}c?t[e]=n:i.f(t,e,{value:n,enumerable:!1,configurable:!u.nonConfigurable,writable:!u.nonWritable})}return t}},9190:function(t,e,n){var r=n(8052);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},3072:function(t,e,n){var r=n(7854),i=Object.defineProperty;t.exports=function(t,e){try{i(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},5117:function(t,e,n){"use strict";var r=n(6330),i=TypeError;t.exports=function(t,e){if(!delete t[e])throw i("Cannot delete property "+r(e)+" of "+r(t))}},9781:function(t,e,n){var r=n(7293);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4154:function(t){var e="object"==typeof document&&document.all,n=void 0===e&&void 0!==e;t.exports={all:e,IS_HTMLDDA:n}},317:function(t,e,n){var r=n(7854),i=n(111),o=r.document,a=i(o)&&i(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},7207:function(t){var e=TypeError;t.exports=function(t){if(t>9007199254740991)throw e("Maximum allowed index exceeded");return t}},8324:function(t){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8509:function(t,e,n){var r=n(317)("span").classList,i=r&&r.constructor&&r.constructor.prototype;t.exports=i===Object.prototype?void 0:i},8886:function(t,e,n){var r=n(8113).match(/firefox\/(\d+)/i);t.exports=!!r&&+r[1]},7871:function(t,e,n){var r=n(3823),i=n(5268);t.exports=!r&&!i&&"object"==typeof window&&"object"==typeof document},3823:function(t){t.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},256:function(t,e,n){var r=n(8113);t.exports=/MSIE|Trident/.test(r)},1528:function(t,e,n){var r=n(8113);t.exports=/ipad|iphone|ipod/i.test(r)&&"undefined"!=typeof Pebble},6833:function(t,e,n){var r=n(8113);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},5268:function(t,e,n){var r=n(4326);t.exports="undefined"!=typeof process&&"process"==r(process)},1036:function(t,e,n){var r=n(8113);t.exports=/web0s(?!.*chrome)/i.test(r)},8113:function(t){t.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},7392:function(t,e,n){var r,i,o=n(7854),a=n(8113),u=o.process,c=o.Deno,s=u&&u.versions||c&&c.version,l=s&&s.v8;l&&(i=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(i=+r[1]),t.exports=i},8008:function(t,e,n){var r=n(8113).match(/AppleWebKit\/(\d+)\./);t.exports=!!r&&+r[1]},748:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:function(t,e,n){var r=n(7854),i=n(1236).f,o=n(8880),a=n(8052),u=n(3072),c=n(9920),s=n(4705);t.exports=function(t,e){var n,l,f,h,d,p=t.target,v=t.global,m=t.stat;if(n=v?r:m?r[p]||u(p,{}):(r[p]||{}).prototype)for(l in e){if(h=e[l],f=t.dontCallGetSet?(d=i(n,l))&&d.value:n[l],!s(v?l:p+(m?".":"#")+l,t.forced)&&void 0!==f){if(typeof h==typeof f)continue;c(h,f)}(t.sham||f&&f.sham)&&o(h,"sham",!0),a(n,l,h,t)}}},7293:function(t){t.exports=function(t){try{return!!t()}catch(t){return!0}}},7007:function(t,e,n){"use strict";n(4916);var r=n(1470),i=n(8052),o=n(2261),a=n(7293),u=n(5112),c=n(8880),s=u("species"),l=RegExp.prototype;t.exports=function(t,e,n,f){var h=u(t),d=!a((function(){var e={};return e[h]=function(){return 7},7!=""[t](e)})),p=d&&!a((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[s]=function(){return n},n.flags="",n[h]=/./[h]),n.exec=function(){return e=!0,null},n[h](""),!e}));if(!d||!p||n){var v=r(/./[h]),m=e(h,""[t],(function(t,e,n,i,a){var u=r(t),c=e.exec;return c===o||c===l.exec?d&&!a?{done:!0,value:v(e,n,i)}:{done:!0,value:u(n,e,i)}:{done:!1}}));i(String.prototype,t,m[0]),i(l,h,m[1])}f&&c(l[h],"sham",!0)}},6677:function(t,e,n){var r=n(7293);t.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},2104:function(t,e,n){var r=n(4374),i=Function.prototype,o=i.apply,a=i.call;t.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(o):function(){return a.apply(o,arguments)})},9974:function(t,e,n){var r=n(1470),i=n(9662),o=n(4374),a=r(r.bind);t.exports=function(t,e){return i(t),void 0===e?t:o?a(t,e):function(){return t.apply(e,arguments)}}},4374:function(t,e,n){var r=n(7293);t.exports=!r((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},6916:function(t,e,n){var r=n(4374),i=Function.prototype.call;t.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},6530:function(t,e,n){var r=n(9781),i=n(2597),o=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,u=i(o,"name"),c=u&&"something"===function(){}.name,s=u&&(!r||r&&a(o,"name").configurable);t.exports={EXISTS:u,PROPER:c,CONFIGURABLE:s}},5668:function(t,e,n){var r=n(1702),i=n(9662);t.exports=function(t,e,n){try{return r(i(Object.getOwnPropertyDescriptor(t,e)[n]))}catch(t){}}},1470:function(t,e,n){var r=n(4326),i=n(1702);t.exports=function(t){if("Function"===r(t))return i(t)}},1702:function(t,e,n){var r=n(4374),i=Function.prototype,o=i.call,a=r&&i.bind.bind(o,o);t.exports=r?a:function(t){return function(){return o.apply(t,arguments)}}},5005:function(t,e,n){var r=n(7854),i=n(614),o=function(t){return i(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?o(r[t]):r[t]&&r[t][e]}},1246:function(t,e,n){var r=n(648),i=n(8173),o=n(8554),a=n(7497),u=n(5112)("iterator");t.exports=function(t){if(!o(t))return i(t,u)||i(t,"@@iterator")||a[r(t)]}},4121:function(t,e,n){var r=n(6916),i=n(9662),o=n(9670),a=n(6330),u=n(1246),c=TypeError;t.exports=function(t,e){var n=arguments.length<2?u(t):e;if(i(n))return o(r(n,t));throw c(a(t)+" is not iterable")}},8173:function(t,e,n){var r=n(9662),i=n(8554);t.exports=function(t,e){var n=t[e];return i(n)?void 0:r(n)}},647:function(t,e,n){var r=n(1702),i=n(7908),o=Math.floor,a=r("".charAt),u=r("".replace),c=r("".slice),s=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,n,r,f,h){var d=n+t.length,p=r.length,v=l;return void 0!==f&&(f=i(f),v=s),u(h,v,(function(i,u){var s;switch(a(u,0)){case"$":return"$";case"&":return t;case"`":return c(e,0,n);case"'":return c(e,d);case"<":s=f[c(u,1,-1)];break;default:var l=+u;if(0===l)return i;if(l>p){var h=o(l/10);return 0===h?i:h<=p?void 0===r[h-1]?a(u,1):r[h-1]+a(u,1):i}s=r[l-1]}return void 0===s?"":s}))}},7854:function(t,e,n){var r=function(t){return t&&t.Math==Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},2597:function(t,e,n){var r=n(1702),i=n(7908),o=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return o(i(t),e)}},3501:function(t){t.exports={}},842:function(t){t.exports=function(t,e){try{1==arguments.length?console.error(t):console.error(t,e)}catch(t){}}},490:function(t,e,n){var r=n(5005);t.exports=r("document","documentElement")},4664:function(t,e,n){var r=n(9781),i=n(7293),o=n(317);t.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},8361:function(t,e,n){var r=n(1702),i=n(7293),o=n(4326),a=Object,u=r("".split);t.exports=i((function(){return!a("z").propertyIsEnumerable(0)}))?function(t){return"String"==o(t)?u(t,""):a(t)}:a},9587:function(t,e,n){var r=n(614),i=n(111),o=n(7674);t.exports=function(t,e,n){var a,u;return o&&r(a=e.constructor)&&a!==n&&i(u=a.prototype)&&u!==n.prototype&&o(t,u),t}},2788:function(t,e,n){var r=n(1702),i=n(614),o=n(5465),a=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(t){return a(t)}),t.exports=o.inspectSource},2423:function(t,e,n){var r=n(2109),i=n(1702),o=n(3501),a=n(111),u=n(2597),c=n(3070).f,s=n(8006),l=n(1156),f=n(2050),h=n(9711),d=n(6677),p=!1,v=h("meta"),m=0,g=function(t){c(t,v,{value:{objectID:"O"+m++,weakData:{}}})},b=t.exports={enable:function(){b.enable=function(){},p=!0;var t=s.f,e=i([].splice),n={};n[v]=1,t(n).length&&(s.f=function(n){for(var r=t(n),i=0,o=r.length;i<o;i++)if(r[i]===v){e(r,i,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},fastKey:function(t,e){if(!a(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!u(t,v)){if(!f(t))return"F";if(!e)return"E";g(t)}return t[v].objectID},getWeakData:function(t,e){if(!u(t,v)){if(!f(t))return!0;if(!e)return!1;g(t)}return t[v].weakData},onFreeze:function(t){return d&&p&&f(t)&&!u(t,v)&&g(t),t}};o[v]=!0},9909:function(t,e,n){var r,i,o,a=n(4811),u=n(7854),c=n(111),s=n(8880),l=n(2597),f=n(5465),h=n(6200),d=n(3501),p="Object already initialized",v=u.TypeError,m=u.WeakMap;if(a||f.state){var g=f.state||(f.state=new m);g.get=g.get,g.has=g.has,g.set=g.set,r=function(t,e){if(g.has(t))throw v(p);return e.facade=t,g.set(t,e),e},i=function(t){return g.get(t)||{}},o=function(t){return g.has(t)}}else{var b=h("state");d[b]=!0,r=function(t,e){if(l(t,b))throw v(p);return e.facade=t,s(t,b,e),e},i=function(t){return l(t,b)?t[b]:{}},o=function(t){return l(t,b)}}t.exports={set:r,get:i,has:o,enforce:function(t){return o(t)?i(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!c(e)||(n=i(e)).type!==t)throw v("Incompatible receiver, "+t+" required");return n}}}},7659:function(t,e,n){var r=n(5112),i=n(7497),o=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[o]===t)}},3157:function(t,e,n){var r=n(4326);t.exports=Array.isArray||function(t){return"Array"==r(t)}},614:function(t,e,n){var r=n(4154),i=r.all;t.exports=r.IS_HTMLDDA?function(t){return"function"==typeof t||t===i}:function(t){return"function"==typeof t}},4411:function(t,e,n){var r=n(1702),i=n(7293),o=n(614),a=n(648),u=n(5005),c=n(2788),s=function(){},l=[],f=u("Reflect","construct"),h=/^\s*(?:class|function)\b/,d=r(h.exec),p=!h.exec(s),v=function(t){if(!o(t))return!1;try{return f(s,l,t),!0}catch(t){return!1}},m=function(t){if(!o(t))return!1;switch(a(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!d(h,c(t))}catch(t){return!0}};m.sham=!0,t.exports=!f||i((function(){var t;return v(v.call)||!v(Object)||!v((function(){t=!0}))||t}))?m:v},4705:function(t,e,n){var r=n(7293),i=n(614),o=/#|\.prototype\./,a=function(t,e){var n=c[u(t)];return n==l||n!=s&&(i(e)?r(e):!!e)},u=a.normalize=function(t){return String(t).replace(o,".").toLowerCase()},c=a.data={},s=a.NATIVE="N",l=a.POLYFILL="P";t.exports=a},8554:function(t){t.exports=function(t){return null==t}},111:function(t,e,n){var r=n(614),i=n(4154),o=i.all;t.exports=i.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:r(t)||t===o}:function(t){return"object"==typeof t?null!==t:r(t)}},1913:function(t){t.exports=!1},2190:function(t,e,n){var r=n(5005),i=n(614),o=n(7976),a=n(3307),u=Object;t.exports=a?function(t){return"symbol"==typeof t}:function(t){var e=r("Symbol");return i(e)&&o(e.prototype,u(t))}},408:function(t,e,n){var r=n(9974),i=n(6916),o=n(9670),a=n(6330),u=n(7659),c=n(6244),s=n(7976),l=n(4121),f=n(1246),h=n(9212),d=TypeError,p=function(t,e){this.stopped=t,this.result=e},v=p.prototype;t.exports=function(t,e,n){var m,g,b,y,x,S,I,w=n&&n.that,P=!(!n||!n.AS_ENTRIES),E=!(!n||!n.IS_RECORD),C=!(!n||!n.IS_ITERATOR),T=!(!n||!n.INTERRUPTED),O=r(e,w),L=function(t){return m&&h(m,"normal",t),new p(!0,t)},A=function(t){return P?(o(t),T?O(t[0],t[1],L):O(t[0],t[1])):T?O(t,L):O(t)};if(E)m=t.iterator;else if(C)m=t;else{if(!(g=f(t)))throw d(a(t)+" is not iterable");if(u(g)){for(b=0,y=c(t);y>b;b++)if((x=A(t[b]))&&s(v,x))return x;return new p(!1)}m=l(t,g)}for(S=E?t.next:m.next;!(I=i(S,m)).done;){try{x=A(I.value)}catch(t){h(m,"throw",t)}if("object"==typeof x&&x&&s(v,x))return x}return new p(!1)}},9212:function(t,e,n){var r=n(6916),i=n(9670),o=n(8173);t.exports=function(t,e,n){var a,u;i(t);try{if(!(a=o(t,"return"))){if("throw"===e)throw n;return n}a=r(a,t)}catch(t){u=!0,a=t}if("throw"===e)throw n;if(u)throw a;return i(a),n}},3061:function(t,e,n){"use strict";var r=n(3383).IteratorPrototype,i=n(30),o=n(9114),a=n(8003),u=n(7497),c=function(){return this};t.exports=function(t,e,n,s){var l=e+" Iterator";return t.prototype=i(r,{next:o(+!s,n)}),a(t,l,!1,!0),u[l]=c,t}},1656:function(t,e,n){"use strict";var r=n(2109),i=n(6916),o=n(1913),a=n(6530),u=n(614),c=n(3061),s=n(9518),l=n(7674),f=n(8003),h=n(8880),d=n(8052),p=n(5112),v=n(7497),m=n(3383),g=a.PROPER,b=a.CONFIGURABLE,y=m.IteratorPrototype,x=m.BUGGY_SAFARI_ITERATORS,S=p("iterator"),I="keys",w="values",P="entries",E=function(){return this};t.exports=function(t,e,n,a,p,m,C){c(n,e,a);var T,O,L,A=function(t){if(t===p&&k)return k;if(!x&&t in j)return j[t];switch(t){case I:case w:case P:return function(){return new n(this,t)}}return function(){return new n(this)}},R=e+" Iterator",D=!1,j=t.prototype,_=j[S]||j["@@iterator"]||p&&j[p],k=!x&&_||A(p),z="Array"==e&&j.entries||_;if(z&&(T=s(z.call(new t)))!==Object.prototype&&T.next&&(o||s(T)===y||(l?l(T,y):u(T[S])||d(T,S,E)),f(T,R,!0,!0),o&&(v[R]=E)),g&&p==w&&_&&_.name!==w&&(!o&&b?h(j,"name",w):(D=!0,k=function(){return i(_,this)})),p)if(O={values:A(w),keys:m?k:A(I),entries:A(P)},C)for(L in O)(x||D||!(L in j))&&d(j,L,O[L]);else r({target:e,proto:!0,forced:x||D},O);return o&&!C||j[S]===k||d(j,S,k,{name:p}),v[e]=k,O}},3383:function(t,e,n){"use strict";var r,i,o,a=n(7293),u=n(614),c=n(111),s=n(30),l=n(9518),f=n(8052),h=n(5112),d=n(1913),p=h("iterator"),v=!1;[].keys&&("next"in(o=[].keys())?(i=l(l(o)))!==Object.prototype&&(r=i):v=!0),!c(r)||a((function(){var t={};return r[p].call(t)!==t}))?r={}:d&&(r=s(r)),u(r[p])||f(r,p,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:v}},7497:function(t){t.exports={}},6244:function(t,e,n){var r=n(7466);t.exports=function(t){return r(t.length)}},6339:function(t,e,n){var r=n(1702),i=n(7293),o=n(614),a=n(2597),u=n(9781),c=n(6530).CONFIGURABLE,s=n(2788),l=n(9909),f=l.enforce,h=l.get,d=String,p=Object.defineProperty,v=r("".slice),m=r("".replace),g=r([].join),b=u&&!i((function(){return 8!==p((function(){}),"length",{value:8}).length})),y=String(String).split("String"),x=t.exports=function(t,e,n){"Symbol("===v(d(e),0,7)&&(e="["+m(d(e),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!a(t,"name")||c&&t.name!==e)&&(u?p(t,"name",{value:e,configurable:!0}):t.name=e),b&&n&&a(n,"arity")&&t.length!==n.arity&&p(t,"length",{value:n.arity});try{n&&a(n,"constructor")&&n.constructor?u&&p(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var r=f(t);return a(r,"source")||(r.source=g(y,"string"==typeof e?e:"")),t};Function.prototype.toString=x((function(){return o(this)&&h(this).source||s(this)}),"toString")},4758:function(t){var e=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(t){var r=+t;return(r>0?n:e)(r)}},5948:function(t,e,n){var r,i,o,a,u,c=n(7854),s=n(9974),l=n(1236).f,f=n(261).set,h=n(8572),d=n(6833),p=n(1528),v=n(1036),m=n(5268),g=c.MutationObserver||c.WebKitMutationObserver,b=c.document,y=c.process,x=c.Promise,S=l(c,"queueMicrotask"),I=S&&S.value;if(!I){var w=new h,P=function(){var t,e;for(m&&(t=y.domain)&&t.exit();e=w.get();)try{e()}catch(t){throw w.head&&r(),t}t&&t.enter()};d||m||v||!g||!b?!p&&x&&x.resolve?((a=x.resolve(void 0)).constructor=x,u=s(a.then,a),r=function(){u(P)}):m?r=function(){y.nextTick(P)}:(f=s(f,c),r=function(){f(P)}):(i=!0,o=b.createTextNode(""),new g(P).observe(o,{characterData:!0}),r=function(){o.data=i=!i}),I=function(t){w.head||r(),w.add(t)}}t.exports=I},8523:function(t,e,n){"use strict";var r=n(9662),i=TypeError,o=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw i("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new o(t)}},30:function(t,e,n){var r,i=n(9670),o=n(6048),a=n(748),u=n(3501),c=n(490),s=n(317),l=n(6200),f="prototype",h="script",d=l("IE_PROTO"),p=function(){},v=function(t){return"<"+h+">"+t+"</"+h+">"},m=function(t){t.write(v("")),t.close();var e=t.parentWindow.Object;return t=null,e},g=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}var t,e,n;g="undefined"!=typeof document?document.domain&&r?m(r):(e=s("iframe"),n="java"+h+":",e.style.display="none",c.appendChild(e),e.src=String(n),(t=e.contentWindow.document).open(),t.write(v("document.F=Object")),t.close(),t.F):m(r);for(var i=a.length;i--;)delete g[f][a[i]];return g()};u[d]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(p[f]=i(t),n=new p,p[f]=null,n[d]=t):n=g(),void 0===e?n:o.f(n,e)}},6048:function(t,e,n){var r=n(9781),i=n(3353),o=n(3070),a=n(9670),u=n(5656),c=n(1956);e.f=r&&!i?Object.defineProperties:function(t,e){a(t);for(var n,r=u(e),i=c(e),s=i.length,l=0;s>l;)o.f(t,n=i[l++],r[n]);return t}},3070:function(t,e,n){var r=n(9781),i=n(4664),o=n(3353),a=n(9670),u=n(4948),c=TypeError,s=Object.defineProperty,l=Object.getOwnPropertyDescriptor,f="enumerable",h="configurable",d="writable";e.f=r?o?function(t,e,n){if(a(t),e=u(e),a(n),"function"==typeof t&&"prototype"===e&&"value"in n&&d in n&&!n[d]){var r=l(t,e);r&&r[d]&&(t[e]=n.value,n={configurable:h in n?n[h]:r[h],enumerable:f in n?n[f]:r[f],writable:!1})}return s(t,e,n)}:s:function(t,e,n){if(a(t),e=u(e),a(n),i)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw c("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},1236:function(t,e,n){var r=n(9781),i=n(6916),o=n(5296),a=n(9114),u=n(5656),c=n(4948),s=n(2597),l=n(4664),f=Object.getOwnPropertyDescriptor;e.f=r?f:function(t,e){if(t=u(t),e=c(e),l)try{return f(t,e)}catch(t){}if(s(t,e))return a(!i(o.f,t,e),t[e])}},1156:function(t,e,n){var r=n(4326),i=n(5656),o=n(8006).f,a=n(1589),u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return u&&"Window"==r(t)?function(t){try{return o(t)}catch(t){return a(u)}}(t):o(i(t))}},8006:function(t,e,n){var r=n(6324),i=n(748).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},5181:function(t,e){e.f=Object.getOwnPropertySymbols},9518:function(t,e,n){var r=n(2597),i=n(614),o=n(7908),a=n(6200),u=n(8544),c=a("IE_PROTO"),s=Object,l=s.prototype;t.exports=u?s.getPrototypeOf:function(t){var e=o(t);if(r(e,c))return e[c];var n=e.constructor;return i(n)&&e instanceof n?n.prototype:e instanceof s?l:null}},2050:function(t,e,n){var r=n(7293),i=n(111),o=n(4326),a=n(7556),u=Object.isExtensible,c=r((function(){u(1)}));t.exports=c||a?function(t){return!!i(t)&&((!a||"ArrayBuffer"!=o(t))&&(!u||u(t)))}:u},7976:function(t,e,n){var r=n(1702);t.exports=r({}.isPrototypeOf)},6324:function(t,e,n){var r=n(1702),i=n(2597),o=n(5656),a=n(1318).indexOf,u=n(3501),c=r([].push);t.exports=function(t,e){var n,r=o(t),s=0,l=[];for(n in r)!i(u,n)&&i(r,n)&&c(l,n);for(;e.length>s;)i(r,n=e[s++])&&(~a(l,n)||c(l,n));return l}},1956:function(t,e,n){var r=n(6324),i=n(748);t.exports=Object.keys||function(t){return r(t,i)}},5296:function(t,e){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);e.f=i?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},7674:function(t,e,n){var r=n(5668),i=n(9670),o=n(6077);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=r(Object.prototype,"__proto__","set"))(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return i(n),o(r),e?t(n,r):n.__proto__=r,n}}():void 0)},288:function(t,e,n){"use strict";var r=n(1694),i=n(648);t.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},2140:function(t,e,n){var r=n(6916),i=n(614),o=n(111),a=TypeError;t.exports=function(t,e){var n,u;if("string"===e&&i(n=t.toString)&&!o(u=r(n,t)))return u;if(i(n=t.valueOf)&&!o(u=r(n,t)))return u;if("string"!==e&&i(n=t.toString)&&!o(u=r(n,t)))return u;throw a("Can't convert object to primitive value")}},3887:function(t,e,n){var r=n(5005),i=n(1702),o=n(8006),a=n(5181),u=n(9670),c=i([].concat);t.exports=r("Reflect","ownKeys")||function(t){var e=o.f(u(t)),n=a.f;return n?c(e,n(t)):e}},2534:function(t){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},3702:function(t,e,n){var r=n(7854),i=n(2492),o=n(614),a=n(4705),u=n(2788),c=n(5112),s=n(7871),l=n(3823),f=n(1913),h=n(7392),d=i&&i.prototype,p=c("species"),v=!1,m=o(r.PromiseRejectionEvent),g=a("Promise",(function(){var t=u(i),e=t!==String(i);if(!e&&66===h)return!0;if(f&&(!d.catch||!d.finally))return!0;if(!h||h<51||!/native code/.test(t)){var n=new i((function(t){t(1)})),r=function(t){t((function(){}),(function(){}))};if((n.constructor={})[p]=r,!(v=n.then((function(){}))instanceof r))return!0}return!e&&(s||l)&&!m}));t.exports={CONSTRUCTOR:g,REJECTION_EVENT:m,SUBCLASSING:v}},2492:function(t,e,n){var r=n(7854);t.exports=r.Promise},9478:function(t,e,n){var r=n(9670),i=n(111),o=n(8523);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},612:function(t,e,n){var r=n(2492),i=n(7072),o=n(3702).CONSTRUCTOR;t.exports=o||!i((function(t){r.all(t).then(void 0,(function(){}))}))},8572:function(t){var e=function(){this.head=null,this.tail=null};e.prototype={add:function(t){var e={item:t,next:null},n=this.tail;n?n.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}},t.exports=e},7651:function(t,e,n){var r=n(6916),i=n(9670),o=n(614),a=n(4326),u=n(2261),c=TypeError;t.exports=function(t,e){var n=t.exec;if(o(n)){var s=r(n,t,e);return null!==s&&i(s),s}if("RegExp"===a(t))return r(u,t,e);throw c("RegExp#exec called on incompatible receiver")}},2261:function(t,e,n){"use strict";var r,i,o=n(6916),a=n(1702),u=n(1340),c=n(7066),s=n(2999),l=n(2309),f=n(30),h=n(9909).get,d=n(9441),p=n(7168),v=l("native-string-replace",String.prototype.replace),m=RegExp.prototype.exec,g=m,b=a("".charAt),y=a("".indexOf),x=a("".replace),S=a("".slice),I=(i=/b*/g,o(m,r=/a/,"a"),o(m,i,"a"),0!==r.lastIndex||0!==i.lastIndex),w=s.BROKEN_CARET,P=void 0!==/()??/.exec("")[1];(I||P||w||d||p)&&(g=function(t){var e,n,r,i,a,s,l,d=this,p=h(d),E=u(t),C=p.raw;if(C)return C.lastIndex=d.lastIndex,e=o(g,C,E),d.lastIndex=C.lastIndex,e;var T=p.groups,O=w&&d.sticky,L=o(c,d),A=d.source,R=0,D=E;if(O&&(L=x(L,"y",""),-1===y(L,"g")&&(L+="g"),D=S(E,d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==b(E,d.lastIndex-1))&&(A="(?: "+A+")",D=" "+D,R++),n=new RegExp("^(?:"+A+")",L)),P&&(n=new RegExp("^"+A+"$(?!\\s)",L)),I&&(r=d.lastIndex),i=o(m,O?n:d,D),O?i?(i.input=S(i.input,R),i[0]=S(i[0],R),i.index=d.lastIndex,d.lastIndex+=i[0].length):d.lastIndex=0:I&&i&&(d.lastIndex=d.global?i.index+i[0].length:r),P&&i&&i.length>1&&o(v,i[0],n,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(i[a]=void 0)})),i&&T)for(i.groups=s=f(null),a=0;a<T.length;a++)s[(l=T[a])[0]]=i[l[1]];return i}),t.exports=g},7066:function(t,e,n){"use strict";var r=n(9670);t.exports=function(){var t=r(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}},2999:function(t,e,n){var r=n(7293),i=n(7854).RegExp,o=r((function(){var t=i("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),a=o||r((function(){return!i("a","y").sticky})),u=o||r((function(){var t=i("^r","gy");return t.lastIndex=2,null!=t.exec("str")}));t.exports={BROKEN_CARET:u,MISSED_STICKY:a,UNSUPPORTED_Y:o}},9441:function(t,e,n){var r=n(7293),i=n(7854).RegExp;t.exports=r((function(){var t=i(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)}))},7168:function(t,e,n){var r=n(7293),i=n(7854).RegExp;t.exports=r((function(){var t=i("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},4488:function(t,e,n){var r=n(8554),i=TypeError;t.exports=function(t){if(r(t))throw i("Can't call method on "+t);return t}},6340:function(t,e,n){"use strict";var r=n(5005),i=n(7045),o=n(5112),a=n(9781),u=o("species");t.exports=function(t){var e=r(t);a&&e&&!e[u]&&i(e,u,{configurable:!0,get:function(){return this}})}},8003:function(t,e,n){var r=n(3070).f,i=n(2597),o=n(5112)("toStringTag");t.exports=function(t,e,n){t&&!n&&(t=t.prototype),t&&!i(t,o)&&r(t,o,{configurable:!0,value:e})}},6200:function(t,e,n){var r=n(2309),i=n(9711),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},5465:function(t,e,n){var r=n(7854),i=n(3072),o="__core-js_shared__",a=r[o]||i(o,{});t.exports=a},2309:function(t,e,n){var r=n(1913),i=n(5465);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.29.0",mode:r?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.29.0/LICENSE",source:"https://github.com/zloirock/core-js"})},6707:function(t,e,n){var r=n(9670),i=n(9483),o=n(8554),a=n(5112)("species");t.exports=function(t,e){var n,u=r(t).constructor;return void 0===u||o(n=r(u)[a])?e:i(n)}},8710:function(t,e,n){var r=n(1702),i=n(9303),o=n(1340),a=n(4488),u=r("".charAt),c=r("".charCodeAt),s=r("".slice),l=function(t){return function(e,n){var r,l,f=o(a(e)),h=i(n),d=f.length;return h<0||h>=d?t?"":void 0:(r=c(f,h))<55296||r>56319||h+1===d||(l=c(f,h+1))<56320||l>57343?t?u(f,h):r:t?s(f,h,h+2):l-56320+(r-55296<<10)+65536}};t.exports={codeAt:l(!1),charAt:l(!0)}},6293:function(t,e,n){var r=n(7392),i=n(7293);t.exports=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},261:function(t,e,n){var r,i,o,a,u=n(7854),c=n(2104),s=n(9974),l=n(614),f=n(2597),h=n(7293),d=n(490),p=n(206),v=n(317),m=n(8053),g=n(6833),b=n(5268),y=u.setImmediate,x=u.clearImmediate,S=u.process,I=u.Dispatch,w=u.Function,P=u.MessageChannel,E=u.String,C=0,T={},O="onreadystatechange";h((function(){r=u.location}));var L=function(t){if(f(T,t)){var e=T[t];delete T[t],e()}},A=function(t){return function(){L(t)}},R=function(t){L(t.data)},D=function(t){u.postMessage(E(t),r.protocol+"//"+r.host)};y&&x||(y=function(t){m(arguments.length,1);var e=l(t)?t:w(t),n=p(arguments,1);return T[++C]=function(){c(e,void 0,n)},i(C),C},x=function(t){delete T[t]},b?i=function(t){S.nextTick(A(t))}:I&&I.now?i=function(t){I.now(A(t))}:P&&!g?(a=(o=new P).port2,o.port1.onmessage=R,i=s(a.postMessage,a)):u.addEventListener&&l(u.postMessage)&&!u.importScripts&&r&&"file:"!==r.protocol&&!h(D)?(i=D,u.addEventListener("message",R,!1)):i=O in v("script")?function(t){d.appendChild(v("script"))[O]=function(){d.removeChild(this),L(t)}}:function(t){setTimeout(A(t),0)}),t.exports={set:y,clear:x}},1400:function(t,e,n){var r=n(9303),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},5656:function(t,e,n){var r=n(8361),i=n(4488);t.exports=function(t){return r(i(t))}},9303:function(t,e,n){var r=n(4758);t.exports=function(t){var e=+t;return e!=e||0===e?0:r(e)}},7466:function(t,e,n){var r=n(9303),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},7908:function(t,e,n){var r=n(4488),i=Object;t.exports=function(t){return i(r(t))}},7593:function(t,e,n){var r=n(6916),i=n(111),o=n(2190),a=n(8173),u=n(2140),c=n(5112),s=TypeError,l=c("toPrimitive");t.exports=function(t,e){if(!i(t)||o(t))return t;var n,c=a(t,l);if(c){if(void 0===e&&(e="default"),n=r(c,t,e),!i(n)||o(n))return n;throw s("Can't convert object to primitive value")}return void 0===e&&(e="number"),u(t,e)}},4948:function(t,e,n){var r=n(7593),i=n(2190);t.exports=function(t){var e=r(t,"string");return i(e)?e:e+""}},1694:function(t,e,n){var r={};r[n(5112)("toStringTag")]="z",t.exports="[object z]"===String(r)},1340:function(t,e,n){var r=n(648),i=String;t.exports=function(t){if("Symbol"===r(t))throw TypeError("Cannot convert a Symbol value to a string");return i(t)}},6330:function(t){var e=String;t.exports=function(t){try{return e(t)}catch(t){return"Object"}}},9711:function(t,e,n){var r=n(1702),i=0,o=Math.random(),a=r(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+a(++i+o,36)}},3307:function(t,e,n){var r=n(6293);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:function(t,e,n){var r=n(9781),i=n(7293);t.exports=r&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8053:function(t){var e=TypeError;t.exports=function(t,n){if(t<n)throw e("Not enough arguments");return t}},4811:function(t,e,n){var r=n(7854),i=n(614),o=r.WeakMap;t.exports=i(o)&&/native code/.test(String(o))},5112:function(t,e,n){var r=n(7854),i=n(2309),o=n(2597),a=n(9711),u=n(6293),c=n(3307),s=r.Symbol,l=i("wks"),f=c?s.for||s:s&&s.withoutSetter||a;t.exports=function(t){return o(l,t)||(l[t]=u&&o(s,t)?s[t]:f("Symbol."+t)),l[t]}},2222:function(t,e,n){"use strict";var r=n(2109),i=n(7293),o=n(3157),a=n(111),u=n(7908),c=n(6244),s=n(7207),l=n(6135),f=n(5417),h=n(1194),d=n(5112),p=n(7392),v=d("isConcatSpreadable"),m=p>=51||!i((function(){var t=[];return t[v]=!1,t.concat()[0]!==t})),g=function(t){if(!a(t))return!1;var e=t[v];return void 0!==e?!!e:o(t)};r({target:"Array",proto:!0,arity:1,forced:!m||!h("concat")},{concat:function(t){var e,n,r,i,o,a=u(this),h=f(a,0),d=0;for(e=-1,r=arguments.length;e<r;e++)if(g(o=-1===e?a:arguments[e]))for(i=c(o),s(d+i),n=0;n<i;n++,d++)n in o&&l(h,d,o[n]);else s(d+1),l(h,d++,o);return h.length=d,h}})},3290:function(t,e,n){var r=n(2109),i=n(1285),o=n(1223);r({target:"Array",proto:!0},{fill:i}),o("fill")},4553:function(t,e,n){"use strict";var r=n(2109),i=n(2092).findIndex,o=n(1223),a="findIndex",u=!0;a in[]&&Array(1)[a]((function(){u=!1})),r({target:"Array",proto:!0,forced:u},{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o(a)},9826:function(t,e,n){"use strict";var r=n(2109),i=n(2092).find,o=n(1223),a="find",u=!0;a in[]&&Array(1)[a]((function(){u=!1})),r({target:"Array",proto:!0,forced:u},{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o(a)},1038:function(t,e,n){var r=n(2109),i=n(8457);r({target:"Array",stat:!0,forced:!n(7072)((function(t){Array.from(t)}))},{from:i})},6992:function(t,e,n){"use strict";var r=n(5656),i=n(1223),o=n(7497),a=n(9909),u=n(3070).f,c=n(1656),s=n(6178),l=n(1913),f=n(9781),h="Array Iterator",d=a.set,p=a.getterFor(h);t.exports=c(Array,"Array",(function(t,e){d(this,{type:h,target:r(t),index:0,kind:e})}),(function(){var t=p(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,s(void 0,!0)):s("keys"==n?r:"values"==n?e[r]:[r,e[r]],!1)}),"values");var v=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!l&&f&&"values"!==v.name)try{u(v,"name",{value:"values"})}catch(t){}},9600:function(t,e,n){"use strict";var r=n(2109),i=n(1702),o=n(8361),a=n(5656),u=n(9341),c=i([].join);r({target:"Array",proto:!0,forced:o!=Object||!u("join",",")},{join:function(t){return c(a(this),void 0===t?",":t)}})},1249:function(t,e,n){"use strict";var r=n(2109),i=n(2092).map;r({target:"Array",proto:!0,forced:!n(1194)("map")},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},7042:function(t,e,n){"use strict";var r=n(2109),i=n(3157),o=n(4411),a=n(111),u=n(1400),c=n(6244),s=n(5656),l=n(6135),f=n(5112),h=n(1194),d=n(206),p=h("slice"),v=f("species"),m=Array,g=Math.max;r({target:"Array",proto:!0,forced:!p},{slice:function(t,e){var n,r,f,h=s(this),p=c(h),b=u(t,p),y=u(void 0===e?p:e,p);if(i(h)&&(n=h.constructor,(o(n)&&(n===m||i(n.prototype))||a(n)&&null===(n=n[v]))&&(n=void 0),n===m||void 0===n))return d(h,b,y);for(r=new(void 0===n?m:n)(g(y-b,0)),f=0;b<y;b++,f++)b in h&&l(r,f,h[b]);return r.length=f,r}})},2707:function(t,e,n){"use strict";var r=n(2109),i=n(1702),o=n(9662),a=n(7908),u=n(6244),c=n(5117),s=n(1340),l=n(7293),f=n(4362),h=n(9341),d=n(8886),p=n(256),v=n(7392),m=n(8008),g=[],b=i(g.sort),y=i(g.push),x=l((function(){g.sort(void 0)})),S=l((function(){g.sort(null)})),I=h("sort"),w=!l((function(){if(v)return v<70;if(!(d&&d>3)){if(p)return!0;if(m)return m<603;var t,e,n,r,i="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)g.push({k:e+r,v:n})}for(g.sort((function(t,e){return e.v-t.v})),r=0;r<g.length;r++)e=g[r].k.charAt(0),i.charAt(i.length-1)!==e&&(i+=e);return"DGBEFHACIJK"!==i}}));r({target:"Array",proto:!0,forced:x||!S||!I||!w},{sort:function(t){void 0!==t&&o(t);var e=a(this);if(w)return void 0===t?b(e):b(e,t);var n,r,i=[],l=u(e);for(r=0;r<l;r++)r in e&&y(i,e[r]);for(f(i,function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:s(e)>s(n)?1:-1}}(t)),n=u(i),r=0;r<n;)e[r]=i[r++];for(;r<l;)c(e,r++);return e}})},561:function(t,e,n){"use strict";var r=n(2109),i=n(7908),o=n(1400),a=n(9303),u=n(6244),c=n(3658),s=n(7207),l=n(5417),f=n(6135),h=n(5117),d=n(1194)("splice"),p=Math.max,v=Math.min;r({target:"Array",proto:!0,forced:!d},{splice:function(t,e){var n,r,d,m,g,b,y=i(this),x=u(y),S=o(t,x),I=arguments.length;for(0===I?n=r=0:1===I?(n=0,r=x-S):(n=I-2,r=v(p(a(e),0),x-S)),s(x+n-r),d=l(y,r),m=0;m<r;m++)(g=S+m)in y&&f(d,m,y[g]);if(d.length=r,n<r){for(m=S;m<x-r;m++)b=m+n,(g=m+r)in y?y[b]=y[g]:h(y,b);for(m=x;m>x-r+n;m--)h(y,m-1)}else if(n>r)for(m=x-r;m>S;m--)b=m+n-1,(g=m+r-1)in y?y[b]=y[g]:h(y,b);for(m=0;m<n;m++)y[m+S]=arguments[m+2];return c(y,x-r+n),d}})},8309:function(t,e,n){var r=n(9781),i=n(6530).EXISTS,o=n(1702),a=n(7045),u=Function.prototype,c=o(u.toString),s=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,l=o(s.exec);r&&!i&&a(u,"name",{configurable:!0,get:function(){try{return l(s,c(this))[1]}catch(t){return""}}})},7941:function(t,e,n){var r=n(2109),i=n(7908),o=n(1956);r({target:"Object",stat:!0,forced:n(7293)((function(){o(1)}))},{keys:function(t){return o(i(t))}})},1539:function(t,e,n){var r=n(1694),i=n(8052),o=n(288);r||i(Object.prototype,"toString",o,{unsafe:!0})},821:function(t,e,n){"use strict";var r=n(2109),i=n(6916),o=n(9662),a=n(8523),u=n(2534),c=n(408);r({target:"Promise",stat:!0,forced:n(612)},{all:function(t){var e=this,n=a.f(e),r=n.resolve,s=n.reject,l=u((function(){var n=o(e.resolve),a=[],u=0,l=1;c(t,(function(t){var o=u++,c=!1;l++,i(n,e,t).then((function(t){c||(c=!0,a[o]=t,--l||r(a))}),s)})),--l||r(a)}));return l.error&&s(l.value),n.promise}})},4164:function(t,e,n){"use strict";var r=n(2109),i=n(1913),o=n(3702).CONSTRUCTOR,a=n(2492),u=n(5005),c=n(614),s=n(8052),l=a&&a.prototype;if(r({target:"Promise",proto:!0,forced:o,real:!0},{catch:function(t){return this.then(void 0,t)}}),!i&&c(a)){var f=u("Promise").prototype.catch;l.catch!==f&&s(l,"catch",f,{unsafe:!0})}},3401:function(t,e,n){"use strict";var r,i,o,a=n(2109),u=n(1913),c=n(5268),s=n(7854),l=n(6916),f=n(8052),h=n(7674),d=n(8003),p=n(6340),v=n(9662),m=n(614),g=n(111),b=n(5787),y=n(6707),x=n(261).set,S=n(5948),I=n(842),w=n(2534),P=n(8572),E=n(9909),C=n(2492),T=n(3702),O=n(8523),L="Promise",A=T.CONSTRUCTOR,R=T.REJECTION_EVENT,D=T.SUBCLASSING,j=E.getterFor(L),_=E.set,k=C&&C.prototype,z=C,N=k,M=s.TypeError,V=s.document,F=s.process,U=O.f,B=U,H=!!(V&&V.createEvent&&s.dispatchEvent),$="unhandledrejection",W=function(t){var e;return!(!g(t)||!m(e=t.then))&&e},G=function(t,e){var n,r,i,o=e.value,a=1==e.state,u=a?t.ok:t.fail,c=t.resolve,s=t.reject,f=t.domain;try{u?(a||(2===e.rejection&&Z(e),e.rejection=1),!0===u?n=o:(f&&f.enter(),n=u(o),f&&(f.exit(),i=!0)),n===t.promise?s(M("Promise-chain cycle")):(r=W(n))?l(r,n,c,s):c(n)):s(o)}catch(t){f&&!i&&f.exit(),s(t)}},K=function(t,e){t.notified||(t.notified=!0,S((function(){for(var n,r=t.reactions;n=r.get();)G(n,t);t.notified=!1,e&&!t.rejection&&X(t)})))},q=function(t,e,n){var r,i;H?((r=V.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),s.dispatchEvent(r)):r={promise:e,reason:n},!R&&(i=s["on"+t])?i(r):t===$&&I("Unhandled promise rejection",n)},X=function(t){l(x,s,(function(){var e,n=t.facade,r=t.value;if(Y(t)&&(e=w((function(){c?F.emit("unhandledRejection",r,n):q($,n,r)})),t.rejection=c||Y(t)?2:1,e.error))throw e.value}))},Y=function(t){return 1!==t.rejection&&!t.parent},Z=function(t){l(x,s,(function(){var e=t.facade;c?F.emit("rejectionHandled",e):q("rejectionhandled",e,t.value)}))},J=function(t,e,n){return function(r){t(e,r,n)}},Q=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,K(t,!0))},tt=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw M("Promise can't be resolved itself");var r=W(e);r?S((function(){var n={done:!1};try{l(r,e,J(tt,n,t),J(Q,n,t))}catch(e){Q(n,e,t)}})):(t.value=e,t.state=1,K(t,!1))}catch(e){Q({done:!1},e,t)}}};if(A&&(N=(z=function(t){b(this,N),v(t),l(r,this);var e=j(this);try{t(J(tt,e),J(Q,e))}catch(t){Q(e,t)}}).prototype,(r=function(t){_(this,{type:L,done:!1,notified:!1,parent:!1,reactions:new P,rejection:!1,state:0,value:void 0})}).prototype=f(N,"then",(function(t,e){var n=j(this),r=U(y(this,z));return n.parent=!0,r.ok=!m(t)||t,r.fail=m(e)&&e,r.domain=c?F.domain:void 0,0==n.state?n.reactions.add(r):S((function(){G(r,n)})),r.promise})),i=function(){var t=new r,e=j(t);this.promise=t,this.resolve=J(tt,e),this.reject=J(Q,e)},O.f=U=function(t){return t===z||undefined===t?new i(t):B(t)},!u&&m(C)&&k!==Object.prototype)){o=k.then,D||f(k,"then",(function(t,e){var n=this;return new z((function(t,e){l(o,n,t,e)})).then(t,e)}),{unsafe:!0});try{delete k.constructor}catch(t){}h&&h(k,N)}a({global:!0,constructor:!0,wrap:!0,forced:A},{Promise:z}),d(z,L,!1,!0),p(L)},7727:function(t,e,n){"use strict";var r=n(2109),i=n(1913),o=n(2492),a=n(7293),u=n(5005),c=n(614),s=n(6707),l=n(9478),f=n(8052),h=o&&o.prototype;if(r({target:"Promise",proto:!0,real:!0,forced:!!o&&a((function(){h.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=s(this,u("Promise")),n=c(t);return this.then(n?function(n){return l(e,t()).then((function(){return n}))}:t,n?function(n){return l(e,t()).then((function(){throw n}))}:t)}}),!i&&c(o)){var d=u("Promise").prototype.finally;h.finally!==d&&f(h,"finally",d,{unsafe:!0})}},8674:function(t,e,n){n(3401),n(821),n(4164),n(6027),n(683),n(6294)},6027:function(t,e,n){"use strict";var r=n(2109),i=n(6916),o=n(9662),a=n(8523),u=n(2534),c=n(408);r({target:"Promise",stat:!0,forced:n(612)},{race:function(t){var e=this,n=a.f(e),r=n.reject,s=u((function(){var a=o(e.resolve);c(t,(function(t){i(a,e,t).then(n.resolve,r)}))}));return s.error&&r(s.value),n.promise}})},683:function(t,e,n){"use strict";var r=n(2109),i=n(6916),o=n(8523);r({target:"Promise",stat:!0,forced:n(3702).CONSTRUCTOR},{reject:function(t){var e=o.f(this);return i(e.reject,void 0,t),e.promise}})},6294:function(t,e,n){"use strict";var r=n(2109),i=n(5005),o=n(1913),a=n(2492),u=n(3702).CONSTRUCTOR,c=n(9478),s=i("Promise"),l=o&&!u;r({target:"Promise",stat:!0,forced:o||u},{resolve:function(t){return c(l&&this===s?a:this,t)}})},4916:function(t,e,n){"use strict";var r=n(2109),i=n(2261);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},7227:function(t,e,n){"use strict";n(7710)("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),n(5631))},189:function(t,e,n){n(7227)},8783:function(t,e,n){"use strict";var r=n(8710).charAt,i=n(1340),o=n(9909),a=n(1656),u=n(6178),c="String Iterator",s=o.set,l=o.getterFor(c);a(String,"String",(function(t){s(this,{type:c,string:i(t),index:0})}),(function(){var t,e=l(this),n=e.string,i=e.index;return i>=n.length?u(void 0,!0):(t=r(n,i),e.index+=t.length,u(t,!1))}))},4723:function(t,e,n){"use strict";var r=n(6916),i=n(7007),o=n(9670),a=n(8554),u=n(7466),c=n(1340),s=n(4488),l=n(8173),f=n(1530),h=n(7651);i("match",(function(t,e,n){return[function(e){var n=s(this),i=a(e)?void 0:l(e,t);return i?r(i,e,n):new RegExp(e)[t](c(n))},function(t){var r=o(this),i=c(t),a=n(e,r,i);if(a.done)return a.value;if(!r.global)return h(r,i);var s=r.unicode;r.lastIndex=0;for(var l,d=[],p=0;null!==(l=h(r,i));){var v=c(l[0]);d[p]=v,""===v&&(r.lastIndex=f(i,u(r.lastIndex),s)),p++}return 0===p?null:d}]}))},5306:function(t,e,n){"use strict";var r=n(2104),i=n(6916),o=n(1702),a=n(7007),u=n(7293),c=n(9670),s=n(614),l=n(8554),f=n(9303),h=n(7466),d=n(1340),p=n(4488),v=n(1530),m=n(8173),g=n(647),b=n(7651),y=n(5112)("replace"),x=Math.max,S=Math.min,I=o([].concat),w=o([].push),P=o("".indexOf),E=o("".slice),C="$0"==="a".replace(/./,"$0"),T=!!/./[y]&&""===/./[y]("a","$0");a("replace",(function(t,e,n){var o=T?"$":"$0";return[function(t,n){var r=p(this),o=l(t)?void 0:m(t,y);return o?i(o,t,r,n):i(e,d(r),t,n)},function(t,i){var a=c(this),u=d(t);if("string"==typeof i&&-1===P(i,o)&&-1===P(i,"$<")){var l=n(e,a,u,i);if(l.done)return l.value}var p=s(i);p||(i=d(i));var m=a.global;if(m){var y=a.unicode;a.lastIndex=0}for(var C=[];;){var T=b(a,u);if(null===T)break;if(w(C,T),!m)break;""===d(T[0])&&(a.lastIndex=v(u,h(a.lastIndex),y))}for(var O,L="",A=0,R=0;R<C.length;R++){for(var D=d((T=C[R])[0]),j=x(S(f(T.index),u.length),0),_=[],k=1;k<T.length;k++)w(_,void 0===(O=T[k])?O:String(O));var z=T.groups;if(p){var N=I([D],_,j,u);void 0!==z&&w(N,z);var M=d(r(i,void 0,N))}else M=g(D,u,j,_,z,i);j>=A&&(L+=E(u,A,j)+M,A=j+D.length)}return L+E(u,A)}]}),!!u((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}))||!C||T)},4747:function(t,e,n){var r=n(7854),i=n(8324),o=n(8509),a=n(8533),u=n(8880),c=function(t){if(t&&t.forEach!==a)try{u(t,"forEach",a)}catch(e){t.forEach=a}};for(var s in i)i[s]&&c(r[s]&&r[s].prototype);c(o)},3948:function(t,e,n){var r=n(7854),i=n(8324),o=n(8509),a=n(6992),u=n(8880),c=n(5112),s=c("iterator"),l=c("toStringTag"),f=a.values,h=function(t,e){if(t){if(t[s]!==f)try{u(t,s,f)}catch(e){t[s]=f}if(t[l]||u(t,l,e),i[e])for(var n in a)if(t[n]!==a[n])try{u(t,n,a[n])}catch(e){t[n]=a[n]}}};for(var d in i)h(r[d]&&r[d].prototype,d);h(o,"DOMTokenList")},4616:function(e){"use strict";e.exports=t}},n={};function r(t){var i=n[t];if(void 0!==i)return i.exports;var o=n[t]={exports:{}};return e[t](o,o.exports,r),o.exports}r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,{a:e}),e},r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};var i={};return function(){"use strict";function t(e,n){return t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},t(e,n)}function e(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,t(e,n)}r.d(i,{default:function(){return Se}});r(1249),r(1038),r(8783),r(1539);var n,o=r(4616),a=o.PDFUI,u=o.UIXAddon,c=o.SeniorComponentFactory,s=o.modular,l=o.ServiceScope,f=o.Directive,h=o.Controller,d=o.Component,p=o.ContainerComponent,v=o.shared,m=v.keyboardStatus,g=v.attachContextMenuEvent,b=(v.addEventListener,o.PDFViewCtrl),y=b.PDFViewer,x=b.ViewerEvents,S=b.DeviceInfo,I=b.BrowserInfo,w=b.shared,P=w.Disposable,E=w.Store,C=(w.debounce,w.observeResize),T=(w.throttle,w.Draggable,w.browser,w.DebounceAsyncTaskExecutor,w.ThrottleAsyncTaskExecutor,w.QueuedAsyncTaskExecutor,w.BuiltinIntersectionObserver),O=w.FileFormat,L=(b.Log.LoggerFactory,b.collab.COLLABORATION_ACTION),A=b.vendors.Hammer,R=b.PDF.DataEvents,D=b.Consts.PDFDocPermission,j=b.keyboard,_=(j.BuiltinShortcutCommand,j.BuiltinShortcutContext,j.KeyboardUtils),k=b._internal.shared,z=(k.IoCScope,k.Lazy),N=r(3358),M=r.n(N),V=(r(4553),"zoom"),F=function(){function t(){this.initScaleLevel=S.isMobile?2:3,this.scaleLevel=this.initScaleLevel,this.zoomToScaleRatio=0,this.store=new E}var e=t.prototype;return e.allInjected=function(){this.availableScaleValues=[.24,.48,.72,.96,1.2,1.44,1.68,1.92,2.16,2.4],this.zoomToScaleRatio=this.availableScaleValues[this.initScaleLevel],this.dispatchScaleLevelChange()},e.setInitializeScaleLevel=function(t){void 0===t&&(t=3),t>=0&&t<this.availableScaleValues.length&&(this.scaleLevel=~~t)},e.zoomIn=function(){return!(this.scaleLevel>=this.availableScaleValues.length-1)&&(this.scaleLevel++,this.zoomToScaleRatio=this.availableScaleValues[this.scaleLevel],this.dispatchScaleLevelChange(),!0)},e.zoomOut=function(){return!(this.scaleLevel<=0)&&(this.scaleLevel--,this.zoomToScaleRatio=this.availableScaleValues[this.scaleLevel],this.dispatchScaleLevelChange(),!0)},e.zoomTo=function(t){if(t>10||t<0)return!1;var e=this.availableScaleValues.indexOf(t);if(-1===e){var n=this.availableScaleValues.findIndex((function(e){return e>t}))-1,r=this.availableScaleValues[n],i=this.availableScaleValues[n+1];this.scaleLevel=void 0===i||t-r<=i-t?n:n+1}else this.scaleLevel=e;return this.zoomToScaleRatio=t,this.dispatchScaleLevelChange(),!0},e.resetScale=function(){this.scaleLevel=this.initScaleLevel,this.zoomToScaleRatio=this.availableScaleValues[this.scaleLevel],this.dispatchScaleLevelChange()},e.dispatchScaleLevelChange=function(){this.store.dispatch(V,this.zoomToScaleRatio)},e.isMaxScale=function(){return this.scaleLevel===this.availableScaleValues.length-1},e.isMinScale=function(){return 0===this.scaleLevel},e.isSmallScale=function(){return this.scaleLevel<this.initScaleLevel},e.getScaleRatio=function(){return this.zoomToScaleRatio},e.scaleEqualInitialize=function(){return this.scaleLevel===this.initScaleLevel},e.onScaleChanged=function(t){var e=this;return this.store.subscribe(V,(function(){return t(e.getScaleRatio(),e.isMinScale(),e.isMaxScale(),e.isSmallScale())}))},e.setAvailableScaleValues=function(t,e){this.availableScaleValues=t;var n=t.indexOf(e);return this.initScaleLevel=n,this.zoomTo(n)},t}(),U=r(9706),B=r.n(U),H=s.module("thumbnail",[]);r(2222),r(9826),r(8674),r(6992),r(189),r(3948);function $(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function W(t){return function(t){if(Array.isArray(t))return $(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return $(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}!function(t){t[t.CLICK=0]="CLICK",t[t.INTERNAL_EVENT=1]="INTERNAL_EVENT"}(n||(n={}));r(3290),r(561),r(7042),r(4747),r(2707);var G=function(){function t(t,e){this.id=t,this.pageIndex=e,this.onChangePageIndexCallback=function(){}}var e=t.prototype;return e.setPageIndex=function(t){this.pageIndex!==t&&(this.pageIndex=t,this.onChangePageIndexCallback())},e.onChangePageIndex=function(t){this.onChangePageIndexCallback=t},t}(),K=0;function q(){return"thumbnail-"+K++}function X(t,e,n){if(e&&!Array.isArray(e)&&"number"==typeof e.length){var r=e.length;return function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}(e,void 0!==n&&n<r?n:r)}return t(e,n)}var Y=function(){function t(t){this.doc=t,this.items=Array(this.doc.getPageCount()).fill(null).map((function(t,e){var n=q();return new G(n,e)}))}var e=t.prototype;return e.reload=function(){var t=this.doc.pageCache,e=this.items.reduce((function(t,e){return t[e.id]=e,t}),{});this.items=Array(this.doc.getPageCount()).fill(null).map((function(n,r){var i=t[r],o=(null==i?void 0:i.$$thumbnailId)||q();i&&(i.$$thumbnailId=o);var a=e[o];return a?(a.setPageIndex(r),a):new G(o,r)}))},e.addThumbnail=function(t){var e=t.getIndex(),n=t.$$thumbnailId=q(),r=new G(n,e);if(!(-1===this.items.findIndex((function(t){return t.pageIndex===e})))){this.items.splice(e,0,r);var i=this.items.slice(e+1);return i.forEach((function(t){t.setPageIndex(t.pageIndex+1)})),i}for(var o=this.items.length-1;o>0;){if(this.items[o].pageIndex<e){o+=1;break}o--}-1===o?this.items.push(r):(0===o&&(o+=1),this.items.splice(o,0,r))},e.removeThumbnail=function(t){-1===t&&(t=this.items.length-1),this.items.splice(t,1);var e=this.items.slice(t);return e.forEach((function(t){t.setPageIndex(t.pageIndex-1)})),e},e.removeThumbnails=function(t){var e=this,n=(t=t.map((function(t){return-1===t?e.items.length-1:t}))).slice(0).sort((function(t,e){return t>e?-1:1}));return n.forEach((function(t){e.items.splice(t,1)})),this.refreshIndex(),this.items.slice(n[n.length-1])},e.moveThumbnails=function(t,e){var n,r=this,i=t.map((function(t){return r.items[t]}));t.slice(0).sort((function(t,e){return t>e?-1:1})).forEach((function(t){t<e&&e--,r.items.splice(t,1)})),(n=this.items).splice.apply(n,[e,0].concat(X(W,i))),this.refreshIndex()},e.insertThumbnails=function(t){var e=this;t.sort((function(t,e){return t.getIndex()>e.getIndex()?1:-1})),t.forEach((function(t){var n=t.getIndex(),r=t.$$thumbnailId=q();e.items.splice(n,0,new G(r,n))})),this.refreshIndex()},e.getThumbnailId=function(t){var e,n;return null===(n=null===(e=this.items)||void 0===e?void 0:e[t])||void 0===n?void 0:n.id},e.getThumbnailItemById=function(t){return this.items.find((function(e){return e.id===t}))},e.refreshIndex=function(){this.items.forEach((function(t,e){t.setPageIndex(e)}))},e.sync=function(t){if(!t.$$thumbnailId){var e=this.getThumbnailId(t.getIndex());t.$$thumbnailId=e}},e.clear=function(){this.items=[]},e.getThumbnailItems=function(){return this.items.slice(0)},t}();var Z="thumbnail-list-updated",J="thumbnail-selected-item",Q=function(t){function r(){var e;return(e=t.apply(this,arguments)||this).store=new E,e.selectItemWay=n.INTERNAL_EVENT,e.freezed=!1,e}e(r,t),r.inject=function(){return{pdfui:a}},r.isLazy=function(){return!1};var i=r.prototype;return i.allInjected=function(){var t=this;this.clear(),this.addDestroyHook(this.pdfui.addViewerEventListener(x.willCloseDocument,(function(){t.clear()})),this.pdfui.addViewerEventListener(R.obtainsPageFromEngine,(function(e){var n;null===(n=t.thumbnailItemList)||void 0===n||n.sync(e)})),this.pdfui.addViewerEventListener(x.openFileSuccess,(function(e){t.thumbnailItemList=new Y(e),t.triggerUpdateThumbnailList()})),this.pdfui.addViewerEventListener(R.pageRemoved,(function(e){var n;null===(n=t.thumbnailItemList)||void 0===n||n.removeThumbnail(e),t.triggerUpdateThumbnailList()})),this.pdfui.addViewerEventListener(R.pagesRemoved,(function(e){var n,r=e.reduce((function(t,e){return 1===e.length?t.concat(e[0]):e.length>1?t.concat(function(t,e,n){n||(n=t>e?-1:1);for(var r=[],i=t;i<e;i+=n)r.push(i);return r.push(e),r}(e[0],e[1]-1)):t}),[]);null===(n=t.thumbnailItemList)||void 0===n||n.removeThumbnails(r),t.triggerUpdateThumbnailList()})),this.pdfui.addViewerEventListener(R.pageAdded,(function(e){var n;null===(n=t.thumbnailItemList)||void 0===n||n.addThumbnail(e),t.triggerUpdateThumbnailList()})),this.pdfui.addViewerEventListener(R.insertPages,(function(e){var n;null===(n=t.thumbnailItemList)||void 0===n||n.insertThumbnails(e),t.triggerUpdateThumbnailList()})),this.pdfui.addViewerEventListener(R.pagesReplace,(function(e,n){t.reloadThumbnailItems()})),this.pdfui.addViewerEventListener(R.pageMoved,(function(e,n){var r;null===(r=t.thumbnailItemList)||void 0===r||r.moveThumbnails([e],n),t.triggerUpdateThumbnailList()})),this.pdfui.addViewerEventListener(R.pagesMoved,(function(e,n){var r;null===(r=t.thumbnailItemList)||void 0===r||r.moveThumbnails(e,n),t.triggerUpdateThumbnailList()}))),this.triggerUpdateThumbnailList()},i.freeze=function(t){this.freezed=t},i.reloadThumbnailItems=function(){var t;null===(t=this.thumbnailItemList)||void 0===t||t.reload(),this.triggerUpdateThumbnailList()},i.triggerUpdateThumbnailList=function(){var t,e=(null===(t=this.thumbnailItemList)||void 0===t?void 0:t.getThumbnailItems())||[];this.store.dispatch(Z,e)},i.onUpdateThumbnailList=function(t){var e=this;return this.store.subscribe(Z,(function(n){if(!e.freezed)return t(n);(window.requestIdleCallback||window.setTimeout)((function(){t(n)}))}))},i.getCurrentThumbnailList=function(){return this.store.getCurrentValue(Z)||[]},i.getThumbnailItemByIndex=function(t){return this.getCurrentThumbnailList().find((function(e){return e.pageIndex===t}))},i.getThumbnailItemById=function(t){return this.getCurrentThumbnailList().find((function(e){return e.id===t}))},i.isSelected=function(t){var e,n=null===(e=this.thumbnailItemList)||void 0===e?void 0:e.getThumbnailItemById(t);return!!n&&this.getSelectedItems().has(n)},i.selectItem=function(t,e){var r,i=null===(r=this.thumbnailItemList)||void 0===r?void 0:r.getThumbnailItemById(t);if(!i)return Promise.resolve();var o=e===n.CLICK,a=this.getSelectedItems();if(o&&this.isMultipleSelectionArea()){var u=this.getCurrentThumbnailList(),c=this.lastSelectedItem;if(c){a.clear();for(var s=Math.min(c.pageIndex,i.pageIndex),l=Math.max(c.pageIndex,i.pageIndex),f=s;f<=l;f++){var h=u[f];a.add(h)}}else a.add(i),this.lastSelectedItem=i}else o&&this.isMultipleSelection()?(a.has(i)?a.size>1&&a.delete(i):a.add(i),this.lastSelectedItem=i):(a.clear(),a.add(i),this.lastSelectedItem=i);return this.selectItemWay=e,this.store.dispatch(J,a)},i.getSelectedItems=function(){return this.store.getCurrentValue(J)},i.getSelectedWay=function(){return this.selectItemWay},i.onSelectedItemChange=function(t){return this.store.subscribe(J,t)},i.isMultipleSelection=function(){return m.isCtrl},i.isMultipleSelectionArea=function(){return m.isShift},i.clear=function(){this.lastSelectedItem=void 0,this.selectItemWay=n.INTERNAL_EVENT,this.thumbnailItemList=void 0,this.store.dispatch(J,new Set),this.store.dispatch(Z,[])},r}(P),tt=function(t){function n(){return t.apply(this,arguments)||this}e(n,t),n.getName=function(){return"sidebar-panel"},n.inject=function(){return{listService:Q}};var r=n.prototype;return r.render=function(){t.prototype.render.call(this),this.bodyElement.classList.add("fv__ui-thumbnail-sidebar-body")},r.doActive=function(){t.prototype.doActive.call(this),this.listService.freeze(!1)},r.doDeactive=function(){t.prototype.doDeactive.call(this),this.listService.freeze(!0)},n}(c.createSuperClass({template:B()()}));function et(t){return et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},et(t)}function nt(t){var e=function(t,e){if("object"!==et(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==et(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===et(e)?e:String(e)}function rt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nt(r.key),r)}}H.registerComponent(tt);r(4916),r(4723);var it=r(1784),ot=r.n(it),at=(r(7941),function(){function t(){this.record={}}var e=t.prototype;return e.getOrCreate=function(t,e,n,r){var i=this.record[t]||{};this.record[t]=i;var o=t+"_"+e+"_"+n,a=i[o];return a||(i[o]=r())},e.clearThat=function(t){var e=this;if(Array.isArray(t))return t.forEach((function(t){e.record[t.$$thumbnailId]={}})),t.map((function(t){return t.$$thumbnailId}));if("string"==typeof t)return this.record[t]={},[t];var n=t.$$thumbnailId;return this.record[n]={},[n]},e.clearAll=function(){var t=Object.keys(this.record);return this.record={},t},t}()),ut="XTHUMBNAIL-CACHE-UPDATED",ct=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).thumbnailCache=new at,e.store=new E,e}e(n,t),n.scope=function(){return l.COMPONENT_TREE},n.inject=function(){return{zoomService:F,viewer:y,pdfui:a}};var r=n.prototype;return r.allInjected=function(){var t,e=this;this.addDestroyHook((function(){e.thumbnailCache.clearAll()}),this.pdfui.addViewerEventListener(x.willCloseDocument,(function(){e.thumbnailCache.clearAll()})),this.pdfui.addViewerEventListener(((t={})[R.pageRotationChanged]=function(t){e.clearCache(t)},t[R.pagesRotated]=function(t){e.clearCache(t)},t[R.pagesBoxChange]=function(t){e.clearCache(t)},t[R.annotationAdded]=function(t,n){e.clearCache(n)},t[R.annotationUpdated]=function(t,n){e.clearCache(n)},t[R.annotationRemoved]=function(t,n){e.clearCache(n)},t[R.graphicsUpdated]=function(t){e.clearCache(t)},t[R.annotationImported]=function(t,n){var r=function(){var t=n[i],r=t.newAnnots,o=t.page;r.length?e.clearCache(o):e.pdfui.getPDFPageRender(o.getIndex()).then((function(t){t.isRendered&&e.clearCache(o)}))};for(var i in n)r()},t[R.annotationAppearanceUpdated]=function(t,n){e.clearCache(n)},t[R.imageAdded]=function(t){e.clearCache(t)},t[R.afterDocumentRotation]=function(){var t=e.thumbnailCache.clearAll();e.dispatchCacheUpdate(t)},t[x.renderPageSuccess]=function(t){e.pdfui.getStateHandlerManager().then((function(n){"page-editor"!==n.getCurrentStates().getStateName()&&"touch-up-editor"!==n.getCurrentStates().getStateName()||t.getPDFPage().then((function(t){e.clearCache(t)}))}))},t)))},r.dispatchIntersectionVisibleChange=function(t,e){return this.store.dispatch(t,e)},r.onIntersectionVisibleChange=function(t,e){return this.store.subscribe(t,e)},r.clearCache=function(t){var e=this.thumbnailCache.clearThat(t);this.dispatchCacheUpdate(e)},r.dispatchCacheUpdate=function(t){this.store.dispatch(ut,t)},r.getSize=function(){var t=this.zoomService.getScaleRatio();return{width:200*t,height:300*t}},r.onCacheUpdated=function(t){return this.store.subscribe(ut,t)},r.loadThumbnail=function(t){var e=this,n=t.pageIndex;if("number"!=typeof n||n<0)throw new Error("Incorrect pageIndex: "+n);var r=this.viewer.getCurrentPDFDoc();if(!r)return Promise.resolve(void 0);var i=r.getPageCount();if(n>=i)throw new Error("Incorrect pageIndex: "+n+" is greater or equals to page count "+i);return r.getPageByIndex(n).then((function(i){var o=e.zoomService.getScaleRatio(),a=i.getRotation();return e.thumbnailCache.getOrCreate(t.id,o,a,(function(){return r.loadThumbnail({pageIndex:n,type:"image",scale:o})}))}))},n}(P);function st(t,e,n){if(e&&!Array.isArray(e)&&"number"==typeof e.length){var r=e.length;return function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}(e,void 0!==n&&n<r?n:r)}return t(e,n)}var lt=_.match,ft=_.matchers,ht=ft.Home,dt=ft.End,pt=ft.ArrowUp,vt=ft.ArrowDown,mt=function(t){function r(){var e;return(e=t.apply(this,arguments)||this)._thumbnails=[],e.ignorePageNumberChangeEvent=!1,e}e(r,t),r.getName=function(){return"thumbnail-list"},r.inject=function(){return{listService:Q,viewerService:ct}};var i,o,a,u=r.prototype;return u.allInjected=function(){var t=this;this.addDestroyHook(this.listService.onUpdateThumbnailList((function(e){t.isDestroyed||(t._thumbnails=e,t.digest(),t.selectThumbnailItemOfCurrentPage())})))},u.selectThumbnailItemOfCurrentPage=function(){var t=this;return this.pdfUI?this.pdfUI.getPDFDocRender().then((function(e){if(e){var r=e.getCurrentPageIndex(),i=t.listService.getThumbnailItemByIndex(r);i&&t.listService.selectItem(i.id,n.INTERNAL_EVENT)}})):Promise.resolve()},u.createDOMElement=function(){return document.createElement("ol")},u.postlink=function(){var e=this;t.prototype.postlink.call(this),this.observer=new T(this.element,.1),this.addDestroyHook((function(){e.observer.destroy()}),this.listService.onSelectedItemChange((function(t){if(t&&1===t.size&&e.listService.getSelectedWay()===n.CLICK){var r=t.values().next().value.pageIndex;return e.pdfUI.goToPage(r,0,0,!1)}})),this.pdfUI.addViewerEventListener(x.pageNumberChange,(function(t){if(e.ignorePageNumberChangeEvent)e.ignorePageNumberChangeEvent=!1;else{var r=t-1,i=e.listService.getThumbnailItemByIndex(r);i&&e.listService.selectItem(i.id,n.INTERNAL_EVENT)}})))},u.mounted=function(){var e=this;t.prototype.mounted.call(this),this.attachEventToElement(this.element,"keyup",(function(t){var r,i=e.listService.getCurrentThumbnailList();lt(t).when(ht,(function(){r=i[0],t.stopPropagation(),t.preventDefault()})).when(dt,(function(){var r=i[i.length-1];r&&e.listService.selectItem(r.id,n.CLICK),t.stopPropagation(),t.preventDefault()})).when(pt,(function(){var t=Array.from(e.listService.getSelectedItems()),n=(Math.min.apply(Math,st(W,t.map((function(t){return i.indexOf(t)}))))-1+i.length)%i.length;r=i[n]})).when(vt,(function(){var t=Array.from(e.listService.getSelectedItems()),n=(Math.max.apply(Math,st(W,t.map((function(t){return i.indexOf(t)}))))+1+i.length)%i.length;r=i[n]})),r&&(e.ignorePageNumberChangeEvent=!0,e.listService.selectItem(r.id,n.CLICK))}))},u.observeIntersection=function(t,e){return this.observer.observe(t,(function(t,n){e(n)}))},i=r,(o=[{key:"thumbnails",get:function(){return this._thumbnails}}])&&rt(i.prototype,o),a&&rt(i,a),Object.defineProperty(i,"prototype",{writable:!1}),r}(c.createSuperClass({template:ot()()}));H.registerComponent(mt);var gt,bt="fv__ui-thumbnail-viewer-loading",yt=((gt=document.createElement("div")).classList.add("fv__ui-thumbnail-viewer",bt),gt),xt=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).isIntersectionVisible=!1,e.unobserveIntersectionVisibleChange=function(){},e.renderSequence=0,e}e(n,t),n.getName=function(){return"thumbnail-viewer"},n.inject=function(){return{viewerService:ct,zoomService:F}};var r=n.prototype;return r.createDOMElement=function(){return yt.cloneNode()},r.setThumbnail=function(t){var e=this;this.thumbnailItem=t,t.onChangePageIndex((function(){e.isIntersectionVisible&&e.renderThumbnail()})),this.unobserveIntersectionVisibleChange(),this.unobserveIntersectionVisibleChange=this.viewerService.onIntersectionVisibleChange(t.id,(function(t){if(e.isIntersectionVisible=t,t)return e.renderThumbnail()}))},r.getThumbnailId=function(){var t;return null===(t=this.thumbnailItem)||void 0===t?void 0:t.id},r.postlink=function(){var e=this;t.prototype.postlink.call(this),this.addDestroyHook(this.pdfUI.addViewerEventListener(R.pageRotationChanged,(function(t){e.thumbnailItem&&e.thumbnailItem.pageIndex===t.getIndex()&&(e.loading(),e.isIntersectionVisible&&e.renderThumbnail())})),(function(){e.unobserveIntersectionVisibleChange()}),this.viewerService.onCacheUpdated((function(t){e.thumbnailItem&&-1!==t.indexOf(e.thumbnailItem.id)&&(e.loading(),e.isIntersectionVisible&&e.renderThumbnail())})),this.zoomService.onScaleChanged((function(){e.updateSize(e.viewerService.getSize()),e.loading(),e.isIntersectionVisible&&e.renderThumbnail()}))),this.updateSize()},r.renderThumbnail=function(){var t=this,e=this.thumbnailItem;if(!e)return Promise.resolve(!1);var n=++this.renderSequence;return this.viewerService.loadThumbnail(e).then((function(r){var i;return n<t.renderSequence||!t.isDestroyed&&(t.thumbnailImage===r||(t.updateSize(t.viewerService.getSize()),null===(i=t.thumbnailImage)||void 0===i||i.remove(),t.thumbnailImage=r,!!r&&(t.updateSize(),t.element.classList.remove(bt),t.element.appendChild(r),t.trigger("update-thumbnail",e),!0)))}))},r.getThumbnailImage=function(){return this.thumbnailImage},r.updateSize=function(t){var e=void 0===t?this.thumbnailImage||this.viewerService.getSize():t,n=e.width,r=e.height;this.element.style.cssText+="\n            width: "+n+"px;\n            height: "+r+"px;\n        "},r.loading=function(){this.element.classList.add(bt)},n}(d);H.registerComponent(xt);var St,It=((St=document.createElement("li")).classList.add("fv__ui-thumbnail-item"),St.tabIndex=0,St),wt=function(t){function r(){var e;return(e=t.apply(this,arguments)||this).isIntersectionVisible=!1,e}e(r,t),r.getName=function(){return"thumbnail-item"},r.getMetadata=function(){return{options:{thumbnail_id:"string","ofs-height":{type:"number",field:"ofsHeight",defaultValue:20},"ofs-width":{type:"number",field:"ofsWidth",defaultValue:0}}}},r.inject=function(){return{listService:Q,zoomService:F,viewerService:ct}};var i=r.prototype;return i.createDOMElement=function(){return It.cloneNode()},i.setThumbnail_id=function(t){this.thumbnailId=t,this.setAttribute("thumbnail-id",t),this.dispatchChanges(),this.updateSelectionStatus()},i.getThumbnailId=function(){return this.thumbnailId},i.prelink=function(){var e=this;t.prototype.prelink.call(this);var n=this.parent;n instanceof mt&&this.addDestroyHook(n.observeIntersection(this.element,(function(t){e.isIntersectionVisible!==t&&(e.isIntersectionVisible=t,t&&e.trigger("visible"),e.dispatchChanges())})))},i.mounted=function(){var e=this;t.prototype.mounted.call(this),this.addDestroyHook(this.listService.onSelectedItemChange((function(){e.updateSelectionStatus()})),this.zoomService.onScaleChanged((function(){e.updateSize()}))),this.attachEventToElement(this.element,"mousedown,touchstart",(function(t){e.thumbnailId&&(e.listService.isMultipleSelectionArea()||e.listService.isMultipleSelection()?e.select():e.listService.isSelected(e.thumbnailId)||e.select())})),this.attachEventToElement(this.element,"mouseup,touchend",(function(t){e.thumbnailId&&0===t.button&&e.listService.isSelected(e.thumbnailId)&&(e.listService.isMultipleSelectionArea()||e.listService.isMultipleSelection()||e.select())})),g(this.element,(function(t){e.onContextMenu(t)}))},i.updateSelectionStatus=function(){var t=this,e=this.listService.getSelectedItems();e&&(Array.from(e).find((function(e){return e.id===t.thumbnailId}))?(this.isActive||this.listService.getSelectedWay()===n.CLICK||document.activeElement!==document.body&&document.activeElement&&document.activeElement.contains(this.element)&&this.element.focus(),this.active()):this.deactive())},i.updateSize=function(){var t=this.viewerService.getSize(),e=getComputedStyle(this.element),n=parseInt(e.borderLeftWidth)+parseInt(e.borderRightWidth),r=parseInt(e.borderTopWidth)+parseInt(e.borderBottomWidth),i=Pt(t.width,this.ofsWidth)+n,o=Pt(t.height,this.ofsHeight)+r;this.element.style.cssText+="\n            width: "+i+"px;\n            height: "+o+"px;\n        "},i.doActive=function(){this.element.classList.add("fv__ui-thumbnail-item-active"),this.element.scrollIntoView({block:"nearest"})},i.doDeactive=function(){this.element.classList.remove("fv__ui-thumbnail-item-active")},i.select=function(){this.thumbnailId&&this.listService.selectItem(this.thumbnailId,n.CLICK)},i.onContextMenu=function(t){var e=this.getRoot().getComponentByName("fv--thumbnail-contextmenu");e&&(e.showAt(t.clientX+1,t.clientY+1),t.preventDefault())},i.dispatchChanges=function(){this.thumbnailId&&this.viewerService.dispatchIntersectionVisibleChange(this.thumbnailId,this.isIntersectionVisible)},r}(p);function Pt(t,e){return Math.floor(e)!==e?t*e:t+e}H.registerComponent(wt);var Et=function(){var t=document.createElement("div");return t.classList.add("fv__ui-thumbnail-page-number"),t}(),Ct=function(t){function n(){return t.apply(this,arguments)||this}e(n,t),n.getName=function(){return"page-number"};var r=n.prototype;return r.createDOMElement=function(){return Et.cloneNode()},r.setPage_index=function(t){this.element.innerText=t+1+""},n}(p);H.registerComponent(Ct);var Tt=r(87),Ot=r.n(Tt);H.registerPreConfiguredComponent("complete-thumbnail-list",{template:Ot()()});var Lt=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.getName=function(){return"enlarge-thumbnail"},n.inject=function(){return{zoomService:F}},n.prototype.zoomIn=function(){this.zoomService.zoomIn()},n}(c.createSuperClass({template:'\n        <xbutton class="fv__ui-thumbnail-tool-btn" icon-class="fv__icon-thumbnail-tool-enlarge" @on.click="$component.zoomIn()" @tooltip tooltip-title="thumbnail:zoom.zoom-in">\n    '}));H.registerComponent(Lt);var At=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.getName=function(){return"reduce-thumbnail"},n.inject=function(){return{zoomService:F}},n.prototype.zoomOut=function(){this.zoomService.zoomOut()},n}(c.createSuperClass({template:'\n        <xbutton class="fv__ui-thumbnail-tool-btn" icon-class="fv__icon-thumbnail-tool-reduce" @on.click="$component.zoomOut()"  @tooltip tooltip-title="thumbnail:zoom.zoom-out">\n    '}));H.registerComponent(At);var Rt=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.getName=function(){return"zoom-status"},n.inject=function(){return{service:F}},n.prototype.init=function(e){t.prototype.init.call(this,e);var n=this.subName;this.addDestroyHook(this.service.onScaleChanged((function(t,r,i){switch(n){case"zoomin":i?e.disable():e.enable();break;case"zoomout":r?e.disable():e.enable()}})))},n}(f);H.getRegistry().registerDirective(Rt);var Dt=r(9811),jt=r.n(Dt),_t=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.getName=function(){return"toolbar"},n}(c.createSuperClass({template:jt()()}));function kt(){return kt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kt.apply(this,arguments)}H.registerComponent(_t);r(7727),r(5306),r(8309);var zt=function(){},Nt=function(){function t(){}t.inject=function(){return{pdfui:a,viewer:y}};var e=t.prototype;return e.rotatePage=function(t,e){var n=this,r=this.viewer.getCurrentPDFDoc();return r?(this.viewer.killFocus(null),r.getPageByIndex(t).then((function(r){if(!r)return!1;var i=r.getRotation(),o=(i+e+4)%4;return o==i||r.setRotation(o).then((function(){return n.pdfui.collaborate(L.PPO_ROTATE_PAGE,{pageIndex:t,angle:90*o}),!0}))}))):Promise.resolve(!1)},e.insertBlankPageAfter=function(t){var e=this,n=this.viewer.getCurrentPDFDoc();if(!n)return Promise.resolve(!1);var r=t+1;return n.getPageByIndex(t).then((function(t){return n.insertPage(r,t.getWidth(),t.getHeight()).then((function(){return e.pdfui.collaborate(L.PPO_INSERT_PAGE,{pageIndex:r,width:t.getWidth(),height:t.getHeight()}),!0}))}))},e.deletePage=function(t){var e=this,n=this.viewer.getCurrentPDFDoc();return n?n.removePage(t).then((function(n){return e.pdfui.collaborate(L.PPO_REMOVE_PAGE,{pageIndex:t}),n})):Promise.resolve(!1)},e.deletePages=function(t){var e=this,n=this.viewer.getCurrentPDFDoc();return n?n.removePages(t).then((function(n){return e.pdfui.collaborate(L.PPO_REMOVE_PAGES,{pageRange:t}),n})):Promise.resolve(!1)},e.copyPages=function(t,e){var n=this.viewer.getCurrentPDFDoc();if(!n)return Promise.resolve(!1);var r=t.map((function(t){return[t]}));return n.copyPages(r,e).then((function(){return!0}))},e.movePages=function(t,e){var n=this.viewer.getCurrentPDFDoc();if(!n)return Promise.resolve(!1);var r=t.map((function(t){return[t]}));return n.movePagesToThenUpdatePageLabel(r,e).then((function(){return!0}))},e.mergeDoc=function(t,e){var n=this;return this.viewer.loadPDFDocByFile(e,{errorHandler:function(t,e,r,i){if(3===r.code){var o=t.getFileName(),a=n.viewer.i18n.t("thumbnail:retry.title");a=a.replace("${filename}",o||"");var u=e.password,c="",s="";return u&&(c="error",s=e.protected?"password-protect:warning.incorrect-owner-pwd":"retry.invalidPassword"),n.pdfui.promptPassword(u,a,"retry.Password","body",c,s).then((function(n){if(n)return e.password=n,i(e);var r=new Error("Invalid password value: null");return r.error=-2,r.pdfDoc=t,Promise.reject(r)}),(function(){}))}if(2===r.code)return n.pdfui.alert({message:"alert.formatError",level:"error"});throw n.pdfui.alert({message:"thumbnail:insertFailed",level:"error"}),r}}).then((function(r){if(r){var i=n.viewer.getCurrentPDFDoc();return!!i&&i.mergePDFDoc({doc:r,insertIndex:t,layerName:(e.name||"").replace(/\.pdf$/,"")}).catch(zt)}}))},t}(),Mt=function(t){function n(){return t.apply(this,arguments)||this}e(n,t),n.inject=function(){return{ppoService:Nt,thumbnailListService:Q}};var r=n.prototype;return r.mounted=function(){var e=this;t.prototype.mounted.call(this);var n=this.getPDFUI();this.addDestroyHook(n.addViewerEventListener(x.openFileSuccess,(function(){e.updateStatus()})))},r.changePermission=function(){this.updateStatus()},n}(h),Vt=function(){function t(){}t.inject=function(){return{viewer:y}};var e=t.prototype;return e.onModPermissionChange=function(t){var e=this,n=function(){e.hasModPermission().then(t)};return n(),this.viewer.eventEmitter.on(x.openFileSuccess,n),this.viewer.eventEmitter.on(x.willCloseDocument,n),this.viewer.eventEmitter.on(x.pageRemoved,n),function(){e.viewer.eventEmitter.off(x.openFileSuccess,n),e.viewer.eventEmitter.off(x.willCloseDocument,n),e.viewer.eventEmitter.off(x.pageRemoved,n)}},e.hasRotatePermission=function(){return this.hasPermission(!1)},e.hasInsertPermission=function(){return this.hasPermission(!1)},e.hasDeletePermission=function(){return this.hasPermission(!0)},e.hasModPermission=function(){return this.hasPermission(!1)},e.hasPermission=function(t){var e=this.viewer.getPDFDocRender();if(!e)return Promise.resolve(!1);var n=e.getUserPermission().getValue(),r=D.Assemble;return t&&1==e.doc.getPageCount()?Promise.resolve(!1):e.doc.isXFA().then((function(t){return!t&&0!=(n&r)}))},t}(),Ft=function(t){function n(){return t.apply(this,arguments)||this}e(n,t),n.getName=function(){return"DeletePageController"},n.inject=function(){return kt(Mt.inject(),{permissionService:Vt})};var r=n.prototype;return r.handle=function(){var t=this,e=this.getPDFUI(),n=this.thumbnailListService.getCurrentThumbnailList(),r=Array.from(this.thumbnailListService.getSelectedItems());return r.length===n.length?e.alert("thumbnail:removePageAlert"):e.confirm(r.length>1?"thumbnail:removePageConfirm":"thumbnail:deletePageConfirm").then((function(){return e.loading().then((function(n){return e.getCurrentPDFDoc().then((function(e){if(e){var n=r.map((function(t){return t.pageIndex})).sort().map((function(t){return[t]}));return t.ppoService.deletePages(n)}})).finally((function(){n.close()}))}))}),(function(){}))},r.updateStatus=function(){var t=this.component;this.permissionService.hasDeletePermission().then((function(e){e?t.unlock():t.lock()}))},n}(Mt);function Ut(t,e,n){if(e&&!Array.isArray(e)&&"number"==typeof e.length){var r=e.length;return function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}(e,void 0!==n&&n<r?n:r)}return t(e,n)}H.registerController(Ft);var Bt,Ht=function(t){function n(){return t.apply(this,arguments)||this}e(n,t),n.getName=function(){return"InsertBlankPageController"},n.inject=function(){return kt(Mt.inject(),{permissionService:Vt})};var r=n.prototype;return r.handle=function(){var t=Array.from(this.thumbnailListService.getSelectedItems());if(0!==t.length){var e=Math.max.apply(Math,Ut(W,t.map((function(t){return t.pageIndex}))));return this.ppoService.insertBlankPageAfter(e)}},r.updateStatus=function(){var t=this.component;this.permissionService.hasInsertPermission().then((function(e){e?t.unlock():t.lock()}))},n}(Mt);H.registerController(Ht),function(t){t[t.LEFT=-1]="LEFT",t[t.RIGHT=1]="RIGHT"}(Bt||(Bt={}));var $t=function(t){function n(){return t.apply(this,arguments)||this}e(n,t),n.getName=function(){return"RotateLeftController"},n.inject=function(){return kt(Mt.inject(),{permissionService:Vt})};var r=n.prototype;return r.handle=function(){var t=this,e=this.thumbnailListService.getSelectedItems();if(0!==e.size)return Promise.all(Array.from(e).map((function(e){return t.ppoService.rotatePage(e.pageIndex,Bt.LEFT)})))},r.updateStatus=function(){var t=this.component;this.permissionService.hasRotatePermission().then((function(e){e?t.unlock():t.lock()}))},n}(Mt);H.registerController($t);var Wt=function(t){function n(){return t.apply(this,arguments)||this}e(n,t),n.getName=function(){return"RotateRightController"},n.inject=function(){return kt(Mt.inject(),{permissionService:Vt})};var r=n.prototype;return r.handle=function(){var t=this,e=this.thumbnailListService.getSelectedItems();if(0!==e.size)return Promise.all(Array.from(e).map((function(e){return t.ppoService.rotatePage(e.pageIndex,Bt.RIGHT)})))},r.updateStatus=function(){var t=this.component;this.permissionService.hasRotatePermission().then((function(e){e?t.unlock():t.lock()}))},n}(Mt);H.registerController(Wt);var Gt=r(8325),Kt=r.n(Gt);H.registerPreConfiguredComponent("contextmenu",{template:Kt()()}),H.registerPreConfiguredComponent("thumbnail-contextmenu",{template:Kt()()});var qt=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.getName=function(){return"centered"},n.inject=function(){return{zoomService:F}},n.prototype.init=function(e){var n=this;t.prototype.init.call(this,e);var r=e.element,i=[],o=function(){i.forEach((function(t){t.style.cssText+="left: 0"}));var t=Array.from(r.querySelectorAll(".fv__ui-thumbnail-item"));if(0!==t.length&&0!==r.clientWidth){var e=t[0].offsetTop,n=[];t.some((function(t){return t.offsetTop!==e||(n.push(t),!1)}));var o=n.length,a=t.length%o;if(a>0){var u=t.slice(-a);u.forEach((function(t,e){var r=n[e].offsetLeft-t.offsetLeft;t.style.cssText+="left: "+r+"px"})),i=u}else i=[]}};if(window.MutationObserver){var a=new MutationObserver((function(){Promise.resolve().then(o)}));a.observe(r,{childList:!0}),this.addDestroyHook((function(){a.disconnect()}))}else{["DOMNodeInserted","DOMNodeRemoved"].forEach((function(t){r.addEventListener(t,o),n.addDestroyHook((function(){r.removeEventListener(t,o)}))}))}this.addDestroyHook(C(r,o),this.zoomService.onScaleChanged((function(){Promise.resolve().then(o)})))},n}(f);H.getRegistry().registerDirective(qt);var Xt;r(9600);!function(t){t.upper="upper",t.bottom="bottom",t.left="left",t.right="right"}(Xt||(Xt={}));var Yt=document.createElement("div");Yt.className="fv__ui-ppo-utils-helper-dom";var Zt=Yt.cloneNode(!0);Zt.setAttribute("side",Xt.upper);var Jt=Yt.cloneNode(!0);Jt.setAttribute("side",Xt.bottom);var Qt=Yt.cloneNode(!0);Qt.setAttribute("side",Xt.left);var te=Yt.cloneNode(!0);function ee(t,e){switch(e){case"vertical":Qt.remove(),te.remove(),t.appendChild(Zt),t.appendChild(Jt);break;case"row":Zt.remove(),Jt.remove(),t.appendChild(Qt),t.appendChild(te)}}function ne(){Zt.remove(),Jt.remove(),Qt.remove(),te.remove()}function re(t){switch(t){case Zt:return Xt.upper;case Jt:return Xt.bottom;case te:return Xt.right;case Qt:return Xt.left}}function ie(t,e,n,r){return t.addEventListener(e,n,r),function(){t.removeEventListener(e,n,r)}}te.setAttribute("side",Xt.right);var oe=function(){function t(t){void 0===t&&(t={offset:8,offsetHeightRatio:.06,width:2,container:document.body,side:Xt.left}),this.defaultOptions=t,this.element=document.createElement("div"),this.element.classList.add("fv__ui-thumbnail-indicator-line")}var e=t.prototype;return e.show=function(t,e){void 0===e&&(e={});var n=kt({},this.defaultOptions,e),r=n.offset,i=void 0===r?8:r,o=n.offsetHeightRatio,a=void 0===o?.06:o,u=n.width,c=void 0===u?2:u,s=n.container,l=void 0===s?document.body:s,f=n.side,h=void 0===f?Xt.left:f;if(h===Xt.left||h===Xt.right){var d=t.offsetTop,p=t.offsetHeight;if(this.element.style.cssText+="\n                top: "+(d-p*a*.5)+"px;\n                width: "+c+"px;\n                height: "+p*(1+a)+"px;\n            ",h===Xt.left){var v=t.offsetLeft;this.element.style.cssText+="\n                    left: "+(v-i)+"px;\n                "}else{var m=t.offsetLeft+t.offsetWidth;this.element.style.cssText+="\n                    left: "+(m+i)+"px;\n                "}}else this.element.style.cssText+="\n                width: "+t.offsetWidth+"px;\n                height: "+c+"px;\n                left: "+t.offsetLeft+"px;\n            ",h===Xt.upper?this.element.style.cssText+="\n                    top: "+(t.offsetTop-i)+"px;\n                ":this.element.style.cssText+="\n                    top: "+(t.offsetTop+t.offsetHeight+i)+"px;\n                ";l.appendChild(this.element)},e.hide=function(){this.element.parentElement&&this.element.parentElement.removeChild(this.element)},t}();function ae(t,e,n){if(e&&!Array.isArray(e)&&"number"==typeof e.length){var r=e.length;return function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}(e,void 0!==n&&n<r?n:r)}return t(e,n)}var ue,ce=function(t){function n(){return t.apply(this,arguments)||this}e(n,t),n.getName=function(){return"rearrange-pages"},n.inject=function(){return{listService:Q,ppoService:Nt,ppoPermission:Vt}};var r=n.prototype;return r.isDisplayInARow=function(){var t=this.component,e=t.childAt(0),n=t.childAt(1);return!(!e||!n)&&e.element.offsetTop!==n.element.offsetTop},r.componentMounted=function(){var t=this,e=this.component.element,n=new oe({container:e,width:2}),r=!1;this.addDestroyHook(this.ppoPermission.onModPermissionChange((function(t){r=t})),this.listService.onSelectedItemChange((function(t){e.querySelectorAll("[thumbnail-id][draggable]").forEach((function(t){t.removeAttribute("draggable")})),t.size>0&&e.querySelectorAll(Array.from(t).map((function(t){return"[thumbnail-id="+t.id+"]"})).join(",")).forEach((function(t){t.setAttribute("draggable","true")}))})));var i=function(t,e){var n,r,i,o,a=!1,u=function(t){if(e.usable()){var n=t.target;if(n&&e.isDragTarget(n)){var r=e.transformTarget(n);r&&(i=r,r.setAttribute("draggable","true"),e.listeners.dragstart(r,t))}}},c=function(t,o){if(void 0===o&&(o=t.target),i&&o&&e.isDragTarget(o)){var u=e.transformTarget(o);if(u){var c=re(o);if(c)return a=!1,n=c,r=u,void e.listeners.dragenter({dragFromElement:i,dragOverElement:u,side:c,sourceEvent:t});ee(u,e.detectDirection())}}},s=function(t){var o=r,u=i,c=n;r=void 0,n=void 0,i=void 0,a||o&&c&&u&&(o.removeAttribute("draggable"),e.listeners.dragend({side:c,dragFromElement:u,dragOverElement:o,sourceEvent:t}),ne())},l=[];return l.push(ie(t,"mousedown",u,!0),ie(t,"dragenter",c,!0),ie(t,"dragleave",(function(n){var r=document.elementFromPoint(n.clientX,n.clientY);t.contains(r)||(a=!0,e.listeners.dragleave())})),ie(document.body,"dragend",s,!0)),S.isTouchDevice&&l.push(ie(t,"touchstart",u,!0),ie(t,"touchmove",(function(t){if(e.usable()){var n=t.touches[0];if(n){var r=document.elementFromPoint(n.clientX,n.clientY);if(r){var i;switch(r){case Zt:case Jt:case te:case Qt:i=r;break;default:i=e.transformTarget(r)}i&&t.cancelable&&t.preventDefault(),o!==i&&i&&(o=i,c(t,i))}}}}),{capture:!0,passive:!1}),ie(document.body,"touchend",(function(t){s(t)}),!0)),I.isFirefox&&l.push(ie(t,"drop",(function(t){t.preventDefault(),t.stopPropagation()}))),function(){l.forEach((function(t){return t()}))}}(e,{usable:function(){return r},isDragTarget:function(t){return t instanceof Element&&!!t.closest(".fv__ui-thumbnail-item")},detectDirection:function(){return t.isDisplayInARow()?"vertical":"row"},transformTarget:function(t){return t instanceof Element?t.closest(".fv__ui-thumbnail-item"):null},listeners:{dragstart:function(t,e){},dragenter:function(e){var r=e.dragOverElement;n.hide();var i=e.dragOverElement.getAttribute("thumbnail-id");if(i){var o=t.getDestPageIndex(i,e.side);if(!(o<0)){var a=t.getSelectedPageIndexes();t.shouldOperationBeIgnored(a,o)||n.show(r,{side:e.side})}}},dragend:function(e){n.hide();var r=e.dragOverElement.getAttribute("thumbnail-id");r&&t.movePage(r,e)},dragleave:function(){n.hide()}}});this.addDestroyHook(i)},r.isCopyPagesOperation=function(){return!1},r.shouldOperationBeIgnored=function(t,e){if(this.isCopyPagesOperation())return!1;t.sort();var n=Math.max.apply(Math,[e].concat(ae(W,t)))+1,r=Array(n).fill(0).map((function(t,e){return e})),i=r.slice(0);return t.slice(0).sort((function(t,e){return t>e?-1:1})).forEach((function(t){t<e&&e--,i.splice(t,1)})),i.splice.apply(i,[e,0].concat(ae(W,t))),!i.some((function(t,e){return r[e]!==t}))},r.getDestPageIndex=function(t,e){var n=this.listService.getThumbnailItemById(t);if(!n)return-1;switch(e){case Xt.left:case Xt.upper:return n.pageIndex;case Xt.right:case Xt.bottom:return n.pageIndex+1}},r.getSelectedPageIndexes=function(){return Array.from(this.listService.getSelectedItems()).map((function(t){return t.pageIndex})).sort()},r.movePage=function(t,e){var n=e.side,r=this.getDestPageIndex(t,n);if(!(r<0)){var i=this.getSelectedPageIndexes();if(this.isCopyPagesOperation())this.ppoService.copyPages(i,r);else{if(this.shouldOperationBeIgnored(i,r))return;this.ppoService.movePages(i,r)}}},n}(f);H.getRegistry().registerDirective(ce),function(t){t[t.MOVE=0]="MOVE",t[t.RESIZE=1]="RESIZE",t[t.NONE=2]="NONE"}(ue||(ue={}));var se={width:12,height:12},le="fv__ui-thumbnail-visible-rect-control-resizing",fe="fv__ui-thumbnail-visible-rect-control-moving",he=Math.max,de=Math.min,pe=function(t){function n(e){var n;return(n=t.call(this)||this).element=document.createElement("div"),n.currentRatio=1,n.isVisible=!0,n.getThumbnailSize=e.getThumbnailSize,n.onPositionUpdated=e.onPositionUpdated,n.onRectUpdated=e.onRectUpdated,n.onStartOperate=e.onStartOperate,n.onEndOperate=e.onEndOperate,n.init(),n}e(n,t);var r=n.prototype;return r.init=function(){var t=this;this.element.classList.add("fv__ui-thumbnail-visible-rect-control");var e,n,r,i,o=ue.NONE,a=function(t){o!==ue.NONE&&(t.preventDefault(),t.stopPropagation())},u=new A.Manager(this.element);u.add(new A.Pan({direction:A.DIRECTION_ALL})),u.on("panstart",(function(a){r=e={left:t.element.offsetLeft,top:t.element.offsetTop},i=n={width:t.element.offsetWidth,height:t.element.offsetHeight},t.onStartOperate(o)})),u.on("panmove",(function(a){if(o===ue.MOVE){var u={left:a.deltaX,top:a.deltaY};r=t.handleMove(e,u,n)}else if(o===ue.RESIZE){var c={width:a.deltaX,height:a.deltaY};i=t.handleResize(n,c)}})),u.on("panend",(function(e){o===ue.MOVE?t.triggerPositionUpdate(r):o===ue.RESIZE&&t.triggerSizeUpdate(r,i),t.onEndOperate(o)})),this.addDestroyHook((function(){u.destroy()}),this.addEventListener("mousemove",(function(e){o=t.resolveOperationType(e.offsetX,e.offsetY),t.updateOperatingStyle(o)})),this.addEventListener("dragstart",a),this.addEventListener("pointerdown",a))},r.triggerPositionUpdate=function(t){this.onPositionUpdated({left:t.left/this.currentRatio,top:t.top/this.currentRatio})},r.triggerSizeUpdate=function(t,e){this.onRectUpdated({left:t.left/this.currentRatio,top:t.top/this.currentRatio,width:e.width/this.currentRatio,height:e.height/this.currentRatio})},r.handleResize=function(t,e){var n=t.width+e.width,r=t.height+e.height,i=this.getThumbnailSize(),o=i.width-this.element.offsetLeft,a=i.height-this.element.offsetTop,u=he(se.width,de(n,o)),c=he(se.height,de(r,a));return this.element.style.cssText+="\n            width: "+u+"px;\n            height: "+c+"px;\n        ",{width:u,height:c}},r.handleMove=function(t,e,n){var r=this.getThumbnailSize(),i=r.width-n.width,o=r.height-n.height,a=t.left+e.left,u=t.top+e.top,c=he(0,de(a,i)),s=he(0,de(u,o));return this.element.style.cssText+="\n            left: "+c+"px;\n            top: "+s+"px;\n        ",{left:c,top:s}},r.resolveOperationType=function(t,e){var n=this.element.offsetWidth-6,r=this.element.offsetHeight-6;return t>=n&&e>=r?ue.RESIZE:t<=6||t>=n||e<=6||e>=r?ue.MOVE:ue.NONE},r.updateOperatingStyle=function(t){switch(this.element.classList.remove(le),this.element.classList.remove(fe),t){case ue.RESIZE:this.element.classList.add(le);break;case ue.MOVE:this.element.classList.add(fe)}},r.addEventListener=function(t,e){var n=this;return this.element.addEventListener(t,e),function(){n.element.removeEventListener(t,e)}},r.show=function(){this.isVisible=!0,this.element.classList.remove("fv__ui-hide")},r.hide=function(){this.isVisible=!1,this.element.classList.add("fv__ui-hide")},r.update=function(t,e){var n=this.getThumbnailSize(),r=e.width,i=e.height,o=n.width/t.width;this.currentRatio=o,this.element.style.cssText+="\n            left: "+e.left*o+"px;\n            top: "+e.top*o+"px;\n            width: "+r*o+"px;\n            height: "+i*o+"px;\n        "},n}(P),ve=function(t){function n(){return t.apply(this,arguments)||this}e(n,t),n.getName=function(){return"visible-rect-control"},n.inject=function(){return{listService:Q,viewer:y}};var r=n.prototype;return r.init=function(e){var n=this;if(t.prototype.init.call(this,e),!(e instanceof xt))throw new Error("The directive @"+this.attrName+" must be used on <thumbnail:thumbnail-viewer> component!");z.property(this,"control",(function(){var t=!1,r=new pe({getThumbnailSize:function(){return n.getThumbnailSize()},onPositionUpdated:function(t){return n.updatePagePosition(t)},onRectUpdated:function(t){return n.updatePageRect(t)},onStartOperate:function(){t=!0},onEndOperate:function(){t=!1}});e.element.appendChild(r.element);var i=n.viewer.getPDFViewerRender();return n.addDestroyHook(i.scrollWrap.addScrollEventListener((function(){t||n.updateVisibleRect()}))),r})),this.addDestroyHook(e.on("update-thumbnail",(function(){n.updateVisibleRect()})),e.pdfUI.addViewerEventListener(x.renderPageSuccess,(function(t){var e=n.getPageRender(),r=z.isPropertyIntialized(n,"control")?n.control:void 0;(e===t||(null==r?void 0:r.isVisible))&&n.updateVisibleRect()})))},r.getThumbnailSize=function(){var t=this.component.getThumbnailImage();return t?{width:t.width,height:t.height}:{width:0,height:0}},r.updatePagePosition=function(t){var e=this.getPageRender();if(e){var n=e.getCurrentVisibleRect(),r=t.left-n.left,i=t.top-n.top;this.viewer.getPDFViewerRender().scrollWrap.scrollBy(r,i)}},r.updatePageRect=function(t){var e=this;if(this.viewer.getPDFViewerRender()){var n=this.getPageRender();if(n){var r=n.getCurrentVisibleRect(),i=r.width/t.width,o=r.height/t.height,a=Math.min(i,o),u=n.scale,c=n.rotate,s=u*a;n.getPDFPage().then((function(r){var i=r.reverseDevicePoint([t.left,t.top],u,c),o=i[0],a=i[1];e.component.pdfUI.zoomTo(s,{pageIndex:n.index,x:o,y:a})}))}}},r.getPageRender=function(){var t=this.component.getThumbnailId();if(t){var e=this.viewer.getPDFDocRender();if(e){var n=this.listService.getThumbnailItemById(t);if(n){var r=e.getPDFPageRender(n.pageIndex);if(r)return r}}}},r.updateVisibleRect=function(){var t=this.viewer.getPDFDocRender();if(t){var e=this.getPageRender();if(e)if(t.getCurrentPageIndex()===e.index){this.control.show();var n=e.getCurrentVisibleRect(),r={width:e.$ui.width(),height:e.$ui.height()};this.control.update(r,n)}else z.isPropertyIntialized(this,"control")&&this.control.hide()}},n}(f);H.getRegistry().registerDirective(ve);var me=r(5355),ge=r.n(me);s.root().registerPreConfiguredComponent("thumbnail-sidebar-panel",{template:ge()()});var be=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).text="thumbnail:contextmenu.deletePage",e}return e(n,t),n.getName=function(){return"delete-page-contextmenu-item"},n.inject=function(){return{thumbnailListService:Q}},n.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this),this.addDestroyHook(this.parent.on("shown",(function(){e.thumbnailListService.getSelectedItems().size>1?e.text="thumbnail:contextmenu.delete":e.text="thumbnail:contextmenu.deletePage",e.digest(!0)})))},n}(c.createSuperClass({template:'\n        <contextmenu-item feature="delete" @controller="thumbnail:DeletePageController" @setter.text="$component.text"></contextmenu-item>\n    '}));H.registerComponent(be);var ye=function(t){function n(){return t.apply(this,arguments)||this}e(n,t),n.getName=function(){return"drop-to-merge-doc"},n.inject=function(){return{ppoFeaturesService:Nt,listService:Q,ppoPermissionService:Vt,viewer:y}};var r=n.prototype;return r.init=function(e){t.prototype.init.call(this,e),e.setAttribute("draggable","true")},r.componentMounted=function(){var t=this;if(!S.isMobile){var e,n,r,i,o=this.component.element,a=new oe({container:o});n={usable:function(){return!0},isDragTarget:function(t){return t instanceof Element&&!!t.closest(".fv__ui-thumbnail-item")},transformTarget:function(t){return t instanceof Element?t.closest(".fv__ui-thumbnail-item"):null},detectDirection:function(){return t.isDisplayInARow()?"vertical":"row"},listeners:{dragover:function(t){a.show(t.dragOverElement,{side:t.side})},drop:function(e){a.hide();var n=e.fileList[0];if(n){var r=t.getDropOverPageIndex(e.dragOverElement,e.side);-1!==r&&t.mergeFile(n,r)}},dragleave:function(){a.hide()},abort:function(){a.hide()}}},ie(e=o,"dragover",(function(t){var e;if(t.preventDefault(),I.isSafari||(null===(e=t.dataTransfer)||void 0===e?void 0:e.items.length)){var o=t.target;if(o&&n.isDragTarget(o)){var a=n.transformTarget(o);if(a){var u=re(o);if(u)return r=u,i=a,void n.listeners.dragover({dragOverElement:a,side:u,sourceEvent:t});ee(a,n.detectDirection())}}}}),!0),ie(e,"dragleave",(function(t){var o=document.elementFromPoint(t.clientX,t.clientY);i&&r&&!e.contains(o)&&n.listeners.dragleave()})),ie(e,"drop",(function(t){var e;t.preventDefault();var o=null===(e=t.dataTransfer)||void 0===e?void 0:e.files,a=r,u=i;r=void 0,i=void 0,o&&a&&u?(n.listeners.drop({fileList:o,side:a,dragOverElement:u}),ne()):n.listeners.abort()}))}},r.getDropOverPageIndex=function(t,e){var n=t.getAttribute("thumbnail-id");if(n){var r=this.listService.getThumbnailItemById(n);if(r)switch(e){case Xt.left:case Xt.upper:return r.pageIndex;case Xt.right:case Xt.bottom:return r.pageIndex+1}}var i=this.viewer.getCurrentPDFDoc();return i?i.getPageCount():-1},r.mergeFile=function(t,e){var n=this,r=this.component.getPDFUI(),i=function(){r.alert({message:"alert.formatError",level:"error"})};this.viewer.getCurrentPDFDoc()&&O.isPDFFile(t).then((function(o){o?r.loading().then((function(r){try{return n.ppoFeaturesService.mergeDoc(e,t).finally((function(){r.close()}))}catch(t){throw r.close(),t}})):i()}),(function(t){i()}))},r.isDisplayInARow=function(){var t=this.component,e=t.childAt(0),n=t.childAt(1);return!(!e||!n)&&e.element.offsetTop!==n.element.offsetTop},r.checkPermission=function(){var t=this;return this.ppoPermissionService.hasModPermission().then((function(e){t.component.ableModDoc=e}))},n}(f);H.getRegistry().registerDirective(ye);var xe=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).permissionChecker={rotate:function(){return e.permissionService.hasRotatePermission()},delete:function(){return e.permissionService.hasDeletePermission()},insert:function(){return e.permissionService.hasInsertPermission()},mod:function(){return e.permissionService.hasModPermission()}},e}return e(n,t),n.getName=function(){return"permission"},n.inject=function(){return{permissionService:Vt}},n.prototype.init=function(e){var n=this;t.prototype.init.call(this,e);var r=Object.keys(this.permissionChecker);this.addDestroyHook(e.on("shown",(function(){r.forEach((function(t){(0,n.permissionChecker[t])().then((function(n){e.querySelectorAll("[feature="+t+"]").forEach((function(t){n?t.unlock():t.lock()}))}))}))})))},n}(f);H.getRegistry().registerDirective(xe);var Se=function(t){function n(){return t.apply(this,arguments)||this}e(n,t),n.getName=function(){return"thumbnail"},n.getLoader=function(){return M()};var r=n.prototype;return r.init=function(t){this.pdfUI=t},r.zoomTo=function(t){return"number"==typeof t&&this.pdfUI.getServiceInstance(F).zoomTo(t)},r.getZoomScale=function(){return this.pdfUI.getServiceInstance(F).getScaleRatio()},r.setAvailableScaleValues=function(t,e){return!(!Array.isArray(t)||-1===t.indexOf(e))&&this.pdfUI.getServiceInstance(F).setAvailableScaleValues(t,e)},r.onSelectThumbnail=function(t){var e;return this.pdfUI.getServiceInstance(Q).onSelectedItemChange((function(n){var r=Array.from(n).map((function(t){return t.pageIndex}));e?(r.length!==e.length||r.some((function(t){return-1===e.indexOf(t)})))&&t(r,e):t(r,[]),e=r}))},n}(u)}(),i=i.default}()}));